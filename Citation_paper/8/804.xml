<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE article PUBLIC "-//NLM//DTD JATS (Z39.96) Journal Publishing DTD v1.1d3 20150301//EN" "http://jats.nlm.nih.gov/publishing/1.1d3/JATS-journalpublishing1.dtd">
<article article-type="research-article" dtd-version="1.1d3" xml:lang="en" xmlns:mml="http://www.w3.org/1998/Math/MathML" xmlns:xlink="http://www.w3.org/1999/xlink">
<front>
<journal-meta>
<journal-id journal-id-type="nlm-ta">PLoS Biol</journal-id>
<journal-id journal-id-type="publisher-id">plos</journal-id>
<journal-id journal-id-type="pmc">plosbiol</journal-id>
<journal-title-group>
<journal-title>PLOS Biology</journal-title>
</journal-title-group>
<issn pub-type="ppub">1544-9173</issn>
<issn pub-type="epub">1545-7885</issn>
<publisher>
<publisher-name>Public Library of Science</publisher-name>
<publisher-loc>San Francisco, CA USA</publisher-loc>
</publisher>
</journal-meta>
<article-meta>
<article-id pub-id-type="doi">10.1371/journal.pbio.3000295</article-id>
<article-id pub-id-type="publisher-id">PBIOLOGY-D-18-01429</article-id>
<article-categories>
<subj-group subj-group-type="heading">
<subject>Research Article</subject>
</subj-group>
<subj-group subj-group-type="Discipline-v3"><subject>Biology and life sciences</subject><subj-group><subject>Evolutionary biology</subject><subj-group><subject>Evolutionary processes</subject><subj-group><subject>Natural selection</subject></subj-group></subj-group></subj-group></subj-group><subj-group subj-group-type="Discipline-v3"><subject>Biology and life sciences</subject><subj-group><subject>Genetics</subject><subj-group><subject>Mutation</subject><subj-group><subject>Deletion mutation</subject></subj-group></subj-group></subj-group></subj-group><subj-group subj-group-type="Discipline-v3"><subject>Biology and life sciences</subject><subj-group><subject>Evolutionary biology</subject><subj-group><subject>Evolutionary processes</subject><subj-group><subject>Artificial selection</subject></subj-group></subj-group></subj-group></subj-group><subj-group subj-group-type="Discipline-v3"><subject>Biology and life sciences</subject><subj-group><subject>Genetics</subject><subj-group><subject>Heredity</subject><subj-group><subject>Epistasis</subject></subj-group></subj-group></subj-group></subj-group><subj-group subj-group-type="Discipline-v3"><subject>Biology and life sciences</subject><subj-group><subject>Cell biology</subject><subj-group><subject>Cell processes</subject><subj-group><subject>Cell cycle and cell division</subject></subj-group></subj-group></subj-group></subj-group><subj-group subj-group-type="Discipline-v3"><subject>Biology and life sciences</subject><subj-group><subject>Genetics</subject><subj-group><subject>Heredity</subject></subj-group></subj-group></subj-group><subj-group subj-group-type="Discipline-v3"><subject>Biology and life sciences</subject><subj-group><subject>Species interactions</subject></subj-group></subj-group><subj-group subj-group-type="Discipline-v3"><subject>Biology and life sciences</subject><subj-group><subject>Cell biology</subject><subj-group><subject>Cell processes</subject><subj-group><subject>Cell death</subject></subj-group></subj-group></subj-group></subj-group></article-categories>
<title-group>
<article-title>Simulations reveal challenges to artificial community selection and possible strategies for success</article-title>
<alt-title alt-title-type="running-head">Artificial selection for microbial community functions: Challenges and solutions</alt-title>
</title-group>
<contrib-group>
<contrib contrib-type="author" corresp="yes" xlink:type="simple">
<name name-style="western">
<surname>Xie</surname>
<given-names>Li</given-names>
</name>
<role content-type="http://credit.casrai.org/">Conceptualization</role>
<role content-type="http://credit.casrai.org/">Data curation</role>
<role content-type="http://credit.casrai.org/">Formal analysis</role>
<role content-type="http://credit.casrai.org/">Methodology</role>
<role content-type="http://credit.casrai.org/">Resources</role>
<role content-type="http://credit.casrai.org/">Software</role>
<role content-type="http://credit.casrai.org/">Validation</role>
<role content-type="http://credit.casrai.org/">Visualization</role>
<role content-type="http://credit.casrai.org/">Writing – original draft</role>
<role content-type="http://credit.casrai.org/">Writing – review &amp; editing</role>
<xref ref-type="aff" rid="aff001"><sup>1</sup></xref>
<xref ref-type="corresp" rid="cor001">*</xref>
</contrib>
<contrib contrib-type="author" xlink:type="simple">
<name name-style="western">
<surname>Yuan</surname>
<given-names>Alex E.</given-names>
</name>
<role content-type="http://credit.casrai.org/">Formal analysis</role>
<role content-type="http://credit.casrai.org/">Investigation</role>
<role content-type="http://credit.casrai.org/">Methodology</role>
<role content-type="http://credit.casrai.org/">Resources</role>
<role content-type="http://credit.casrai.org/">Software</role>
<role content-type="http://credit.casrai.org/">Writing – review &amp; editing</role>
<xref ref-type="aff" rid="aff001"><sup>1</sup></xref>
<xref ref-type="aff" rid="aff002"><sup>2</sup></xref>
</contrib>
<contrib contrib-type="author" corresp="yes" xlink:type="simple">
<contrib-id authenticated="true" contrib-id-type="orcid">http://orcid.org/0000-0001-5693-381X</contrib-id>
<name name-style="western">
<surname>Shou</surname>
<given-names>Wenying</given-names>
</name>
<role content-type="http://credit.casrai.org/">Conceptualization</role>
<role content-type="http://credit.casrai.org/">Data curation</role>
<role content-type="http://credit.casrai.org/">Funding acquisition</role>
<role content-type="http://credit.casrai.org/">Investigation</role>
<role content-type="http://credit.casrai.org/">Methodology</role>
<role content-type="http://credit.casrai.org/">Project administration</role>
<role content-type="http://credit.casrai.org/">Supervision</role>
<role content-type="http://credit.casrai.org/">Visualization</role>
<role content-type="http://credit.casrai.org/">Writing – original draft</role>
<role content-type="http://credit.casrai.org/">Writing – review &amp; editing</role>
<xref ref-type="aff" rid="aff001"><sup>1</sup></xref>
<xref ref-type="corresp" rid="cor001">*</xref>
</contrib>
</contrib-group>
<aff id="aff001"><label>1</label> <addr-line>Basic Sciences Division, Fred Hutchinson Cancer Research Center, Seattle, Washington, United States of America</addr-line></aff>
<aff id="aff002"><label>2</label> <addr-line>Molecular and Cellular Biology PhD program, University of Washington, Seattle, Washington, United States of America</addr-line></aff>
<contrib-group>
<contrib contrib-type="editor" xlink:type="simple">
<name name-style="western">
<surname>Siegal</surname>
<given-names>Mark L</given-names>
</name>
<role>Academic Editor</role>
<xref ref-type="aff" rid="edit1"/>
</contrib>
</contrib-group>
<aff id="edit1"><addr-line>New York University, UNITED STATES</addr-line></aff>
<author-notes>
<fn fn-type="conflict" id="coi001">
<p>The authors have declared that no competing interests exist.</p>
</fn>
<corresp id="cor001">* E-mail: <email xlink:type="simple">lxie2@fredhutch.org</email> (LX); <email xlink:type="simple">wenying.shou@gmail.com</email> (WS)</corresp>
</author-notes>
<pub-date pub-type="epub">
<day>25</day>
<month>6</month>
<year>2019</year>
</pub-date>
<pub-date pub-type="collection">
<month>6</month>
<year>2019</year>
</pub-date>
<volume>17</volume>
<issue>6</issue>
<elocation-id>e3000295</elocation-id>
<history>
<date date-type="received">
<day>5</day>
<month>12</month>
<year>2018</year>
</date>
<date date-type="accepted">
<day>13</day>
<month>5</month>
<year>2019</year>
</date>
</history>
<permissions>
<copyright-year>2019</copyright-year>
<copyright-holder>Xie et al</copyright-holder>
<license xlink:href="http://creativecommons.org/licenses/by/4.0/" xlink:type="simple">
<license-p>This is an open access article distributed under the terms of the <ext-link ext-link-type="uri" xlink:href="http://creativecommons.org/licenses/by/4.0/" xlink:type="simple">Creative Commons Attribution License</ext-link>, which permits unrestricted use, distribution, and reproduction in any medium, provided the original author and source are credited.</license-p>
</license>
</permissions>
<self-uri content-type="pdf" xlink:href="info:doi/10.1371/journal.pbio.3000295"/>
<abstract>
<p>Multispecies microbial communities often display “community functions” arising from interactions of member species. Interactions are often difficult to decipher, making it challenging to design communities with desired functions. Alternatively, similar to artificial selection for individuals in agriculture and industry, one could repeatedly choose communities with the highest community functions to reproduce by randomly partitioning each into multiple “Newborn” communities for the next cycle. However, previous efforts in selecting complex communities have generated mixed outcomes that are difficult to interpret. To understand how to effectively enact community selection, we simulated community selection to improve a community function that requires 2 species and imposes a fitness cost on one or both species. Our simulations predict that improvement could be easily stalled unless various aspects of selection were carefully considered. These aspects include promoting species coexistence, suppressing noncontributors, choosing additional communities besides the highest functioning ones to reproduce, and reducing stochastic fluctuations in the biomass of each member species in Newborn communities. These considerations can be addressed experimentally. When executed effectively, community selection is predicted to improve costly community function, and may even force species to evolve slow growth to achieve species coexistence. Our conclusions hold under various alternative model assumptions and are therefore applicable to a variety of communities.</p>
</abstract>
<abstract abstract-type="toc">
<p>Simulations allow the authors to explore the feasibility of artificially selecting for functioning microbial communities, helping to establish why community selection might fail and how one could ensure that it works.</p>
</abstract>
<funding-group>
<award-group id="award001">
<funding-source>
<institution-wrap>
<institution-id institution-id-type="funder-id">http://dx.doi.org/10.13039/100000057</institution-id>
<institution>National Institute of General Medical Sciences</institution>
</institution-wrap>
</funding-source>
<award-id>R01GM124128</award-id>
<principal-award-recipient>
<contrib-id authenticated="true" contrib-id-type="orcid">http://orcid.org/0000-0001-5693-381X</contrib-id>
<name name-style="western">
<surname>Shou</surname>
<given-names>Wenying</given-names>
</name>
</principal-award-recipient>
</award-group>
<award-group id="award002">
<funding-source>
<institution-wrap>
<institution-id institution-id-type="funder-id">http://dx.doi.org/10.13039/100000888</institution-id>
<institution>W. M. Keck Foundation</institution>
</institution-wrap>
</funding-source>
<principal-award-recipient>
<contrib-id authenticated="true" contrib-id-type="orcid">http://orcid.org/0000-0001-5693-381X</contrib-id>
<name name-style="western">
<surname>Shou</surname>
<given-names>Wenying</given-names>
</name>
</principal-award-recipient>
</award-group>
<award-group id="award003">
<funding-source>
<institution-wrap>
<institution-id institution-id-type="funder-id">http://dx.doi.org/10.13039/100005895</institution-id>
<institution>Fred Hutchinson Cancer Research Center</institution>
</institution-wrap>
</funding-source>
<award-id>Microbiome Research Initiative pilot grant</award-id>
<principal-award-recipient>
<name name-style="western">
<surname>Xie</surname>
<given-names>Li</given-names>
</name>
</principal-award-recipient>
</award-group>
<award-group id="award004">
<funding-source>
<institution>National Institute of General Medical Sci</institution>
</funding-source>
<award-id>R01GM124128</award-id>
<principal-award-recipient>
<name name-style="western">
<surname>Yuan</surname>
<given-names>Alex E.</given-names>
</name>
</principal-award-recipient>
</award-group>
<award-group id="award005">
<funding-source>
<institution-wrap>
<institution-id institution-id-type="funder-id">http://dx.doi.org/10.13039/100005895</institution-id>
<institution>Fred Hutchinson Cancer Research Center</institution>
</institution-wrap>
</funding-source>
<award-id>Salary support</award-id>
<principal-award-recipient>
<contrib-id authenticated="true" contrib-id-type="orcid">http://orcid.org/0000-0001-5693-381X</contrib-id>
<name name-style="western">
<surname>Shou</surname>
<given-names>Wenying</given-names>
</name>
</principal-award-recipient>
</award-group>
<award-group id="award006">
<funding-source>
<institution>NIH/NCI</institution>
</funding-source>
<award-id>P30 CA015704</award-id>
</award-group>
<funding-statement>Grant R01GM124128 was received from the National Institute of General Medical Sciences (<ext-link ext-link-type="uri" xlink:href="https://www.nigms.nih.gov/" xlink:type="simple">https://www.nigms.nih.gov/</ext-link>) to fund LX, AEY, and WS. Fred Hutchinson Cancer Research Center provided additional financial support (<ext-link ext-link-type="uri" xlink:href="http://www.fredhutch.org/en.html" xlink:type="simple">http://www.fredhutch.org/en.html</ext-link>) to LX and WS. The Distinguished Young Scholars program from the W. M. Keck Foundation (<ext-link ext-link-type="uri" xlink:href="http://www.wmkeck.org/" xlink:type="simple">http://www.wmkeck.org/</ext-link>) supported WS. Grant DP2 OD006498-01 was received from the National Institute of Health for the Director’s New Innovator Award (<ext-link ext-link-type="uri" xlink:href="https://commonfund.nih.gov/newinnovator" xlink:type="simple">https://commonfund.nih.gov/newinnovator</ext-link>) to support WS. This research was also supported by the High Performance Computing Shared Resource of Fred Hutchinson Cancer Research Center, which is supported by S10 SIG grant (S10OD020069-01) from the National Institute of Health (<ext-link ext-link-type="uri" xlink:href="https://www.nih.gov/" xlink:type="simple">https://www.nih.gov/</ext-link>). The funders had no role in study design, data collection and analysis, decision to publish, or preparation of the manuscript.</funding-statement>
</funding-group>
<counts>
<fig-count count="6"/>
<table-count count="2"/>
<page-count count="52"/>
</counts>
<custom-meta-group>
<custom-meta>
<meta-name>PLOS Publication Stage</meta-name>
<meta-value>uncorrected-proof</meta-value>
</custom-meta>
<custom-meta id="data-availability">
<meta-name>Data Availability</meta-name>
<meta-value>All relevant data are within the paper and its Supporting Information files.</meta-value>
</custom-meta>
</custom-meta-group>
</article-meta>
</front>
<body>
<sec id="sec001" sec-type="intro">
<title>Introduction</title>
<p>Multispecies microbial communities often display important community functions, defined as biochemical activities not achievable by member species in isolation. For example, a 6-species microbial community—but not any member species alone—cleared relapsing <italic>Clostridium difficile</italic> infections in mice [<xref ref-type="bibr" rid="pbio.3000295.ref001">1</xref>]. Community functions arise from interactions by which an individual alters the physiology of another individual. Thus, to improve community functions, one could identify and modify interactions [<xref ref-type="bibr" rid="pbio.3000295.ref002">2</xref>,<xref ref-type="bibr" rid="pbio.3000295.ref003">3</xref>]. In reality, this is no trivial task: each species can release dozens or more compounds, many of which may influence the partner species in diverse fashions [<xref ref-type="bibr" rid="pbio.3000295.ref004">4</xref>,<xref ref-type="bibr" rid="pbio.3000295.ref005">5</xref>,<xref ref-type="bibr" rid="pbio.3000295.ref006">6</xref>,<xref ref-type="bibr" rid="pbio.3000295.ref007">7</xref>]. From this myriad of interactions, one would then need to identify those critical for community function and modify them by altering species genotypes or the abiotic environment. One could also artificially assemble different combinations of species or genotypes to screen for high community function (e.g. [<xref ref-type="bibr" rid="pbio.3000295.ref008">8</xref>, <xref ref-type="bibr" rid="pbio.3000295.ref009">9</xref>, <xref ref-type="bibr" rid="pbio.3000295.ref010">10</xref>]). However, some species may not be culturable in isolation. Moreover, the number of combinations becomes very large even when testing a moderate number of species and genotypes at various ratios, although recent advance has enabled massive parallel screening of synthetic microbial communities in droplets [<xref ref-type="bibr" rid="pbio.3000295.ref011">11</xref>].</p>
<p>In an alternative approach, artificial selection of whole communities could be carried out over cycles to improve community function [<xref ref-type="bibr" rid="pbio.3000295.ref012">12</xref>–<xref ref-type="bibr" rid="pbio.3000295.ref017">17</xref>] (reviewed in [<xref ref-type="bibr" rid="pbio.3000295.ref018">18</xref>,<xref ref-type="bibr" rid="pbio.3000295.ref019">19</xref>,<xref ref-type="bibr" rid="pbio.3000295.ref020">20</xref>]; <xref ref-type="fig" rid="pbio.3000295.g001">Fig 1A</xref>). A selection cycle starts with a collection of low-density "Newborn" communities with artificially imposed boundaries (e.g., inside culture tubes). These low-density communities are incubated for a period of time ("maturation") to form "Adult" communities. During maturation, community members multiply and interact with each other and possibly mutate, and the community function of interest develops. At the end of maturation, desired Adult communities are chosen to “reproduce” such that each is randomly partitioned into multiple Newborn communities to start the next cycle. Superficially, this process may seem straightforward since "one gets what one selects for." After all, artificial selection on individuals has been successfully implemented to obtain, e.g., proteins of enhanced activities ([<xref ref-type="bibr" rid="pbio.3000295.ref021">21</xref>,<xref ref-type="bibr" rid="pbio.3000295.ref022">22</xref>,<xref ref-type="bibr" rid="pbio.3000295.ref023">23</xref>]; <xref ref-type="supplementary-material" rid="pbio.3000295.s001">S1 Fig</xref>). However, compared to artificial selection of individuals or monospecies groups, artificial selection of multispecies communities is more challenging (see detailed explanation in <xref ref-type="supplementary-material" rid="pbio.3000295.s001">S1 Fig</xref>). For example, member species critical for community function may get lost during community reproduction.</p>
<fig id="pbio.3000295.g001" position="float">
<object-id pub-id-type="doi">10.1371/journal.pbio.3000295.g001</object-id>
<label>Fig 1</label>
<caption>
<title>Community selection.</title>
<p>(A) Schematic of artificial community selection. (B) Costly community function. Dark cells contribute more to community function per cell and thus divide more slowly than light cells. In other words, high contributors are disfavored by intracommunity selection during community maturation. However, communities dominated by high contributors are favored by intercommunity selection and have a higher chance to reproduce. (C) A Helper-Manufacturer community that converts substrates into a product. Helper H consumes agricultural waste and Resource R to grow biomass, and concomitantly releases Byproduct B at no fitness cost to itself. H’s Byproduct B is required by Manufacturer M. M consumes Resource and H’s Byproduct, and invests a fraction <italic>f</italic><sub><italic>P</italic></sub> of its potential growth <italic>g</italic><sub><italic>M</italic></sub> to make Product P while channeling the remaining to biomass growth. When biomass growth ceases, Byproduct and Product are no longer made. The 5 state variables (italicized) <italic>H</italic>, <italic>M</italic>, <italic>R</italic>, <italic>B</italic>, and <italic>P</italic> correspond to the amount of H biomass, M biomass, Resource, Byproduct, and Product in a community, respectively. Agricultural waste is present in excess, and thus does not enter equations. (D) Simulating artificial selection of H-M communities. (i) In our simulations, cycles of selection were performed on a total of <italic>n</italic><sub><italic>tot</italic></sub> = 100 communities with the indicated initial conditions. At the beginning of the first cycle, each Newborn had a total biomass of the target value (<italic>BM</italic><sub><italic>target</italic></sub> = 100; 60 M and 40 H each of biomass 1). In subsequent cycles, as dictated by experiments that we simulate, each Newborn’s total biomass would fluctuate around the target total biomass <italic>BM</italic><sub><italic>target</italic></sub>, and each Newborn’s species ratio would fluctuate around its parent Adult’s species ratio. The amount of Resource in each Newborn was fixed at a value that could support a total biomass of 10<sup>4</sup> (unless otherwise stated). (ii) The maturation time <italic>T</italic> was chosen so that, for an average community, Resource was not depleted by time <italic>T</italic> (in experimental terms, this would avoid complications of the stationary phase). During maturation, Resource <italic>R</italic>, Byproduct <italic>B</italic>, Product <italic>P</italic>, and each cell’s biomass were calculated from differential equations (<xref ref-type="sec" rid="sec020">Methods</xref>, Section 6). Once a cell’s biomass had grown from 1 to 2, it divided into 2 identical daughter cells. Death occurred stochastically to individual cells (not depicted). After division, mutations (different shades of oval) occurred stochastically to change a cell’s phenotypes (e.g., M’s <italic>f</italic><sub><italic>P</italic></sub>). (iii) At the end of a cycle, community functions (total Product <italic>P</italic>(<italic>T</italic>)) were ranked. (iv) During community reproduction, high-functioning Adults were chosen and diluted into Newborns so that, on average, each Newborn had a total biomass of approximately the target biomass <italic>BM</italic><sub><italic>target</italic></sub>. A total of <italic>n</italic><sub><italic>tot</italic></sub> = 100 Newborns were generated for the next selection cycle. In this study, communities never mix. Adult, Adult community; B, Byproduct; H, Helper; M, Manufacturer; Newborn, Newborn community; P, Product; R, Resource.</p>
</caption>
<graphic mimetype="image" position="float" xlink:href="info:doi/10.1371/journal.pbio.3000295.g001" xlink:type="simple"/>
</fig>
<p>The few attempts at community selection have generated interesting results. One theoretical study simulated artificial selection on multispecies communities based on the presence or absence of a member species [<xref ref-type="bibr" rid="pbio.3000295.ref017">17</xref>]. Communities responded to selection, but only under certain conditions. In another theoretical study, multispecies communities responded to artificial selection for their ability to modify their abiotic environment in user-defined fashions [<xref ref-type="bibr" rid="pbio.3000295.ref014">14</xref>]. In both cases, the response to selection quickly leveled off, and could be generated without mutations. Thus, community selection acted entirely on species types instead of new genotypes [<xref ref-type="bibr" rid="pbio.3000295.ref014">14</xref>,<xref ref-type="bibr" rid="pbio.3000295.ref017">17</xref>]. In experiments, complex microbial communities were selected for various traits [<xref ref-type="bibr" rid="pbio.3000295.ref012">12</xref>,<xref ref-type="bibr" rid="pbio.3000295.ref013">13</xref>,<xref ref-type="bibr" rid="pbio.3000295.ref015">15</xref>,<xref ref-type="bibr" rid="pbio.3000295.ref016">16</xref>]. For example, microbial communities selected to promote early or late flowering in plants were dominated by distinct species types [<xref ref-type="bibr" rid="pbio.3000295.ref015">15</xref>]. However in other cases, a community trait may fail to improve despite selection and may improve even without selection [<xref ref-type="bibr" rid="pbio.3000295.ref012">12</xref>,<xref ref-type="bibr" rid="pbio.3000295.ref013">13</xref>].</p>
<p>Because communities used in these selection attempts were complex, much remains unknown. First, was the trait under selection a community function or achievable by a single species? If the latter, then community selection may not be needed, and the simpler task of selecting individuals or monospecies groups could be performed instead (<xref ref-type="supplementary-material" rid="pbio.3000295.s001">S1 Fig</xref>). Second, did selection act solely on species types or also on newly arising genotypes? If selection acted solely on species types [<xref ref-type="bibr" rid="pbio.3000295.ref014">14</xref>,<xref ref-type="bibr" rid="pbio.3000295.ref015">15</xref>,<xref ref-type="bibr" rid="pbio.3000295.ref017">17</xref>], then without immigration of new species to generate new variations, community function may quickly plateau [<xref ref-type="bibr" rid="pbio.3000295.ref014">14</xref>,<xref ref-type="bibr" rid="pbio.3000295.ref017">17</xref>]. If selection acted on genotypes, then community function could continue to improve as new genotypes evolve. Finally, why might a community trait sometimes fail to improve despite selection [<xref ref-type="bibr" rid="pbio.3000295.ref012">12</xref>,<xref ref-type="bibr" rid="pbio.3000295.ref013">13</xref>]?</p>
<p>In this study, we simulated artificial selection on communities with 2 defined species whose phenotypes can be modified by random mutations. Our goal is to improve a “costly” community function. A community function is costly if any community member’s fitness is reduced by contributing to that community function (<xref ref-type="fig" rid="pbio.3000295.g001">Fig 1B</xref>). Costly community functions arise when microbes are engineered to contribute. Costly community functions are particularly challenging to improve: because contributors to community function grow slower than noncontributors, noncontributors will take over during community maturation. If all Adult communities are dominated by noncontributors, then community selection will fail. To improve a costly community function, intercommunity selection (which occurs once every cycle) must overcome intracommunity selection throughout community maturation (<xref ref-type="fig" rid="pbio.3000295.g001">Fig 1B</xref>).</p>
<p>By simulating a simplified 2-species community, we could compare the efficacy of different selection regimens with relative ease, unlike experimental comparisons that would require concerted efforts from multiple labs [<xref ref-type="bibr" rid="pbio.3000295.ref024">24</xref>]. Additionally, by analyzing evolving communities—their functions and member species phenotypes—we could begin to understand evolutionary dynamics during community selection. We also designed our simulations to mimic real lab experiments so that our conclusions could guide future experiments. For example, our simulations incorporated not only chemical mechanisms of species interactions (as advocated by [<xref ref-type="bibr" rid="pbio.3000295.ref025">25</xref>,<xref ref-type="bibr" rid="pbio.3000295.ref026">26</xref>]) but also experimental procedures (e.g., pipetting cultures during community reproduction). Model parameters, including species phenotypes, mutation rate, and distribution of mutation effects, were based on a wide variety of published experiments. Note that most previous models focused on binary phenotypes (e.g., contributing or not contributing to community function) and therefore could not model community function improvement driven by the evolution of quantitative phenotypes. We show that artificial community selection can improve a costly community function, but only after circumventing a multitude of failure traps. In discussions, we will elaborate on (i) challenges and solutions to community selection; (ii) the tension between intracommunity selection versus intercommunity selection; (iii) similarity and dinstinction among selections at individual, group, versus community level; (iv) why optimizing monocultures may not lead to optimal community function; and (v) future directions.</p>
</sec>
<sec id="sec002" sec-type="results">
<title>Results</title>
<p>We will first introduce the subject of our community selection simulation: a commensal 2-species community that converts substrates to a valued product. We will then define community function and describe how we simulate artificial community selection. Using simulation results, we will demonstrate critical measures that make community selection effective. Finally, we show that our conclusions are robust under alternative model assumptions, applicable to mutualistic communities and communities whose member species may not coexist. To avoid confusion, we will use "community selection" or "selection" to describe the entire process of artificial community selection (community formation, growth, selection, and reproduction), and use "choose" or "intercommunity selection" to refer to the step in which the experimentalist decides which communities will reproduce.</p>
<sec id="sec003">
<title>A Helper-Manufacturer community that converts substrates into a product</title>
<p>Motivated by previous successes in engineering 2-species microbial communities that convert substrates into useful products [<xref ref-type="bibr" rid="pbio.3000295.ref027">27</xref>,<xref ref-type="bibr" rid="pbio.3000295.ref028">28</xref>,<xref ref-type="bibr" rid="pbio.3000295.ref029">29</xref>], we numerically simulated selection of such communities.</p>
<p>In our community, Manufacturer M can manufacture Product P of value to us (e.g., a biofuel or a drug) at a fitness cost to self, but only if assisted by Helper H (<xref ref-type="fig" rid="pbio.3000295.g001">Fig 1C</xref>). Specifically, Helper but not Manufacturer can digest an agricultural waste (e.g., cellulose), and as Helper grows biomass, Helper releases Byproduct B at no fitness cost to itself. Manufacturer requires H’s Byproduct (e.g., carbon source) to grow. In addition, Manufacturer pays the cost of <italic>f</italic><sub><italic>P</italic></sub> (0 ≤ <italic>f</italic><sub><italic>P</italic></sub> ≤ 1) fraction of its potential growth to make Product P while using the rest (1 − <italic>f</italic><sub><italic>P</italic></sub>) for its biomass growth. Both species also require a shared Resource R (e.g., nitrogen). Thus, the 2 species together—but not any species alone—can convert substrates (agricultural waste and Resource) into Product.</p>
<p>We define community function as the total amount of Product accumulated as a low-density Newborn community grows into an Adult community over maturation time <italic>T</italic>, i.e., <italic>P</italic>(<italic>T</italic>). In the Discussion section, we explain problems associated with an alternative definition of community function (e.g., per capita production; <xref ref-type="sec" rid="sec020">Methods</xref> Section 7; <xref ref-type="supplementary-material" rid="pbio.3000295.s002">S2 Fig</xref>). We will initially focus on the scenario in which community function is not costly to Helpers but incurs a fitness cost of <italic>f</italic><sub><italic>P</italic></sub> to M. Later, we will show that our conclusions also hold when community function is costly to both H and M. Below, we will describe how we simulated community selection, followed by how we chose parameters of species phenotypes and parameters of selection regimen.</p>
</sec>
<sec id="sec004">
<title>Simulating community selection</title>
<p>We simulated 4 stages of community selection (<xref ref-type="fig" rid="pbio.3000295.g001">Fig 1D</xref>) as follows: (i) forming Newborn communities, (ii) Newborn communities maturing into Adult communities, (iii) choosing high-functioning Adult communities, and (iv) reproducing the chosen Adult communities by splitting each into multiple Newborn communities of the next cycle. Our simulation was individual-based. That is, it tracked phenotypes and biomass of individual H and M cells in each community as cells grew, divided, mutated, or died. Our simulations also tracked dynamics of chemicals (including Product) in each community and accounted for actual experimental steps such as pipetting cultures during community reproduction. Below is a brief summary of our simulations, with more details in Methods (Section 6).</p>
<p>Each simulation started with <italic>n</italic><sub><italic>tot</italic></sub> (= 100) number of Newborn communities. Each Newborn community always started with a fixed amount of Resource <italic>R</italic>(0). Agricultural waste was always supplied in excess and thus did not enter our equations. In the first cycle, each Newborn community had a total biomass equal to a target value <italic>BM</italic><sub><italic>target</italic></sub> (= 100; 60 Manufacturers and 40 Helpers each of biomass 1). See <xref ref-type="sec" rid="sec013">Discussion</xref> for problems associated with not having a biomass target.</p>
<p>During community maturation, biomass of individual cells grew. The biomass growth rate of a Helper cell depended on Resource concentration (Monod equation; <xref ref-type="supplementary-material" rid="pbio.3000295.s003">S3A Fig</xref>; <xref ref-type="disp-formula" rid="pbio.3000295.e155">Eq 23</xref>). As H grew, it consumed Resource and simultaneously released Byproduct (Eqs <xref ref-type="disp-formula" rid="pbio.3000295.e151">21</xref> and <xref ref-type="disp-formula" rid="pbio.3000295.e152">22</xref>). The potential growth rate of a Manufacturer cell depended on the concentrations of Resource and H’s Byproduct (Mankad-Bungay dual-nutrient equation [<xref ref-type="bibr" rid="pbio.3000295.ref030">30</xref>]; <xref ref-type="supplementary-material" rid="pbio.3000295.s003">S3B Fig</xref>; see experimental support in <xref ref-type="supplementary-material" rid="pbio.3000295.s004">S4 Fig</xref>). As M grew, it consumed Resource and Byproduct (Eqs <xref ref-type="disp-formula" rid="pbio.3000295.e151">21</xref> and <xref ref-type="disp-formula" rid="pbio.3000295.e152">22</xref>) proportional to its potential growth rate. M grew biomass at (1 − <italic>f</italic><sub><italic>P</italic></sub>) fraction of potential growth rate (<xref ref-type="disp-formula" rid="pbio.3000295.e157">Eq 24</xref>), and released Product at a rate proportional to <italic>f</italic><sub><italic>P</italic></sub> fraction of potential growth rate (<xref ref-type="disp-formula" rid="pbio.3000295.e159">Eq 25</xref>). Once an H or M cell’s biomass grew from 1 to 2, it divided into 2 cells of equal biomass with identical phenotypes, thus capturing experimental observations of continuous biomass increase (<xref ref-type="supplementary-material" rid="pbio.3000295.s005">S5 Fig</xref>) and discrete cell division events [<xref ref-type="bibr" rid="pbio.3000295.ref031">31</xref>]. At any time, H and M cells died stochastically at a constant death rate. Although mutations can occur during any stage of the cell cycle, we assigned mutations immediately after cell division, such that each mutable phenotype of both cells mutated independently.</p>
<p>Mutable phenotypes included H and M’s "growth parameters" (maximal growth rates in excess nutrients; affinities for nutrients), and M’s cost <italic>f</italic><sub><italic>P</italic></sub>. These phenotypes have been observed to rapidly change during evolution [<xref ref-type="bibr" rid="pbio.3000295.ref032">32</xref>,<xref ref-type="bibr" rid="pbio.3000295.ref033">33</xref>,<xref ref-type="bibr" rid="pbio.3000295.ref034">34</xref>,<xref ref-type="bibr" rid="pbio.3000295.ref035">35</xref>]. Mutated phenotypes could range between 0 and their respective evolutionary upper bounds. Among mutations that alter phenotypes (denoted "mutations"), on average, half abolished the function (e.g., zero growth rate, zero affinity, or zero cost <italic>f</italic><sub><italic>P</italic></sub>) based on experiments on green fluorescent protein, viruses, and yeast [<xref ref-type="bibr" rid="pbio.3000295.ref036">36</xref>,<xref ref-type="bibr" rid="pbio.3000295.ref037">37</xref>,<xref ref-type="bibr" rid="pbio.3000295.ref038">38</xref>]. Effects of the other 50% of mutations were bilateral-exponentially distributed, enhancing or diminishing a phenotype by a few percent, based on our reanalysis of published yeast data sets (<xref ref-type="supplementary-material" rid="pbio.3000295.s006">S6 Fig</xref>) [<xref ref-type="bibr" rid="pbio.3000295.ref039">39</xref>]. We held death rates constant, because death rates were much smaller than growth rates and therefore mutations in death rates would be inconsequential. We also held release and consumption coefficients constant. This is because, e.g., the amount of Byproduct released per H biomass generated is constrained by biochemical stoichiometry.</p>
<p>At the end of community maturation time <italic>T</italic>, we compared community function <italic>P</italic>(<italic>T</italic>) (the total amount of Product accumulated in the community by time <italic>T</italic>) for each Adult community. We chose high-functioning Adults to reproduce. Each chosen Adult was randomly partitioned into Newborns with target total biomass <italic>BM</italic><sub><italic>target</italic></sub>. For example, if the chosen Adult had a total biomass of 60<italic>BM</italic><sub><italic>target</italic></sub>, then each cell would be assigned a random integer between 1 and 60, and those cells with the same random integer would be allocated to the same Newborn. Experimentally, this is equivalent to volumetric dilution using a pipette ("pipetting"). Thus, for each Newborn, the total biomass and species ratio fluctuated around their expected values in a fashion associated with pipetting (<xref ref-type="sec" rid="sec020">Methods</xref> Section 9). A total of <italic>n</italic><sub><italic>tot</italic></sub> Newborns were obtained to enter the next selection cycle.</p>
</sec>
<sec id="sec005">
<title>Choosing species: Enhancing species coexistence</title>
<p>In order to improve community function through community selection, species should ideally coexist throughout selection cycles. That is, all species should grow at a similar average growth rate within each cycle. Furthermore, species ratio should not be extreme because otherwise, the low-abundance species could be lost by chance during Newborn formation. Species coexistence at a moderate ratio has been experimentally realized in engineered communities [<xref ref-type="bibr" rid="pbio.3000295.ref027">27</xref>,<xref ref-type="bibr" rid="pbio.3000295.ref028">28</xref>,<xref ref-type="bibr" rid="pbio.3000295.ref040">40</xref>,<xref ref-type="bibr" rid="pbio.3000295.ref041">41</xref>].</p>
<p>To achieve species coexistence at a moderate ratio in the H-M community, three considerations need to be made. First, M’s cost <italic>f</italic><sub><italic>P</italic></sub> for making Product must not be too large, otherwise M would always grow slower than H and thus eventually go extinct (<xref ref-type="fig" rid="pbio.3000295.g002">Fig 2A</xref>, bottom). Second, H and M’s growth parameters (maximal growth rates in excess nutrients; affinities for nutrients) must be balanced. This is because, upon Newborn formation, H can immediately start to grow on agricultural waste and Resource, whereas M cannot grow until H’s Byproduct has accumulated to a sufficiently high level. Thus, to achieve coexistence, M must grow faster than H at some point during community maturation. Third, to achieve a moderate steady-state species ratio, metabolite release and consumption need to be balanced [<xref ref-type="bibr" rid="pbio.3000295.ref040">40</xref>]. Otherwise, the ratio between releaser and consumer can be extreme.</p>
<fig id="pbio.3000295.g002" position="float">
<object-id pub-id-type="doi">10.1371/journal.pbio.3000295.g002</object-id>
<label>Fig 2</label>
<caption>
<title>Species coexistence and optimal community function at an intermediate cost.</title>
<p>Calculations were based on Eqs <xref ref-type="disp-formula" rid="pbio.3000295.e078">6</xref>–<xref ref-type="disp-formula" rid="pbio.3000295.e082">10</xref> with H and M’s growth parameters fixed at their respective evolutionary upper bounds (<xref ref-type="table" rid="pbio.3000295.t001">Table 1</xref>, last column). (A) H and M can stably coexist at moderate to low <italic>f</italic><sub><italic>P</italic></sub>. Bottom: When <italic>f</italic><sub><italic>P</italic></sub>, the fraction of potential growth Manufacturer diverts for making Product, is high (e.g., <italic>f</italic><sub><italic>P</italic></sub> = 0.7), M will eventually go extinct (i.e., fraction of M &lt; 1 ÷ total population). Top: At moderate and low cost <italic>f</italic><sub><italic>P</italic></sub> (e.g., <italic>f</italic><sub><italic>P</italic></sub> = 0.4 and <italic>f</italic><sub><italic>P</italic></sub> = 0.1), H and M can stably coexist. That is, different initial species ratios will converge to a steady-state value. At the end of the first cycle (time <italic>T</italic> = 17), Byproduct and Resource were reset to the initial conditions at time zero (0 and 10<sup>4</sup>, respectively), and total biomass was reduced to the target value <italic>BM</italic><sub><italic>target</italic></sub> = 100, while the fraction of M biomass <italic>ϕ</italic><sub><italic>M</italic></sub> remained the same as that of the parent community. See main text for how values of maturation time and Resource were chosen. (B) Optimal community function occurs at an intermediate cost <italic>f</italic><sub><italic>P</italic></sub>. Community functions at various combinations of <italic>f</italic><sub><italic>P</italic></sub> and fraction of M biomass (out of <italic>BM</italic><sub><italic>target</italic></sub> = 100 total biomass) were computed by integrating Eqs <xref ref-type="disp-formula" rid="pbio.3000295.e078">6</xref>–<xref ref-type="disp-formula" rid="pbio.3000295.e082">10</xref>. Maximal community function <italic>P</italic>(<italic>T</italic>) is achieved at an intermediate cost <inline-formula id="pbio.3000295.e001"><alternatives><graphic id="pbio.3000295.e001g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e001" xlink:type="simple"/><mml:math display="inline" id="M1"><mml:msubsup><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow><mml:mrow><mml:mi>*</mml:mi></mml:mrow></mml:msubsup><mml:mo>=</mml:mo><mml:mn>0.41</mml:mn></mml:math></alternatives></inline-formula> (magenta dashed line) when Newborn species composition is also optimal (46 H and 54 M cells). Note that, at zero <italic>f</italic><sub><italic>P</italic></sub>, no Product would be made; at <italic>f</italic><sub><italic>P</italic></sub> = 1, M would go extinct. The maximal <italic>P</italic>*(<italic>T</italic>) could not be further improved even if we allowed all growth parameters and <italic>f</italic><sub><italic>P</italic></sub> to mutate (<xref ref-type="supplementary-material" rid="pbio.3000295.s010">S10 Fig</xref>). Thus, <italic>P</italic>*(<italic>T</italic>) is locally maximal in the sense that small deviation will always reduce <italic>P</italic>(<italic>T</italic>). Ancestral <italic>f</italic><sub><italic>P</italic></sub> (gray) is lower than <inline-formula id="pbio.3000295.e002"><alternatives><graphic id="pbio.3000295.e002g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e002" xlink:type="simple"/><mml:math display="inline" id="M2"><mml:msubsup><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow><mml:mrow><mml:mi>*</mml:mi></mml:mrow></mml:msubsup></mml:math></alternatives></inline-formula>. The central question is this: can intercommunity selection improve ancestral <italic>f</italic><sub><italic>P</italic></sub> to <inline-formula id="pbio.3000295.e003"><alternatives><graphic id="pbio.3000295.e003g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e003" xlink:type="simple"/><mml:math display="inline" id="M3"><mml:msubsup><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow><mml:mrow><mml:mi>*</mml:mi></mml:mrow></mml:msubsup></mml:math></alternatives></inline-formula> despite intracommunity selection favoring lower <italic>f</italic><sub><italic>P</italic></sub>? The Matlab code can be found in <xref ref-type="supplementary-material" rid="pbio.3000295.s031">S1 Code</xref>. H, Helper; M, Manufacturer.</p>
</caption>
<graphic mimetype="image" position="float" xlink:href="info:doi/10.1371/journal.pbio.3000295.g002" xlink:type="simple"/>
</fig>
<p>Based on these considerations and published measurements on <italic>Saccharomyces cerevisiae</italic> and <italic>Escherichia coli</italic>, we chose H and M’s ancestral growth parameters and their evolutionary upper bounds, as well as release, consumption, and death parameters (<xref ref-type="table" rid="pbio.3000295.t001">Table 1</xref>, <xref ref-type="sec" rid="sec020">Methods</xref> Section 2). Our choice of parameters ensured that throughout evolution, different species ratios would converge toward a moderate steady-state value during community maturation (<xref ref-type="fig" rid="pbio.3000295.g002">Fig 2A</xref>, top). Note that if species were not chosen properly, selection might fail due to insufficient species coexistence (<xref ref-type="fig" rid="pbio.3000295.g006">Fig 6A</xref>), although we will demonstrate that under effective community selection, requirements on species coexistence could be relaxed (<xref ref-type="fig" rid="pbio.3000295.g006">Fig 6B–6D</xref>).</p>
</sec>
<sec id="sec006">
<title>Choosing selection regimen parameters: Avoiding known failure modes</title>
<p>After choosing member species with appropriate phenotypes, we need to consider the parameters of our selection regimen (<xref ref-type="fig" rid="pbio.3000295.g001">Fig 1D</xref>). These parameters include the total number of communities under selection (<italic>n</italic><sub><italic>tot</italic></sub>), the number of Adult communities chosen to reproduce (<italic>n</italic><sub><italic>chosen</italic></sub>, the “bottleneck size” when a fraction of Adults get to reproduce), Newborn target total biomass (<italic>BM</italic><sub><italic>target</italic></sub>, the "bottleneck size" when splitting an Adult into Newborns), the amount of Resource added to each Newborn (<italic>R</italic>(0)), the amount of mutagenesis that controls the rate of phenotype-altering mutations (<italic>μ</italic>), and maturation time (<italic>T</italic>). Compared to the well-studied problem of group selection in which the unit of selection is a monospecies group [<xref ref-type="bibr" rid="pbio.3000295.ref042">42</xref>–<xref ref-type="bibr" rid="pbio.3000295.ref056">56</xref>], community selection is more challenging (<xref ref-type="sec" rid="sec013">Discussion</xref>; <xref ref-type="supplementary-material" rid="pbio.3000295.s001">S1 Fig</xref>). However, the 2 types of selections do share some common aspects (<xref ref-type="sec" rid="sec013">Discussion</xref>; <xref ref-type="supplementary-material" rid="pbio.3000295.s001">S1 Fig</xref>). Thus, we can apply group selection theory, together with other practical considerations, to better design community selection regimen.</p>
<p>Let’s begin by considering the total number of communities under selection. The highest community function achieved among a large number of communities will likely exceed that achieved among a small number of communities. However, experimentally achieving a very large number of communities can be challenging. We chose a total of 100 communities (<italic>n</italic><sub><italic>tot</italic></sub> = 100).</p>
<p><italic>n</italic><sub><italic>chosen</italic></sub>, the number of Adults chosen by the experimentalist to reproduce, reflects intercommunity selection strength. Since the top-functioning Adult is presumably the most desirable, we reproduced it into as many Newborns as possible and then reproduced the second best, etc., until we obtained <italic>n</italic><sub><italic>tot</italic></sub> Newborn communities for the next cycle (the "top-dog" strategy). In most simulations, the top-functioning community contributed approximately 60–70 Newborns. We then reproduced the next highest-functioning Adult in the same way and randomly chose enough (approximately 30–40) Newborns so that a total of <italic>n</italic><sub><italic>tot</italic></sub> = 100 Newborns were generated for the next selection cycle. Later, we will compare the top-dog strategy with other strategies employing weaker intercommunity selection strengths.</p>
<p>Whether we mix Adult communities before splitting them into Newborns could impact the efficacy of community selection. In our simulations, communities were not mixed so that noncontributors would not invade all Newborns. In other words, we created a spatially-structured environment, which is known to discourage noncontributors [<xref ref-type="bibr" rid="pbio.3000295.ref057">57</xref>–<xref ref-type="bibr" rid="pbio.3000295.ref060">60</xref>].</p>
<p>If the mutation rate is very low, then community function cannot rapidly improve. If the mutation rate is very high, then noncontributors will be generated at a high rate, and as the fast-growing noncontributors take over during community maturation, community function will likely collapse. Here, we chose <italic>μ</italic>, the rate of phenotype-altering mutations, to be biologically realistic (0.002 per cell per generation per phenotype, which is lower than the highest values observed experimentally; <xref ref-type="sec" rid="sec020">Methods</xref> Section 4).</p>
<p>If Newborn target total biomass <italic>BM</italic><sub><italic>target</italic></sub> is very large, or if the number of doublings within maturation time <italic>T</italic> is very large, then noncontributors will take over in all communities during maturation (<xref ref-type="supplementary-material" rid="pbio.3000295.s007">S7 Fig</xref>, compare B-D with A), as predicted by group selection theory. On the other hand, if <italic>BM</italic><sub><italic>target</italic></sub> and the number of generations within <italic>T</italic> are both very small, then mutations will be rare within each cycle, and many cycles will be required to improve community function. Finally, if <italic>BM</italic><sub><italic>target</italic></sub> is very small, then a member species might get lost by chance during Newborn formation. In our simulations, we chose Newborn’s target total biomass <italic>BM</italic><sub><italic>target</italic></sub> = 100 biomass (approximately 50 to 100 cells). Unless otherwise stated, we fixed the input Resource <italic>R</italic>(0) to support a maximal total biomass of 10<sup>4</sup> and chose maturation time <italic>T</italic> so that even if H and M had evolved to grow as fast as possible, total biomass would undergo approximately 6 doublings (increasing from about 100 to about 7,000). Thus, by the end of <italic>T</italic>, ≤ 70% Resource would be consumed by an average community. This meant that when implemented experimentally, we could avoid complications of Resource depletion and stationary phase while not wasting too much Resource.</p>
</sec>
<sec id="sec007">
<title>Community selection may not be effective under conditions reflecting common lab practices</title>
<p>In initial simulations, we only allowed M’s cost <italic>f</italic><sub><italic>p</italic></sub> to be modified by mutations, and we fixed H and M’s growth parameters (maximal growth rates in excess metabolites; affinities for metabolites) to their evolutionary upper bounds. Such a simplification is justified with our particular parameter choices (<xref ref-type="table" rid="pbio.3000295.t001">Table 1</xref>) for the following reasons. First, we obtained qualitatively similar conclusions regardless of whether we fixed growth parameters or not (e.g., compare final community functions in <xref ref-type="fig" rid="pbio.3000295.g002">Fig 2B and 2E</xref> versus <xref ref-type="supplementary-material" rid="pbio.3000295.s008">S8A and S8D Fig</xref>). Second, when growth parameters mutated during community selection, they improved to their evolutionary upper bounds anyways (<xref ref-type="supplementary-material" rid="pbio.3000295.s008">S8C and S8F Fig</xref>). Later, we will show an opposite case in which growth parameters were kept below their evolutionary upper bounds by effective community selection (<xref ref-type="fig" rid="pbio.3000295.g006">Fig 6</xref>). A great advantage can be gained by allowing only cost <italic>f</italic><sub><italic>p</italic></sub> to mutate: we can now calculate the theoretical maximal community function <italic>P</italic>*(<italic>T</italic>) and its associated optimal cost <inline-formula id="pbio.3000295.e004"><alternatives><graphic id="pbio.3000295.e004g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e004" xlink:type="simple"/><mml:math display="inline" id="M4"><mml:msubsup><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow><mml:mrow><mml:mi>*</mml:mi></mml:mrow></mml:msubsup><mml:mrow><mml:mo>(</mml:mo><mml:mo>=</mml:mo><mml:mn>0.41</mml:mn><mml:mo>)</mml:mo></mml:mrow></mml:math></alternatives></inline-formula> and optimal species ratio at a fixed total Newborn biomass (<xref ref-type="fig" rid="pbio.3000295.g002">Fig 2B</xref>).</p>
<p>We started simulations with M’s cost <italic>f</italic><sub><italic>p</italic></sub> lower than the optimal value <inline-formula id="pbio.3000295.e005"><alternatives><graphic id="pbio.3000295.e005g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e005" xlink:type="simple"/><mml:math display="inline" id="M5"><mml:msubsup><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow><mml:mrow><mml:mi>*</mml:mi></mml:mrow></mml:msubsup></mml:math></alternatives></inline-formula>. Could intercommunity selection increase <italic>f</italic><sub><italic>p</italic></sub> to <inline-formula id="pbio.3000295.e006"><alternatives><graphic id="pbio.3000295.e006g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e006" xlink:type="simple"/><mml:math display="inline" id="M6"><mml:msubsup><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow><mml:mrow><mml:mi>*</mml:mi></mml:mrow></mml:msubsup></mml:math></alternatives></inline-formula>, despite intracommunity natural selection favoring lower <italic>f</italic><sub><italic>p</italic></sub>?</p>
<p>As expected, in control simulations in which Adult communities were randomly chosen to reproduce, community function was driven to zero by intracommunity natural selection as fast-growing nonproducing M took over (<xref ref-type="supplementary-material" rid="pbio.3000295.s009">S9 Fig</xref>).</p>
<p>When we chose Adults using the top-dog strategy and reproduced or split them into Newborns as if via pipetting, M’s cost <italic>f</italic><sub><italic>p</italic></sub> and community function <italic>P</italic>(<italic>T</italic>) did not decline to zero but they barely improved, and both were far below their theoretical optima (<xref ref-type="fig" rid="pbio.3000295.g003">Fig 3A and 3B</xref>).</p>
<fig id="pbio.3000295.g003" position="float">
<object-id pub-id-type="doi">10.1371/journal.pbio.3000295.g003</object-id>
<label>Fig 3</label>
<caption>
<title>Community selection can be stalled by routine experimental procedures and succeeds when community function correlates with its heritable determinant or when using the top-tier strategy.</title>
<p>(A–I) Evolution dynamics when the maturation time <italic>T</italic> was sufficiently short to avoid Resource depletion and stationary phase (<italic>T = 17</italic>). (A–C) Adults were chosen using the top-dog strategy and diluted into progeny Newborns as if via pipetting (i.e., H and M biomass fluctuated around their expected values). Community selection was not effective. Average <italic>f</italic><sub><italic>p</italic></sub> and community function failed to improve to their theoretical optima, and community function poorly correlated with its heritable determinant <inline-formula id="pbio.3000295.e007"><alternatives><graphic id="pbio.3000295.e007g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e007" xlink:type="simple"/><mml:math display="inline" id="M7"><mml:msub><mml:mrow><mml:mover accent="false"><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mo>¯</mml:mo></mml:mover></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow></mml:msub><mml:mo>(</mml:mo><mml:mn>0</mml:mn><mml:mo>)</mml:mo></mml:math></alternatives></inline-formula> (the average cost paid by M in Newborn). Black and magenta dots: unchosen and chosen communities from 1 selection cycle, respectively. (D–F) Adults were chosen using the top-dog strategy. A fixed H biomass and M biomass from a chosen Adult were allocated into each progeny Newborn as if using a cell sorter. Community selection was successful. Community function also correlated with its heritable determinant <inline-formula id="pbio.3000295.e008"><alternatives><graphic id="pbio.3000295.e008g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e008" xlink:type="simple"/><mml:math display="inline" id="M8"><mml:msub><mml:mrow><mml:mover accent="false"><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mo>¯</mml:mo></mml:mover></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow></mml:msub><mml:mo>(</mml:mo><mml:mn>0</mml:mn><mml:mo>)</mml:mo></mml:math></alternatives></inline-formula>. Here, Newborn total biomass <italic>BM</italic>(0) and fraction of M biomass <italic>ϕ</italic><sub><italic>M</italic></sub>(0) were, respectively, fixed to <italic>BM</italic><sub><italic>target</italic></sub> = 100 and <italic>ϕ</italic><sub><italic>M</italic></sub>(<italic>T</italic>) of the parent Adult of the previous cycle. (G–I) When we chose the top 10% Adults and let each reproduce 10 Newborns as if via pipetting, community function improved despite poor correlation between community function and its heritable determinant <inline-formula id="pbio.3000295.e009"><alternatives><graphic id="pbio.3000295.e009g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e009" xlink:type="simple"/><mml:math display="inline" id="M9"><mml:msub><mml:mrow><mml:mover accent="false"><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mo>¯</mml:mo></mml:mover></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow></mml:msub><mml:mo>(</mml:mo><mml:mn>0</mml:mn><mml:mo>)</mml:mo></mml:math></alternatives></inline-formula>. For selection dynamics over many cycles, see <xref ref-type="supplementary-material" rid="pbio.3000295.s014">S14 Fig</xref>. (J–L) Evolution dynamics when maturation time was long (<italic>T</italic> = 20) such that, by the end of <italic>T</italic>, most Resource was consumed (stationary phase). Adults were chosen using the top-dog strategy and reproduced as if via pipetting. Community selection was successful due to high correlation between community function and its heritable determinant <inline-formula id="pbio.3000295.e010"><alternatives><graphic id="pbio.3000295.e010g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e010" xlink:type="simple"/><mml:math display="inline" id="M10"><mml:msub><mml:mrow><mml:mover accent="false"><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mo>¯</mml:mo></mml:mover></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow></mml:msub><mml:mo>(</mml:mo><mml:mn>0</mml:mn><mml:mo>)</mml:mo></mml:math></alternatives></inline-formula>, assuming that variable time in stationary phase would not introduce nonheritable variations in community function. Black, cyan, and gray curves represent independent simulation trials. <inline-formula id="pbio.3000295.e011"><alternatives><graphic id="pbio.3000295.e011g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e011" xlink:type="simple"/><mml:math display="inline" id="M11"><mml:mover accent="false"><mml:mrow><mml:mi>P</mml:mi></mml:mrow><mml:mo>¯</mml:mo></mml:mover><mml:mo>(</mml:mo><mml:mi>T</mml:mi><mml:mo>)</mml:mo></mml:math></alternatives></inline-formula> was the average of <italic>P</italic>(<italic>T</italic>) across all chosen Adults. <inline-formula id="pbio.3000295.e012"><alternatives><graphic id="pbio.3000295.e012g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e012" xlink:type="simple"/><mml:math display="inline" id="M12"><mml:msub><mml:mrow><mml:mover accent="false"><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mo>¯</mml:mo></mml:mover></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow></mml:msub><mml:mo>(</mml:mo><mml:mi>T</mml:mi><mml:mo>)</mml:mo></mml:math></alternatives></inline-formula> was obtained by first averaging among M within each chosen Adult and then averaging across all chosen Adults. The simulation codes can be found in <xref ref-type="supplementary-material" rid="pbio.3000295.s032">S2 Code</xref>, and the data can be found in <xref ref-type="supplementary-material" rid="pbio.3000295.s058">S1 Data</xref>. Adult, Adult community; H, Helper; M, Manufacturer; Newborn, Newborn community.</p>
</caption>
<graphic mimetype="image" position="float" xlink:href="info:doi/10.1371/journal.pbio.3000295.g003" xlink:type="simple"/>
</fig>
</sec>
<sec id="sec008">
<title>Common lab practices can generate sufficiently large nonheritable variations in community function that interfere with selection</title>
<p>Why did community selection fail to increase <italic>F</italic><sub><italic>P</italic></sub> and community function? One possibility is that community function was not sufficiently heritable from one cycle to the next (<xref ref-type="supplementary-material" rid="pbio.3000295.s001">S1 Fig</xref>). We therefore investigated the heredity of community function by examining the heredity of community function determinants.</p>
<p>Community function <italic>P</italic>(<italic>T</italic>) was largely determined by phenotypes of cells in the Newborn community. This is because maturation time was sufficiently short (approximately 6 doublings), and therefore newly arising genotypes could not rise to high frequencies within one cycle to significantly affect community function. Because all phenotypes except for <italic>F</italic><sub><italic>P</italic></sub> were fixed, community function had 3 independent determinants: Newborn’s total biomass <italic>BM</italic>(0), Newborn’s fraction of M biomass <italic>ϕ</italic><sub><italic>M</italic></sub>(0), and Newborn M’s average cost <inline-formula id="pbio.3000295.e013"><alternatives><graphic id="pbio.3000295.e013g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e013" xlink:type="simple"/><mml:math display="inline" id="M13"><mml:msub><mml:mrow><mml:mover accent="false"><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mo>¯</mml:mo></mml:mover></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow></mml:msub><mml:mo>(</mml:mo><mml:mn>0</mml:mn><mml:mo>)</mml:mo></mml:math></alternatives></inline-formula> (<italic>F</italic><sub><italic>P</italic></sub> averaged across all M cells in the Newborn). Note that the first 2 values can stochastically fluctuate as expected from pipetting; e.g., to pipette 100 cells, one can end up pipetting between 70 and 130 cells.</p>
<p>A community function determinant is considered heritable if it is correlated between Newborns of one cycle (<xref ref-type="fig" rid="pbio.3000295.g004">Fig 4A</xref>, bottom row) and their respective progeny Newborns in the next cycle (<xref ref-type="fig" rid="pbio.3000295.g004">Fig 4A</xref>, color-matched top row). Among the 3 determinants, <inline-formula id="pbio.3000295.e014"><alternatives><graphic id="pbio.3000295.e014g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e014" xlink:type="simple"/><mml:math display="inline" id="M14"><mml:msub><mml:mrow><mml:mover accent="false"><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mo>¯</mml:mo></mml:mover></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow></mml:msub><mml:mo>(</mml:mo><mml:mn>0</mml:mn><mml:mo>)</mml:mo></mml:math></alternatives></inline-formula> was heritable (<xref ref-type="fig" rid="pbio.3000295.g004">Fig 4B</xref>): if a Newborn community had a high average <italic>F</italic><sub><italic>P</italic></sub>, so would the mature Adult community and Newborn communities reproduced from it. On the other hand, Newborn total biomass <italic>BM</italic>(0) was not heritable (<xref ref-type="fig" rid="pbio.3000295.g004">Fig 4C</xref>). This is because when an Adult community reproduced via pipette dilution, the dilution factor was adjusted so that the total biomass of a progeny Newborn community was, on average, the target biomass <italic>BM</italic><sub><italic>target</italic></sub>. Newborn’s fraction of M biomass <italic>ϕ</italic><sub><italic>M</italic></sub>(0), which fluctuated around <italic>ϕ</italic><sub><italic>M</italic></sub>(<italic>T</italic>) of its parent Adult, was not heritable either (<xref ref-type="fig" rid="pbio.3000295.g004">Fig 4D</xref>). This is because, regardless of the species composition of Newborns, Adults would have similar steady-state species composition (<xref ref-type="fig" rid="pbio.3000295.g002">Fig 2A</xref> top panel), and so would their offspring Newborns.</p>
<fig id="pbio.3000295.g004" position="float">
<object-id pub-id-type="doi">10.1371/journal.pbio.3000295.g004</object-id>
<label>Fig 4</label>
<caption>
<title>During ineffective community selection, community function correlates weakly with its heritable determinant and strongly with nonheritable determinants.</title>
<p>(A) Schematic of community lineages across “previous” and “current” selection cycles. (B-G) Data of Newborns and corresponding Adults (previous cycle) were taken from the 180th cycle of the simulation displayed in black in <xref ref-type="fig" rid="pbio.3000295.g003">Fig 3A and 3B</xref>. We then allowed each Adult to reproduce Newborns (current cycle), forming 100 lineages (tubes with the same color outline belong to the same lineage). (B–D) Among the 3 determinants of community function, <inline-formula id="pbio.3000295.e015"><alternatives><graphic id="pbio.3000295.e015g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e015" xlink:type="simple"/><mml:math display="inline" id="M15"><mml:msub><mml:mrow><mml:mover accent="false"><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mo>¯</mml:mo></mml:mover></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow></mml:msub><mml:mo>(</mml:mo><mml:mn>0</mml:mn><mml:mo>)</mml:mo></mml:math></alternatives></inline-formula> (<italic>f</italic><sub><italic>P</italic></sub> averaged among M cells in Newborn) is heritable, but <italic>BM</italic>(0) (total biomass of Newborn) and <italic>ϕ</italic><sub><italic>M</italic></sub>(0) (fraction of M biomass in Newborn) are not. For each lineage, the community function determinant at the previous cycle was scatter plotted against the average value at the current cycle. (E–G) During ineffective community selection (<xref ref-type="fig" rid="pbio.3000295.g003">Fig 3B</xref>), community function <italic>P</italic>(<italic>T</italic>) correlates weakly with heritable determinant but strongly with nonheritable determinants. Each dot represents one community. Magenta dots: "successful" Newborns that achieved the highest community function at adulthood and therefore were chosen to reproduce in the top-dog strategy. The Matlab code for B–D can be found in <xref ref-type="supplementary-material" rid="pbio.3000295.s032">S2 Code</xref>, and the data for E–G can be found in <xref ref-type="supplementary-material" rid="pbio.3000295.s058">S1 Data</xref>. Adult, Adult community; M, Manufacturer; Newborn, Newborn community.</p>
</caption>
<graphic mimetype="image" position="float" xlink:href="info:doi/10.1371/journal.pbio.3000295.g004" xlink:type="simple"/>
</fig>
<p>In successful community selection, variations in community function should be mainly caused by variations in its heritable determinants. However, community function <italic>P</italic>(<italic>T</italic>) weakly correlated with its heritable determinant <inline-formula id="pbio.3000295.e016"><alternatives><graphic id="pbio.3000295.e016g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e016" xlink:type="simple"/><mml:math display="inline" id="M16"><mml:msub><mml:mrow><mml:mover accent="false"><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mo>¯</mml:mo></mml:mover></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow></mml:msub><mml:mo>(</mml:mo><mml:mn>0</mml:mn><mml:mo>)</mml:mo></mml:math></alternatives></inline-formula> but strongly correlated with its nonheritable determinants (<xref ref-type="fig" rid="pbio.3000295.g004">Fig 4E–4G</xref>). For example, the Newborn that would achieve the highest function had a below-median <inline-formula id="pbio.3000295.e017"><alternatives><graphic id="pbio.3000295.e017g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e017" xlink:type="simple"/><mml:math display="inline" id="M17"><mml:msub><mml:mrow><mml:mover accent="false"><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mo>¯</mml:mo></mml:mover></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow></mml:msub><mml:mo>(</mml:mo><mml:mn>0</mml:mn><mml:mo>)</mml:mo></mml:math></alternatives></inline-formula> (left magenta dot in <xref ref-type="fig" rid="pbio.3000295.g004">Fig 4E</xref>) but had high total biomass <italic>BM</italic>(0) and low fraction of M biomass <italic>ϕ</italic><sub><italic>M</italic></sub>(0) (<xref ref-type="fig" rid="pbio.3000295.g004">Fig 4F and 4G</xref>). In other words, variation in community function is largely nonheritable, because it largely arises from variation in nonheritable determinants.</p>
<p>The reason for strong correlations between <italic>P</italic>(<italic>T</italic>) and its nonheritable determinants became clear by examining community dynamics. Recall that to avoid stationary phase, we had chosen maturation time so that Resource would be in excess by the end of maturation. Thus, a "lucky" Newborn community starting with a higher-than-average total biomass would convert more Resource to Product (dotted lines in top panels of <xref ref-type="supplementary-material" rid="pbio.3000295.s011">S11 Fig</xref>). Similarly, if a Newborn started with higher-than-average fraction of Helper H biomass, then H would produce higher-than-average Byproduct, which meant that M would endure a shorter growth lag, grow more, and make more Product (dotted lines in bottom panels of <xref ref-type="supplementary-material" rid="pbio.3000295.s011">S11 Fig</xref>).</p>
<p>To summarize, when community function significantly correlated with its nonheritable determinants (<xref ref-type="fig" rid="pbio.3000295.g004">Fig 4F and 4G</xref>), community selection failed to improve community function (<xref ref-type="fig" rid="pbio.3000295.g003">Fig 3B</xref>).</p>
</sec>
<sec id="sec009">
<title>Reducing nonheritable variations in an experimentally feasible manner promotes artificial community selection</title>
<p>Reducing nonheritable variations in community function should enable community selection to work. One possibility would be to reduce stochastic fluctuations in nonheritable determinants. For example, a cell sorter could allocate to each Newborn community a fixed biomass or cell number from each species, if different species have different fluorescence [<xref ref-type="bibr" rid="pbio.3000295.ref061">61</xref>]. Indeed, in simulations, when we fixed Newborn’s total biomass and species fraction ("cell sorting"; <xref ref-type="sec" rid="sec020">Methods</xref>, Section 6), community function became strongly correlated with its heritable determinant (<xref ref-type="fig" rid="pbio.3000295.g003">Fig 3F</xref>). In this case, average cost <inline-formula id="pbio.3000295.e018"><alternatives><graphic id="pbio.3000295.e018g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e018" xlink:type="simple"/><mml:math display="inline" id="M18"><mml:msub><mml:mrow><mml:mover accent="false"><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mo>¯</mml:mo></mml:mover></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow></mml:msub></mml:math></alternatives></inline-formula> and community function <italic>P</italic>(<italic>T</italic>) both increased under selection (<xref ref-type="fig" rid="pbio.3000295.g003">Fig 3D and 3E</xref>) to near the optimal. Improvement was not seen if either Newborn total biomass or species fraction was allowed to fluctuate stochastically (<xref ref-type="supplementary-material" rid="pbio.3000295.s012">S12A Fig</xref>). Community function also improved if fixed numbers of H and M cells (instead of biomass) were allocated into each Newborn, even though each cell’s biomass fluctuated between 1 and 2 (<xref ref-type="supplementary-material" rid="pbio.3000295.s013">S13C Fig</xref>; <xref ref-type="sec" rid="sec020">Methods</xref>, Section 6).</p>
<p>Nonheritable variations in community function could also be curtailed by reducing the dependence of community function on nonheritable determinants. For example, we could extend the maturation time <italic>T</italic> to nearly deplete Resource. In this selection regimen, Newborns would still experience stochastic fluctuations in total biomass and species composition. However, all communities would end up with similar community functions, because "unlucky" communities would have time to "catch up" as "lucky" communities wait in stationary phase. Indeed, with this extended maturation time <italic>T</italic>, community function became strongly correlated with its heritable determinant <inline-formula id="pbio.3000295.e019"><alternatives><graphic id="pbio.3000295.e019g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e019" xlink:type="simple"/><mml:math display="inline" id="M19"><mml:msub><mml:mrow><mml:mover accent="false"><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mo>¯</mml:mo></mml:mover></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow></mml:msub><mml:mo>(</mml:mo><mml:mn>0</mml:mn><mml:mo>)</mml:mo><mml:mo>,</mml:mo></mml:math></alternatives></inline-formula> and community function improved without having to fix Newborn total biomass or species composition (<xref ref-type="fig" rid="pbio.3000295.g003">Fig 3J–3L</xref>). However, at long maturation time, nonheritable variations in community function could still arise from stochastic fluctuations in the duration of stationary phase (which could affect cell survival or recovery time in the next selection cycle). Thus, for most simulations, we used short maturation time unless stated otherwise.</p>
</sec>
<sec id="sec010">
<title>Choosing more communities to reproduce can promote selection when nonheritable variations hinder selection</title>
<p>Since the highest community function may not correspond to the highest <italic>f</italic><sub><italic>P</italic></sub> (<xref ref-type="fig" rid="pbio.3000295.g003">Fig 3C</xref>), we examined whether a "top-tier" strategy might outperform the top-dog strategy. In the top-tier strategy, we chose, for example, the top 10% Adults, allowing each to reproduce 10 Newborns. When we partitioned Adults into Newborns as if using pipetting, although community function failed to improve under the top-dog strategy, it improved under the top-tier strategy (<xref ref-type="fig" rid="pbio.3000295.g003">Fig 3</xref>, compare G-I with A-C). In fact, the top-tier strategy improved community function under a wide range of selection strengths (e.g., top 5% to top 50%; <xref ref-type="supplementary-material" rid="pbio.3000295.s015">S15 Fig</xref>). When we chose top 2% (2 Adults, each contributing 50 Newborns), community function did not improve (<xref ref-type="supplementary-material" rid="pbio.3000295.s015">S15 Fig</xref>). When we chose all 100 Adults (each contributing 1 Newborn), community function declined to zero as expected (<xref ref-type="supplementary-material" rid="pbio.3000295.s015">S15 Fig</xref>), because there was no intercommunity selection.</p>
<p>The superiority of top-tier over top-dog strategy rests on giving "unlucky" Adults a chance to reproduce. We reached this conclusion by noting that if we minimized nonheritable variations in community function (by fixing total biomass and species fraction in Newborns), then top-dog is superior to top-tier strategy (<xref ref-type="supplementary-material" rid="pbio.3000295.s016">S16 Fig</xref>). Also note that the top-tier strategy in the presence of nonheritable variations (pipetting; <xref ref-type="fig" rid="pbio.3000295.g003">Fig 3G–3I</xref> and <xref ref-type="supplementary-material" rid="pbio.3000295.s014">S14 Fig</xref>) does not work as effectively as eliminating nonheritable variations (cell sorting; <xref ref-type="fig" rid="pbio.3000295.g003">Fig 3D–3F</xref>).</p>
<p>As expected, uncertainty in community function measurement—another source of nonheritable variation—interferes with community selection (compare <xref ref-type="fig" rid="pbio.3000295.g003">Fig 3A and 3B</xref> with <xref ref-type="fig" rid="pbio.3000295.g005">Fig 5A</xref>; <xref ref-type="fig" rid="pbio.3000295.g003">Fig 3D and 3E</xref> with <xref ref-type="fig" rid="pbio.3000295.g005">Fig 5C</xref>). In this case, community selection can be improved by leveraging both the top-tier strategy and cell sorting (<xref ref-type="fig" rid="pbio.3000295.g005">Fig 5</xref>, compare B and C with D). This is presumably because (i) cell sorting reduces nonheritable variations in community function and (ii) the top-tier strategy gives “unlucky” communities suffering unfavorable community function measurement errors a chance to reproduce.</p>
<fig id="pbio.3000295.g005" position="float">
<object-id pub-id-type="doi">10.1371/journal.pbio.3000295.g005</object-id>
<label>Fig 5</label>
<caption>
<title>Ineffective selection due to community function measurement uncertainties can be rescued by the top-tier strategy acting in synergy with cell sorting.</title>
<p>Adult communities were chosen to reproduce based on "measured community function <italic>P</italic>(<italic>T</italic>)"—the sum of actual <italic>P</italic>(<italic>T</italic>) and an "uncertainty term" randomly drawn from a normal distribution with zero mean and standard deviations of 5% or 10% of the ancestral <italic>P</italic>(<italic>T</italic>). Dynamics of average <italic>f</italic><sub><italic>P</italic></sub> and average community function of the chosen Adult communities (<inline-formula id="pbio.3000295.e020"><alternatives><graphic id="pbio.3000295.e020g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e020" xlink:type="simple"/><mml:math display="inline" id="M20"><mml:msub><mml:mrow><mml:mover accent="false"><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mo>¯</mml:mo></mml:mover></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow></mml:msub><mml:mo>(</mml:mo><mml:mi>T</mml:mi><mml:mo>)</mml:mo></mml:math></alternatives></inline-formula> and <inline-formula id="pbio.3000295.e021"><alternatives><graphic id="pbio.3000295.e021g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e021" xlink:type="simple"/><mml:math display="inline" id="M21"><mml:mover accent="false"><mml:mrow><mml:mi>P</mml:mi></mml:mrow><mml:mo>¯</mml:mo></mml:mover><mml:mo>(</mml:mo><mml:mi>T</mml:mi><mml:mo>)</mml:mo></mml:math></alternatives></inline-formula>) are plotted. When uncertainty in community function measurement is low (5%), cell sorting largely rescues ineffective community selection (A–D, left panels). When uncertainty in community function measurement is high (10%), both cell sorting and top-tier strategy are required (A–D, right panels). Black, cyan, and gray curves represent independent simulation trials. <inline-formula id="pbio.3000295.e022"><alternatives><graphic id="pbio.3000295.e022g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e022" xlink:type="simple"/><mml:math display="inline" id="M22"><mml:mover accent="false"><mml:mrow><mml:mi>P</mml:mi></mml:mrow><mml:mo>¯</mml:mo></mml:mover><mml:mo>(</mml:mo><mml:mi>T</mml:mi><mml:mo>)</mml:mo></mml:math></alternatives></inline-formula> was averaged across the chosen Adults. <inline-formula id="pbio.3000295.e023"><alternatives><graphic id="pbio.3000295.e023g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e023" xlink:type="simple"/><mml:math display="inline" id="M23"><mml:msub><mml:mrow><mml:mover accent="false"><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mo>¯</mml:mo></mml:mover></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow></mml:msub><mml:mo>(</mml:mo><mml:mi>T</mml:mi><mml:mo>)</mml:mo></mml:math></alternatives></inline-formula> was obtained by first averaging among M within each chosen Adult and then averaging across the chosen Adults. The simulation codes can be found in <xref ref-type="supplementary-material" rid="pbio.3000295.s033">S3 Code</xref>, and the data can be found in <xref ref-type="supplementary-material" rid="pbio.3000295.s059">S2 Data</xref>. Adult, Adult community; M, Manufacturer.</p>
</caption>
<graphic mimetype="image" position="float" xlink:href="info:doi/10.1371/journal.pbio.3000295.g005" xlink:type="simple"/>
</fig>
</sec>
<sec id="sec011">
<title>Effective community selection can enforce species coexistence</title>
<p>Properly executed community selection could even improve the functions of communities whose member species may not coexist. Consider an H-M community in which, unlike the H-M community we have considered so far, H had the evolutionary potential to grow much faster than M. In this case, high community function not only required M to pay a fitness cost of <italic>f</italic><sub><italic>P</italic></sub> but also required H to pay a fitness cost by growing sufficiently slowly to not outcompete M.</p>
<p>We started community selection at ancestral growth parameters and allowed them and <italic>f</italic><sub><italic>P</italic></sub> to mutate. When community selection was ineffective (top-dog with pipetting; <xref ref-type="fig" rid="pbio.3000295.g006">Fig 6A</xref>), H’s maximal growth rate evolved to its upper bound and exceeded M’s maximal growth rate (<xref ref-type="fig" rid="pbio.3000295.g006">Fig 6A</xref>, row 3, <xref ref-type="supplementary-material" rid="pbio.3000295.s017">S17A Fig</xref>). This drove M to almost extinction (<xref ref-type="fig" rid="pbio.3000295.g006">Fig 6A</xref>, row 4), and community function was very low (<xref ref-type="fig" rid="pbio.3000295.g006">Fig 6A</xref>, row 1). During effective community selection (top-dog with cell sorting, top 10% with pipetting, or top 10% with cell sorting), H’s maximal growth rate remained far below its evolutionary upper bound and below M’s maximal growth rate (<xref ref-type="fig" rid="pbio.3000295.g006">Fig 6B–6D</xref>, row 3). This is because if H’s maximal growth rate in a community had evolved to be too high, then H would drive M to low abundance, and the resulting low community function would be disfavored by intercommunity selection. Because H was constrained to grow slower than M, H and M can coexist at a moderate ratio, and community function improved (<xref ref-type="fig" rid="pbio.3000295.g006">Fig 6B–6D</xref>, row 1). Note that, unlike <xref ref-type="fig" rid="pbio.3000295.g005">Fig 5</xref>, here top-tier and cell sorting did not show synergism. This is because when nonheritable variation in community function is minimized by cell sorting, the top-tier strategy does not seem to be helpful (<xref ref-type="supplementary-material" rid="pbio.3000295.s016">S16 Fig</xref>).</p>
<fig id="pbio.3000295.g006" position="float">
<object-id pub-id-type="doi">10.1371/journal.pbio.3000295.g006</object-id>
<label>Fig 6</label>
<caption>
<title>Effective community selection can encourage species coexistence.</title>
<p>Here, the evolutionary upper bound for <italic>g</italic><sub><italic>Hmax</italic></sub> (<inline-formula id="pbio.3000295.e024"><alternatives><graphic id="pbio.3000295.e024g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e024" xlink:type="simple"/><mml:math display="inline" id="M24"><mml:msubsup><mml:mrow><mml:mi>g</mml:mi></mml:mrow><mml:mrow><mml:mi>H</mml:mi><mml:mi>m</mml:mi><mml:mi>a</mml:mi><mml:mi>x</mml:mi></mml:mrow><mml:mrow><mml:mi>*</mml:mi></mml:mrow></mml:msubsup><mml:mo>=</mml:mo><mml:mn>0.8</mml:mn></mml:math></alternatives></inline-formula>) was larger than that for <italic>g</italic><sub><italic>Hmax</italic></sub> (<inline-formula id="pbio.3000295.e025"><alternatives><graphic id="pbio.3000295.e025g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e025" xlink:type="simple"/><mml:math display="inline" id="M25"><mml:msubsup><mml:mrow><mml:mi>g</mml:mi></mml:mrow><mml:mrow><mml:mi>M</mml:mi><mml:mi>m</mml:mi><mml:mi>a</mml:mi><mml:mi>x</mml:mi></mml:mrow><mml:mrow><mml:mi>*</mml:mi></mml:mrow></mml:msubsup><mml:mo>=</mml:mo><mml:mn>0.7</mml:mn></mml:math></alternatives></inline-formula>), opposite to that in Figs <xref ref-type="fig" rid="pbio.3000295.g002">2</xref>–<xref ref-type="fig" rid="pbio.3000295.g005">5</xref>. (A) When the top-dog strategy and pipetting were used to choose and reproduce Adult communities, M was almost outcompeted by H as H evolved to grow faster than M (rows 3 and 4). Although M would ordinarily go extinct, community selection managed to maintain M at a very low level (bottom). This imbalanced species ratio resulted in very low community function (top). (B-D) When community selection was effective, using top-dog with cell sorting (panel B), top-tier with pipetting (panel C), or top-tier with cell sorting (panel D), community selection successfully improved community function and <inline-formula id="pbio.3000295.e026"><alternatives><graphic id="pbio.3000295.e026g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e026" xlink:type="simple"/><mml:math display="inline" id="M26"><mml:msub><mml:mrow><mml:mover accent="false"><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mo>¯</mml:mo></mml:mover></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow></mml:msub></mml:math></alternatives></inline-formula>. In these cases, H’s growth parameter did not increase to its evolutionary upper bound (panel B-D row 3, also see <xref ref-type="supplementary-material" rid="pbio.3000295.s017">S17B–S17D Fig</xref>), allowing a balanced species ratio (panel B-D bottom) and high community function (panel B -D top). Resource supplied to Newborn communities here supports 10<sup>5</sup> total biomass to accommodate faster growth rates (and hence community function is larger than in other figures). Black, cyan, and gray curves represent independent simulation trials. <inline-formula id="pbio.3000295.e027"><alternatives><graphic id="pbio.3000295.e027g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e027" xlink:type="simple"/><mml:math display="inline" id="M27"><mml:mover accent="false"><mml:mrow><mml:mi>P</mml:mi></mml:mrow><mml:mo>¯</mml:mo></mml:mover><mml:mo>(</mml:mo><mml:mi>T</mml:mi><mml:mo>)</mml:mo></mml:math></alternatives></inline-formula> (average community function) and <inline-formula id="pbio.3000295.e028"><alternatives><graphic id="pbio.3000295.e028g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e028" xlink:type="simple"/><mml:math display="inline" id="M28"><mml:msub><mml:mrow><mml:mover accent="false"><mml:mrow><mml:mi>ϕ</mml:mi></mml:mrow><mml:mo>¯</mml:mo></mml:mover></mml:mrow><mml:mrow><mml:mi>M</mml:mi></mml:mrow></mml:msub><mml:mo>(</mml:mo><mml:mi>T</mml:mi><mml:mo>)</mml:mo></mml:math></alternatives></inline-formula> (average fraction of M biomass in Adult communities) were averaged across the chosen Adults. <inline-formula id="pbio.3000295.e029"><alternatives><graphic id="pbio.3000295.e029g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e029" xlink:type="simple"/><mml:math display="inline" id="M29"><mml:msub><mml:mrow><mml:mover accent="false"><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mo>¯</mml:mo></mml:mover></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow></mml:msub><mml:mo>(</mml:mo><mml:mi>T</mml:mi><mml:mo>)</mml:mo></mml:math></alternatives></inline-formula> was obtained by first averaging among M within each chosen Adult and then averaging across all chosen Adults. The simulation codes can be found in <xref ref-type="supplementary-material" rid="pbio.3000295.s034">S4 Code</xref>, and the data can be found in <xref ref-type="supplementary-material" rid="pbio.3000295.s060">S3 Data</xref>. Adult, Adult community; H, Helper; M, Manufacturer.</p>
</caption>
<graphic mimetype="image" position="float" xlink:href="info:doi/10.1371/journal.pbio.3000295.g006" xlink:type="simple"/>
</fig>
</sec>
<sec id="sec012">
<title>Robust conclusions under alternative model assumptions</title>
<p>We have demonstrated that when selecting for high H-M community function, seemingly innocuous experimental procedures (e.g., choosing the top-functioning Adults and pipetting portions of them to form Newborns) could be problematic. Instead, more precise procedures (e.g., cell sorting) or moderate intercommunity selection strength (e.g., the top-tier strategy) might be required. Our conclusions held when we used a much lower mutation rate (2 × 10<sup>−5</sup> instead of 2 × 10<sup>−3</sup> mutation per cell per generation per phenotype, <xref ref-type="supplementary-material" rid="pbio.3000295.s018">S18 Fig</xref>), although lower mutation rate slowed down community function improvement. Our conclusions also held when we used different distributions of mutation effects (<xref ref-type="supplementary-material" rid="pbio.3000295.s019">S19 Fig</xref>) or incorporated epistasis (i.e., a non-null mutation would likely reduce <italic>f</italic><sub><italic>P</italic></sub> if the current <italic>f</italic><sub><italic>P</italic></sub> was high and increase <italic>f</italic><sub><italic>P</italic></sub> if the current <italic>f</italic><sub><italic>P</italic></sub> was low; <xref ref-type="supplementary-material" rid="pbio.3000295.s020">S20</xref> and <xref ref-type="supplementary-material" rid="pbio.3000295.s021">S21</xref> Figs; <xref ref-type="sec" rid="sec020">Methods</xref> Section 5).</p>
<p>To further test the generality of our conclusions, we simulated community selection on a mutualistic H-M community. Specifically, we assumed that Byproduct was inhibitory to H. Thus, H benefited M by providing Byproduct, and M benefited H by removing the inhibitory Byproduct, similar to the syntrophic community of <italic>Desulfovibrio vulgaris</italic> and <italic>Methanococcus maripaludis</italic> [<xref ref-type="bibr" rid="pbio.3000295.ref062">62</xref>]. We obtained similar conclusions in this mutualistic H-M community (<xref ref-type="supplementary-material" rid="pbio.3000295.s022">S22 Fig</xref>). We have also shown that similar conclusions hold for communities in which member species may not coexist (<xref ref-type="fig" rid="pbio.3000295.g006">Fig 6</xref>).</p>
<p>In summary, our conclusions seem general under a variety of model assumptions and apply to a variety of communities.</p>
</sec>
</sec>
<sec id="sec013" sec-type="conclusions">
<title>Discussion</title>
<p>A desired community function can be attained by identifying appropriate combinations of species types. For example, by using cellulose as the main carbon source in a process called "enrichment," Kato and colleagues obtained a community consisting of a few species that together degrade cellulose [<xref ref-type="bibr" rid="pbio.3000295.ref063">63</xref>]. However, if we solely rely on species types, then without a constant influx of new species, community function will likely level off quickly [<xref ref-type="bibr" rid="pbio.3000295.ref014">14</xref>,<xref ref-type="bibr" rid="pbio.3000295.ref017">17</xref>]. Here, we consider artificial selection of communities with defined member species so that improvement of community function requires new genotypes that contribute more toward community function at a higher cost to itself.</p>
<sec id="sec014">
<title>Community selection can be challenging but is feasible</title>
<p>Artificial selection of whole communities to improve a costly community function requires careful considerations. These considerations include species choice (Figs <xref ref-type="fig" rid="pbio.3000295.g002">2</xref> and <xref ref-type="fig" rid="pbio.3000295.g006">6</xref>), mutation rate (compare <xref ref-type="fig" rid="pbio.3000295.g003">Fig 3</xref> and <xref ref-type="supplementary-material" rid="pbio.3000295.s018">S18 Fig</xref>), the total number of communities under selection, Newborn target total biomass (<xref ref-type="supplementary-material" rid="pbio.3000295.s007">S7 Fig</xref>), the number of generations during maturation (which in turn depends on the amount of Resource added to each Newborn and the maturation time; <xref ref-type="supplementary-material" rid="pbio.3000295.s007">S7 Fig</xref>), intercommunity selection strength (<xref ref-type="fig" rid="pbio.3000295.g003">Fig 3</xref> and <xref ref-type="supplementary-material" rid="pbio.3000295.s015">S15 Fig</xref>), how we reproduce Adults (e.g., pipetting versus cell sorting; <xref ref-type="fig" rid="pbio.3000295.g003">Fig 3</xref>), and the uncertainty in community function measurements (<xref ref-type="fig" rid="pbio.3000295.g005">Fig 5</xref>).</p>
<p>Many of these considerations face dilemmas. For example, a large Newborn size (<italic>BM</italic><sub><italic>target</italic></sub>) would lead to reproducible takeover by noncontributors (<xref ref-type="supplementary-material" rid="pbio.3000295.s007">S7 Fig</xref>), but a small Newborn size would mean that large nonheritable variations in community function can readily arise and interfere with selection unless special measures are taken (<xref ref-type="fig" rid="pbio.3000295.g003">Fig 3</xref>).</p>
<p>We can take obvious steps to mitigate nonheritable variations in community function. For example, we can repeatedly measure community function to increase measurement precision, thereby facilitating selection (<xref ref-type="fig" rid="pbio.3000295.g005">Fig 5</xref>). We can also use the top-tier strategy so that unlucky communities harboring desirable genotypes can have a chance to reproduce (Figs <xref ref-type="fig" rid="pbio.3000295.g003">3</xref> and <xref ref-type="fig" rid="pbio.3000295.g005">5</xref>). Although some community functions (such as steady-state species ratio or steady-state growth rate of mutualistic communities) are not sensitive to fluctuations in Newborn biomass compositions [<xref ref-type="bibr" rid="pbio.3000295.ref040">40</xref>,<xref ref-type="bibr" rid="pbio.3000295.ref064">64</xref>]; for those that are, we can use a cell sorter to fix Newborn species biomass compositions to reduce nonheritable variations in community function (Figs <xref ref-type="fig" rid="pbio.3000295.g003">3</xref> and <xref ref-type="fig" rid="pbio.3000295.g005">5</xref>).</p>
<p>The need to suppress nonheritable variations in community function can have practical implications that may initially seem nonintuitive. For example, when shared Resource is nonlimiting (to avoid stationary phase), we must dilute a chosen Adult community to a fixed target biomass instead of by a fixed fold. This is because otherwise, selection would fail as we choose larger and larger Newborn size instead of higher and higher <italic>f</italic><sub><italic>P</italic></sub> (<xref ref-type="sec" rid="sec020">Methods</xref>, Section 7; <xref ref-type="supplementary-material" rid="pbio.3000295.s023">S23 Fig</xref>).</p>
<p>The definition of community function is also critical. If we had defined community function as Product per M biomass in the Adult community <italic>P</italic>(<italic>T</italic>)/<italic>M</italic>(<italic>T</italic>) (which is approximately proportional to <inline-formula id="pbio.3000295.e030"><alternatives><graphic id="pbio.3000295.e030g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e030" xlink:type="simple"/><mml:math display="inline" id="M30"><mml:mfrac><mml:mrow><mml:msub><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow></mml:msub></mml:mrow><mml:mrow><mml:mn>1</mml:mn><mml:mo>-</mml:mo><mml:msub><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow></mml:msub></mml:mrow></mml:mfrac></mml:math></alternatives></inline-formula>: see <xref ref-type="sec" rid="sec020">Methods</xref> Section 7), then we will be selecting for higher and higher <italic>f</italic><sub><italic>P</italic></sub>, and M can go extinct (<xref ref-type="supplementary-material" rid="pbio.3000295.s002">S2 Fig</xref>).</p>
</sec>
<sec id="sec015">
<title>Intracommunity selection versus intercommunity selection</title>
<p>Intracommunity selection and intercommunity selection are both important. Intracommunity selection occurs during community maturation and favors fast growers. Intercommunity selection occurs prior to community reproduction and favors high community function.</p>
<p>For M’s cost <italic>f</italic><sub><italic>P</italic></sub>, intracommunity selection favors low <italic>f</italic><sub><italic>P</italic></sub>, while intercommunity selection favors <inline-formula id="pbio.3000295.e031"><alternatives><graphic id="pbio.3000295.e031g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e031" xlink:type="simple"/><mml:math display="inline" id="M31"><mml:msubsup><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow><mml:mrow><mml:mi>*</mml:mi></mml:mrow></mml:msubsup></mml:math></alternatives></inline-formula>, the <italic>f</italic><sub><italic>P</italic></sub> value leading to the highest community function. Thus, when current <inline-formula id="pbio.3000295.e032"><alternatives><graphic id="pbio.3000295.e032g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e032" xlink:type="simple"/><mml:math display="inline" id="M32"><mml:msub><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow></mml:msub><mml:mo>&lt;</mml:mo><mml:msubsup><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow><mml:mrow><mml:mi>*</mml:mi></mml:mrow></mml:msubsup></mml:math></alternatives></inline-formula>, intercommunity selection runs against intracommunity selection. When current <inline-formula id="pbio.3000295.e033"><alternatives><graphic id="pbio.3000295.e033g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e033" xlink:type="simple"/><mml:math display="inline" id="M33"><mml:msub><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow></mml:msub><mml:mo>&gt;</mml:mo><mml:msubsup><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow><mml:mrow><mml:mi>*</mml:mi></mml:mrow></mml:msubsup></mml:math></alternatives></inline-formula>, intracommunity and intercommunity selections are aligned.</p>
<p>For growth parameters (maximal growth rates, affinities for metabolites), depending on their evolutionary upper bounds, intercommunity selection may or may not be aligned with intracommunity selection. For example, using parameters in <xref ref-type="table" rid="pbio.3000295.t001">Table 1</xref> (<xref ref-type="fig" rid="pbio.3000295.g003">Fig 3</xref>), improving growth parameters promoted community function (<xref ref-type="supplementary-material" rid="pbio.3000295.s008">S8A and S8C Fig</xref>; <xref ref-type="supplementary-material" rid="pbio.3000295.s024">S24A Fig</xref>). This is because with these choices of evolutionary upper bounds, H could not evolve to grow so fast to overwhelm M. Thus, with sufficient Resource and with species coexistence (<xref ref-type="fig" rid="pbio.3000295.g002">Fig 2A</xref> top), faster H and M growth resulted in more Byproduct, larger M populations, and consequently higher Product level. If H could evolve to grow faster than M, then increasing growth parameters could decrease community function due to H dominance (<xref ref-type="fig" rid="pbio.3000295.g006">Fig 6A</xref>; <xref ref-type="supplementary-material" rid="pbio.3000295.s017">S17A Fig</xref>; <xref ref-type="supplementary-material" rid="pbio.3000295.s024">S24B Fig</xref>). Note that even in this case, properly executed community selection can promote species coexistence and improve community function (<xref ref-type="fig" rid="pbio.3000295.g006">Fig 6B–6D</xref>).</p>
</sec>
<sec id="sec016">
<title>Contrasting selection at different levels</title>
<p>Selection of individuals bears some resemblance to selection of communities. Whereas community function relies on interactions between different species, an individual’s fitness relies on interactions between different genes. To ensure sufficient heredity between an individual and its offspring, elaborate cellular mechanisms have evolved. They include cell cycle checkpoints to ensure accurate DNA replication and segregation [<xref ref-type="bibr" rid="pbio.3000295.ref065">65</xref>], small RNA-mediated silencing of transposons [<xref ref-type="bibr" rid="pbio.3000295.ref066">66</xref>], and clustered regularly interspaced short palindromic repeats and the CRISPR-associated protein (CRISPR-Cas) degradation of foreign viral DNA [<xref ref-type="bibr" rid="pbio.3000295.ref067">67</xref>]. In community selection, heredity-enhancing mechanisms such as stable species ratio (<xref ref-type="fig" rid="pbio.3000295.g002">Fig 2A</xref> top panel) could already be in place due to ecological interactions or arise due to evolution (e.g., mutations that affect ecological interactions). If endosymbiosis should evolve in response to community selection (i.e., one microbe stably living inside another microbe much like chloroplasts living inside plant cells), then community selection would transition to individual selection.</p>
<p>Group selection is connected to individual selection and community selection. Group selection, and in a related sense kin selection [<xref ref-type="bibr" rid="pbio.3000295.ref042">42</xref>–<xref ref-type="bibr" rid="pbio.3000295.ref055">55</xref>,<xref ref-type="bibr" rid="pbio.3000295.ref068">68</xref>], have been extensively examined to explain, e.g., the evolution of traits that lower individual fitness but increase the success of a group (e.g., sterile ants helping the survival of an ant colony). Note that the term "group selection" has often been used to describe individual selection in spatially structured populations without group births or deaths, although such usage has been criticized [<xref ref-type="bibr" rid="pbio.3000295.ref069">69</xref>]. Artificial group selection can sometimes be viewed as artificial individual selection. For example, when Newborn groups start with a single founder producing a product of interest, then artificial group selection for high group production is equivalent to artificial individual selection for the founder’s ability to produce over time as it grows into a population. On the other hand, if group function relies on synergistic interactions between populations with distinct phenotypes, then group selection can be thought of as a special case of community selection. The difference is that, unlike community function, group function can arise as a single founder multiplies and differentiates into distinct populations (e.g., filamentous cyanobacteria growing and differentiating into nitrogen-fixing cells and photosynthetic cells [<xref ref-type="bibr" rid="pbio.3000295.ref070">70</xref>]).</p>
<p>Group selection and community selection display additional similarities and distinctions. First, group selection and community selection are similar in that Newborn size must not be too large [<xref ref-type="bibr" rid="pbio.3000295.ref071">71</xref>,<xref ref-type="bibr" rid="pbio.3000295.ref072">72</xref>], and maturation time must not be too long. Otherwise, all entities (groups or communities) will accumulate noncontributors in a similar fashion, and this lack of variation among entities impedes selection (Price equation [<xref ref-type="bibr" rid="pbio.3000295.ref056">56</xref>]; <xref ref-type="supplementary-material" rid="pbio.3000295.s001">S1B Fig</xref>; <xref ref-type="supplementary-material" rid="pbio.3000295.s007">S7 Fig</xref>). Second, species interactions in a community could drive species composition to a value suboptimal for community function [<xref ref-type="bibr" rid="pbio.3000295.ref073">73</xref>]. A similar constraint could also occur during artificial group selection if the founder genotype gives rise to interacting subpopulations. Otherwise, the problem of suboptimal composition does not exist for group selection. Finally, in group selection, when a Newborn group starts with a small number of individuals (e.g., one individual), a fraction of Newborn groups of the next cycle will be highly similar to the original Newborn group (<xref ref-type="supplementary-material" rid="pbio.3000295.s001">S1B Fig</xref>, bottom panel). This heredity facilitates group selection. In contrast, when a Newborn community starts with a small number of total individuals, large stochastic fluctuations in Newborn composition can interfere with community selection (Figs <xref ref-type="fig" rid="pbio.3000295.g003">3</xref> and <xref ref-type="fig" rid="pbio.3000295.g004">4</xref>). In the extreme case, a member species may even be lost by chance. Even if a fixed biomass of each species is allocated into Newborns during community selection, heredity is much reduced due to random sampling of genotypes from multiple species. For example, if Newborn communities start with one contributor from each of the 2 species and if the highest-functioning Adult community has accumulated 50% noncontributors in each species, then only 50%×50% = 25% Newborn communities of the next cycle will be similar to the original Newborns. In contrast, if Newborn groups are initiated with a single contributor and if the highest-functioning Adult group has accumulated 50% noncontributors, then 50% Newborn groups of the next cycle will be similar to the original Newborn.</p>
</sec>
<sec id="sec017">
<title>Community function may not be maximized through pre-optimizing member species in monocultures</title>
<p>If we know how each member species contributes to community function, might we pre-optimize member species in monocultures before assembling them into high-functioning communities? This turns out to be challenging due to the difficulty of recapitulating community dynamics in monocultures. For example, artificial group selection on M failed to increase M’s cost <italic>f</italic><sub><italic>P</italic></sub> to <inline-formula id="pbio.3000295.e034"><alternatives><graphic id="pbio.3000295.e034g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e034" xlink:type="simple"/><mml:math display="inline" id="M34"><mml:msubsup><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow><mml:mrow><mml:mi>*</mml:mi></mml:mrow></mml:msubsup></mml:math></alternatives></inline-formula> optimal for community function. Specifically, we started with <italic>n</italic><sub><italic>tot</italic></sub> of 100 Newborn M groups, each inoculated with one M cell (to facilitate group selection, <xref ref-type="supplementary-material" rid="pbio.3000295.s001">S1B Fig</xref> bottom panel) [<xref ref-type="bibr" rid="pbio.3000295.ref071">71</xref>]. We supplied each Newborn M group with the same amount of Resource as we would for H-M communities as well as excess Byproduct (since it is difficult to reproduce community Byproduct dynamics in M groups). After incubating these M groups for the same maturation time <italic>T</italic>, the group with the highest level of Product would be chosen and reproduced into Newborn M groups (initiated with a single cell) for the next cycle. M’s growth parameters improved to evolutionary upper bounds (<xref ref-type="supplementary-material" rid="pbio.3000295.s025">S25A Fig</xref>), because faster-growing M cells would lead to higher group function with Resource and excess Byproduct. When growth parameters were fixed to evolutionary upper bounds, optimal <italic>f</italic><sub><italic>P</italic></sub> for monoculture <italic>P</italic>(<italic>T</italic>) could be calculated to occur at an intermediate value (<inline-formula id="pbio.3000295.e035"><alternatives><graphic id="pbio.3000295.e035g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e035" xlink:type="simple"/><mml:math display="inline" id="M35"><mml:msubsup><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>P</mml:mi><mml:mo>,</mml:mo><mml:mi>​</mml:mi><mml:mi>M</mml:mi><mml:mi>o</mml:mi><mml:mi>n</mml:mi><mml:mi>o</mml:mi></mml:mrow><mml:mrow><mml:mi>*</mml:mi></mml:mrow></mml:msubsup><mml:mo>=</mml:mo><mml:mn>0.13</mml:mn></mml:math></alternatives></inline-formula>; <xref ref-type="supplementary-material" rid="pbio.3000295.s025">S25B Fig</xref>). Optimal group function was indeed realized during selection (<xref ref-type="supplementary-material" rid="pbio.3000295.s025">S25A Fig</xref>). However, the associated optimal <italic>f</italic><sub><italic>P</italic></sub> is much lower than that for community function (<inline-formula id="pbio.3000295.e036"><alternatives><graphic id="pbio.3000295.e036g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e036" xlink:type="simple"/><mml:math display="inline" id="M36"><mml:msubsup><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow><mml:mrow><mml:mi>*</mml:mi></mml:mrow></mml:msubsup><mml:mo>=</mml:mo><mml:mn>0.41</mml:mn></mml:math></alternatives></inline-formula>; see <xref ref-type="sec" rid="sec020">Methods</xref> Section 8 for an explanation). Thus, optimizing monoculture activity does not necessarily lead to optimized community function.</p>
</sec>
<sec id="sec018">
<title>Implications of our work</title>
<p>Our work sheds new light on previous work. In the work of Swenson and colleagues [<xref ref-type="bibr" rid="pbio.3000295.ref012">12</xref>], authors tested 2 selection regimens with Newborn sizes differing by 100-fold. The authors hypothesized that smaller Newborns would have a high level of variation that should facilitate selection. However, the hypothesis was not corroborated by experiments. As a possible explanation, the authors invoked the "butterfly effect" (the sensitivity of chaotic systems to initial conditions). Our results suggest that even for nonchaotic systems like the H-M community, selection could fail due to interference from nonheritable variations. This is because in Newborns with small sizes, fluctuations in community composition can be large, which compromises heredity of a community trait.</p>
<p>A general implication of our work is that before launching a selection experiment, one should carefully design the selection regimen. For example, one may want to check the sensitivity of community function to fluctuations in Newborn biomass composition. The first method of checking involves estimating the "signal to noise" ratio: one could use the most precise method to initiate replicate Newborn communities and measure community functions (e.g., cell sorting during Newborn formation; many repeated measurements of community function). Despite this, some levels of nonheritable variations in community function are inevitable due to, e.g., nongenetic phenotypic variations among cells [<xref ref-type="bibr" rid="pbio.3000295.ref074">74</xref>] or stochasticity in cell birth and death. If "noises" (variations among replicate communities) are small compared to "signals" (variations among communities of different genotypes that affect the community function of interest), then one can test and possibly adopt less precise procedures (e.g., cell culture pipetting during Newborn formation; fewer repeated measurements of community function). The second checking method involves empirically estimating the heritability of community function, especially if significant variations in community function naturally arise within the first few cycles (due to, e.g., preexisting mutations). In this case, one could experimentally evaluate whether community functions of the previous cycle are correlated with community functions of the current cycle across independent lineages (similar to <xref ref-type="fig" rid="pbio.3000295.g004">Fig 4</xref>). Given the ubiquitous nature of nonheritable variations in community function, the top-tier strategy could be useful (Figs <xref ref-type="fig" rid="pbio.3000295.g005">5</xref> and <xref ref-type="fig" rid="pbio.3000295.g006">6</xref>).</p>
<p>Our work also contributes to how we might think about community selection in the natural environment. Microbes can co-evolve with each other and with their host [<xref ref-type="bibr" rid="pbio.3000295.ref075">75</xref>, <xref ref-type="bibr" rid="pbio.3000295.ref076">76</xref>, <xref ref-type="bibr" rid="pbio.3000295.ref077">77</xref>]. Some have proposed that complex microbial communities such as the gut microbiota could serve as a unit of selection [<xref ref-type="bibr" rid="pbio.3000295.ref019">19</xref>]. Our work suggests that if selection for a costly microbial community function should occur in nature, then certain mechanisms may need to be in place. These mechanisms include (i) suppressing nonheritable variations in community function, and (ii) exerting an appropriate strength of intercommunity selection.</p>
</sec>
<sec id="sec019">
<title>Future directions</title>
<p>Our work touched upon only the tip of the iceberg of community selection. We expect that certain rules will be insensitive to details of a community. For example, community selection can be facilitated by reducing nonheritable variations in community function or by mitigating their effects via top-tier strategies. Still, much more awaits further investigation. Here, we outline a few:</p>
<list list-type="order">
<list-item><p>Explore the best strategies for choosing and reproducing Adult communities. We have chosen top 10% communities to contribute an equal number of Newborns, but alternative strategies (e.g., allowing higher-functioning Adults to contribute more Newborns) may work better.</p></list-item>
<list-item><p>Examine the impact of migration (community mixing) on community selection. Here, we did not consider migration. Excessive migration could deter community selection by allowing fast-growing noncontributors to spread. However, by combining the best genotypes of multiple member species, migration could speed up community selection, much like the effects of sexual recombination on the evolution of finite populations [<xref ref-type="bibr" rid="pbio.3000295.ref078">78</xref>].</p></list-item>
<list-item><p>Investigate how interaction structure might affect selection efficacy. We have shown that our conclusions hold for 2-species communities engaging in commensalism or mutualism. We have also shown that our conclusions hold regardless of whether the 2 species can evolve to coexist or not. The next step would be to test other types of interactions and complex interaction networks. For example, when species mutually inhibit each other, multistability could arise. In this case, species dominance [<xref ref-type="bibr" rid="pbio.3000295.ref079">79</xref>] and thus community function could be highly sensitive to stochastic fluctuations in Newborn species composition. How might multistability affect community selection?</p>
<p>A complex community might also have multiple local optima of community function. This can arise when, e.g., the maximal community function requires multiple species with partially redundant activities. Consider the community function of waste degradation. Suppose that one species is good at degrading waste at high concentration while the other is good at degrading waste at low concentration. Thus, maximal waste degradation requires both species. If any one species is lost by chance during Newborn formation, then community function would be stuck at local suboptima. In this case, community migration (mixing) could recover the lost species and help community selection reach a global optimum.</p></list-item>
<list-item><p>Develop a general theory to understand the rate of community function improvement. Community function improvement depends on many experimental parameters, as we have demonstrated here. Ultimately, the rate of improvement will depend on variation and heredity of community function, which are affected by intracommunity and intercommunity selection. How might experimental parameters affect variation and heredity of community function under selection? This aspect might be explored through expanding population genetics theories which have so far focused on individual selection.</p></list-item>
<list-item><p>Experimentally test model predictions. Effective community selection will require a fast and precise assay for community function. If community function is sensitive to species biomass composition in Newborns, then species should ideally be distinguishable by flow cytometry (e.g., different fluorescence or different scattering patterns) so that fixed biomass of each species can be sorted into Newborns. Note that cell sorting only needs to be performed on several high-functioning communities and thus would not be cost prohibitive if the total number of Newborn communities is moderate.</p></list-item>
<list-item><p>Discover drivers of community function. Once high-functioning communities are obtained through selection, we could compare metagenomes of evolved communities with those of ancestral communities. This would illuminate genes and species interactions that are important for community function.</p></list-item>
</list>
</sec>
</sec>
<sec id="sec020" sec-type="materials|methods">
<title>Methods</title>
<sec id="sec021">
<title>1. Equations of H-M community</title>
<p><italic>H</italic>, the biomass of <italic>H</italic>, changes as a function of growth and death,
<disp-formula id="pbio.3000295.e037">
<alternatives>
<graphic id="pbio.3000295.e037g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e037" xlink:type="simple"/>
<mml:math display="block" id="M37">
<mml:mfrac><mml:mrow><mml:mi>d</mml:mi><mml:mi>H</mml:mi></mml:mrow><mml:mrow><mml:mi>d</mml:mi><mml:mi>t</mml:mi></mml:mrow></mml:mfrac><mml:mo>=</mml:mo><mml:msub><mml:mrow><mml:mi>g</mml:mi></mml:mrow><mml:mrow><mml:mi>H</mml:mi></mml:mrow></mml:msub><mml:mo>(</mml:mo><mml:mover accent="true"><mml:mrow><mml:mi>R</mml:mi></mml:mrow><mml:mo>^</mml:mo></mml:mover><mml:mo>)</mml:mo><mml:mi>H</mml:mi><mml:mo>-</mml:mo><mml:msub><mml:mrow><mml:mi>δ</mml:mi></mml:mrow><mml:mrow><mml:mi>H</mml:mi></mml:mrow></mml:msub><mml:mi>H</mml:mi>
</mml:math>
</alternatives>
<label>(1)</label>
</disp-formula></p>
<p>Growth rate g<sub><italic>H</italic></sub> depends on the level of Resource <inline-formula id="pbio.3000295.e038"><alternatives><graphic id="pbio.3000295.e038g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e038" xlink:type="simple"/><mml:math display="inline" id="M38"><mml:mover accent="true"><mml:mrow><mml:mi>R</mml:mi></mml:mrow><mml:mo>^</mml:mo></mml:mover></mml:math></alternatives></inline-formula> (hat ^ representing prescaled value) as described by the Monod growth model
<disp-formula id="pbio.3000295.e039">
<alternatives>
<graphic id="pbio.3000295.e039g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e039" xlink:type="simple"/>
<mml:math display="block" id="M39">
<mml:msub><mml:mrow><mml:mi>g</mml:mi></mml:mrow><mml:mrow><mml:mi>H</mml:mi></mml:mrow></mml:msub><mml:mo>(</mml:mo><mml:mover accent="true"><mml:mrow><mml:mi>R</mml:mi></mml:mrow><mml:mo>^</mml:mo></mml:mover><mml:mo>)</mml:mo><mml:mo>=</mml:mo><mml:msub><mml:mrow><mml:mi>g</mml:mi></mml:mrow><mml:mrow><mml:mi>H</mml:mi><mml:mi>m</mml:mi><mml:mi>a</mml:mi><mml:mi>x</mml:mi></mml:mrow></mml:msub><mml:mfrac><mml:mrow><mml:mover accent="true"><mml:mrow><mml:mi>R</mml:mi></mml:mrow><mml:mo>^</mml:mo></mml:mover></mml:mrow><mml:mrow><mml:mover accent="true"><mml:mrow><mml:mi>R</mml:mi></mml:mrow><mml:mo>^</mml:mo></mml:mover><mml:mo>+</mml:mo><mml:msub><mml:mrow><mml:mover accent="true"><mml:mrow><mml:mi>K</mml:mi></mml:mrow><mml:mo>^</mml:mo></mml:mover></mml:mrow><mml:mrow><mml:mi>H</mml:mi><mml:mi>R</mml:mi></mml:mrow></mml:msub></mml:mrow></mml:mfrac>
</mml:math>
</alternatives>
</disp-formula>
where <inline-formula id="pbio.3000295.e040"><alternatives><graphic id="pbio.3000295.e040g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e040" xlink:type="simple"/><mml:math display="inline" id="M40"><mml:msub><mml:mrow><mml:mover accent="true"><mml:mrow><mml:mi>K</mml:mi></mml:mrow><mml:mo>^</mml:mo></mml:mover></mml:mrow><mml:mrow><mml:mi>H</mml:mi><mml:mi>R</mml:mi></mml:mrow></mml:msub></mml:math></alternatives></inline-formula> is the <inline-formula id="pbio.3000295.e041"><alternatives><graphic id="pbio.3000295.e041g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e041" xlink:type="simple"/><mml:math display="inline" id="M41"><mml:mover accent="true"><mml:mrow><mml:mi>R</mml:mi></mml:mrow><mml:mo>^</mml:mo></mml:mover></mml:math></alternatives></inline-formula> at which <italic>g</italic><sub><italic>Hmax</italic></sub>/2 is achieved. <italic>δ</italic><sub><italic>H</italic></sub> is the death rate of H. Note that because agricultural waste is in excess, its level does not enter the equation.</p>
<p><italic>M</italic>, the biomass of M, changes as a function of growth and death,
<disp-formula id="pbio.3000295.e042">
<alternatives>
<graphic id="pbio.3000295.e042g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e042" xlink:type="simple"/>
<mml:math display="block" id="M42">
<mml:mfrac><mml:mrow><mml:mi>d</mml:mi><mml:mi>M</mml:mi></mml:mrow><mml:mrow><mml:mi>d</mml:mi><mml:mi>t</mml:mi></mml:mrow></mml:mfrac><mml:mo>=</mml:mo><mml:mo>(</mml:mo><mml:mrow><mml:mn>1</mml:mn><mml:mo>-</mml:mo><mml:msub><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow></mml:msub></mml:mrow><mml:mo>)</mml:mo><mml:msub><mml:mrow><mml:mi>g</mml:mi></mml:mrow><mml:mrow><mml:mi>M</mml:mi></mml:mrow></mml:msub><mml:mo>(</mml:mo><mml:mover accent="true"><mml:mrow><mml:mi>R</mml:mi></mml:mrow><mml:mo>^</mml:mo></mml:mover><mml:mo>,</mml:mo><mml:mi>​</mml:mi><mml:mover accent="true"><mml:mrow><mml:mi>B</mml:mi></mml:mrow><mml:mo>^</mml:mo></mml:mover><mml:mo>)</mml:mo><mml:mi>M</mml:mi><mml:mo>-</mml:mo><mml:msub><mml:mrow><mml:mi>δ</mml:mi></mml:mrow><mml:mrow><mml:mi>M</mml:mi></mml:mrow></mml:msub><mml:mi>M</mml:mi>
</mml:math>
</alternatives>
<label>(2)</label>
</disp-formula></p>
<p>Total potential growth rate of M <italic>g</italic><sub><italic>M</italic></sub> depends on the levels of Resource and Byproduct (<inline-formula id="pbio.3000295.e043"><alternatives><graphic id="pbio.3000295.e043g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e043" xlink:type="simple"/><mml:math display="inline" id="M43"><mml:mover accent="true"><mml:mrow><mml:mi>R</mml:mi></mml:mrow><mml:mo>^</mml:mo></mml:mover></mml:math></alternatives></inline-formula> and <inline-formula id="pbio.3000295.e044"><alternatives><graphic id="pbio.3000295.e044g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e044" xlink:type="simple"/><mml:math display="inline" id="M44"><mml:mover accent="true"><mml:mrow><mml:mi>B</mml:mi></mml:mrow><mml:mo>^</mml:mo></mml:mover></mml:math></alternatives></inline-formula>) according to the Mankad-Bungay model [<xref ref-type="bibr" rid="pbio.3000295.ref030">30</xref>] due to its experimental support
<disp-formula id="pbio.3000295.e045">
<alternatives>
<graphic id="pbio.3000295.e045g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e045" xlink:type="simple"/>
<mml:math display="block" id="M45">
<mml:msub><mml:mrow><mml:mi>g</mml:mi></mml:mrow><mml:mrow><mml:mi>M</mml:mi></mml:mrow></mml:msub><mml:mo>(</mml:mo><mml:mover accent="true"><mml:mrow><mml:mi>R</mml:mi></mml:mrow><mml:mo>^</mml:mo></mml:mover><mml:mo>,</mml:mo><mml:mi mathvariant="normal">​</mml:mi><mml:mover accent="true"><mml:mrow><mml:mi>B</mml:mi></mml:mrow><mml:mo>^</mml:mo></mml:mover><mml:mo>)</mml:mo><mml:mo>=</mml:mo><mml:msub><mml:mrow><mml:mi>g</mml:mi></mml:mrow><mml:mrow><mml:mi>M</mml:mi><mml:mi>m</mml:mi><mml:mi>a</mml:mi><mml:mi>x</mml:mi></mml:mrow></mml:msub><mml:mfrac><mml:mrow><mml:msub><mml:mrow><mml:mover accent="true"><mml:mrow><mml:mi>R</mml:mi></mml:mrow><mml:mo>^</mml:mo></mml:mover></mml:mrow><mml:mrow><mml:mi>M</mml:mi></mml:mrow></mml:msub><mml:msub><mml:mrow><mml:mover accent="true"><mml:mrow><mml:mi>B</mml:mi></mml:mrow><mml:mo>^</mml:mo></mml:mover></mml:mrow><mml:mrow><mml:mi>M</mml:mi></mml:mrow></mml:msub></mml:mrow><mml:mrow><mml:msub><mml:mrow><mml:mover accent="true"><mml:mrow><mml:mi>R</mml:mi></mml:mrow><mml:mo>^</mml:mo></mml:mover></mml:mrow><mml:mrow><mml:mi>M</mml:mi></mml:mrow></mml:msub><mml:mo>+</mml:mo><mml:msub><mml:mrow><mml:mover accent="true"><mml:mrow><mml:mi>B</mml:mi></mml:mrow><mml:mo>^</mml:mo></mml:mover></mml:mrow><mml:mrow><mml:mi>M</mml:mi></mml:mrow></mml:msub></mml:mrow></mml:mfrac><mml:mrow><mml:mo>(</mml:mo><mml:mfrac><mml:mrow><mml:mn>1</mml:mn></mml:mrow><mml:mrow><mml:msub><mml:mrow><mml:mover accent="true"><mml:mrow><mml:mi>R</mml:mi></mml:mrow><mml:mo>^</mml:mo></mml:mover></mml:mrow><mml:mrow><mml:mi>M</mml:mi></mml:mrow></mml:msub><mml:mo>+</mml:mo><mml:mn>1</mml:mn></mml:mrow></mml:mfrac><mml:mo>+</mml:mo><mml:mfrac><mml:mrow><mml:mn>1</mml:mn></mml:mrow><mml:mrow><mml:msub><mml:mrow><mml:mover accent="true"><mml:mrow><mml:mi>B</mml:mi></mml:mrow><mml:mo>^</mml:mo></mml:mover></mml:mrow><mml:mrow><mml:mi>M</mml:mi></mml:mrow></mml:msub><mml:mo>+</mml:mo><mml:mn>1</mml:mn></mml:mrow></mml:mfrac><mml:mo>)</mml:mo></mml:mrow>
</mml:math>
</alternatives>
</disp-formula>
where <inline-formula id="pbio.3000295.e046"><alternatives><graphic id="pbio.3000295.e046g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e046" xlink:type="simple"/><mml:math display="inline" id="M46"><mml:msub><mml:mrow><mml:mover accent="true"><mml:mrow><mml:mi>R</mml:mi></mml:mrow><mml:mo>^</mml:mo></mml:mover></mml:mrow><mml:mrow><mml:mi>M</mml:mi></mml:mrow></mml:msub><mml:mo>=</mml:mo><mml:mover accent="true"><mml:mrow><mml:mi>R</mml:mi></mml:mrow><mml:mo>^</mml:mo></mml:mover><mml:mo>/</mml:mo><mml:msub><mml:mrow><mml:mover accent="true"><mml:mrow><mml:mi>K</mml:mi></mml:mrow><mml:mo>^</mml:mo></mml:mover></mml:mrow><mml:mrow><mml:mi>M</mml:mi><mml:mi>R</mml:mi></mml:mrow></mml:msub></mml:math></alternatives></inline-formula> and <inline-formula id="pbio.3000295.e047"><alternatives><graphic id="pbio.3000295.e047g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e047" xlink:type="simple"/><mml:math display="inline" id="M47"><mml:msub><mml:mrow><mml:mover accent="true"><mml:mrow><mml:mi>B</mml:mi></mml:mrow><mml:mo>^</mml:mo></mml:mover></mml:mrow><mml:mrow><mml:mi>M</mml:mi></mml:mrow></mml:msub><mml:mo>=</mml:mo><mml:mover accent="true"><mml:mrow><mml:mi>B</mml:mi></mml:mrow><mml:mo>^</mml:mo></mml:mover><mml:mo>/</mml:mo><mml:msub><mml:mrow><mml:mover accent="true"><mml:mrow><mml:mi>K</mml:mi></mml:mrow><mml:mo>^</mml:mo></mml:mover></mml:mrow><mml:mrow><mml:mi>M</mml:mi><mml:mi>B</mml:mi></mml:mrow></mml:msub></mml:math></alternatives></inline-formula> (<xref ref-type="supplementary-material" rid="pbio.3000295.s003">S3 Fig</xref>). Out of total potential growth rate of M, 1 − <italic>f</italic><sub><italic>P</italic></sub> fraction is channeled to biomass increase, while <italic>f</italic><sub><italic>P</italic></sub> fraction is channeled to making Product
<disp-formula id="pbio.3000295.e048">
<alternatives>
<graphic id="pbio.3000295.e048g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e048" xlink:type="simple"/>
<mml:math display="block" id="M48">
<mml:mfrac><mml:mrow><mml:mi>d</mml:mi><mml:mover accent="true"><mml:mrow><mml:mi>P</mml:mi></mml:mrow><mml:mo>^</mml:mo></mml:mover></mml:mrow><mml:mrow><mml:mi>d</mml:mi><mml:mi>t</mml:mi></mml:mrow></mml:mfrac><mml:mo>=</mml:mo><mml:msub><mml:mrow><mml:mover accent="true"><mml:mrow><mml:mi>r</mml:mi></mml:mrow><mml:mo>~</mml:mo></mml:mover></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow></mml:msub><mml:msub><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow></mml:msub><mml:msub><mml:mrow><mml:mi>g</mml:mi></mml:mrow><mml:mrow><mml:mi>M</mml:mi></mml:mrow></mml:msub><mml:mo>(</mml:mo><mml:mover accent="true"><mml:mrow><mml:mi>R</mml:mi></mml:mrow><mml:mo>^</mml:mo></mml:mover><mml:mo>,</mml:mo><mml:mi>​</mml:mi><mml:mover accent="true"><mml:mrow><mml:mi>B</mml:mi></mml:mrow><mml:mo>^</mml:mo></mml:mover><mml:mo>)</mml:mo><mml:mi>M</mml:mi>
</mml:math>
</alternatives>
<label>(3)</label>
</disp-formula>
where <inline-formula id="pbio.3000295.e049"><alternatives><graphic id="pbio.3000295.e049g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e049" xlink:type="simple"/><mml:math display="inline" id="M49"><mml:msub><mml:mrow><mml:mover accent="true"><mml:mrow><mml:mi>r</mml:mi></mml:mrow><mml:mo>~</mml:mo></mml:mover></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow></mml:msub></mml:math></alternatives></inline-formula> is the amount of Product made at the cost of one M biomass (tilde “~” represents scaling factor; see below and <xref ref-type="table" rid="pbio.3000295.t001">Table 1</xref>).</p>
<p>Resource <inline-formula id="pbio.3000295.e050"><alternatives><graphic id="pbio.3000295.e050g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e050" xlink:type="simple"/><mml:math display="inline" id="M50"><mml:mover accent="true"><mml:mrow><mml:mi>R</mml:mi></mml:mrow><mml:mo>^</mml:mo></mml:mover></mml:math></alternatives></inline-formula> is consumed proportionally to the growth of M and H; Byproduct <inline-formula id="pbio.3000295.e051"><alternatives><graphic id="pbio.3000295.e051g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e051" xlink:type="simple"/><mml:math display="inline" id="M51"><mml:mover accent="true"><mml:mrow><mml:mi>B</mml:mi></mml:mrow><mml:mo>^</mml:mo></mml:mover></mml:math></alternatives></inline-formula> is released proportionally to H growth and consumed proportionally to M growth
<disp-formula id="pbio.3000295.e052">
<alternatives>
<graphic id="pbio.3000295.e052g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e052" xlink:type="simple"/>
<mml:math display="block" id="M52">
<mml:mfrac><mml:mrow><mml:mi>d</mml:mi><mml:mover accent="true"><mml:mrow><mml:mi>R</mml:mi></mml:mrow><mml:mo>^</mml:mo></mml:mover></mml:mrow><mml:mrow><mml:mi>d</mml:mi><mml:mi>t</mml:mi></mml:mrow></mml:mfrac><mml:mo>=</mml:mo><mml:mo>-</mml:mo><mml:msub><mml:mrow><mml:mover accent="true"><mml:mrow><mml:mi>c</mml:mi></mml:mrow><mml:mo>^</mml:mo></mml:mover></mml:mrow><mml:mrow><mml:mi>R</mml:mi><mml:mi>M</mml:mi></mml:mrow></mml:msub><mml:msub><mml:mrow><mml:mi>g</mml:mi></mml:mrow><mml:mrow><mml:mi>M</mml:mi></mml:mrow></mml:msub><mml:mo>(</mml:mo><mml:mover accent="true"><mml:mrow><mml:mi>R</mml:mi></mml:mrow><mml:mo>^</mml:mo></mml:mover><mml:mo>,</mml:mo><mml:mi mathvariant="normal">​</mml:mi><mml:mover accent="true"><mml:mrow><mml:mi>B</mml:mi></mml:mrow><mml:mo>^</mml:mo></mml:mover><mml:mo>)</mml:mo><mml:mi>M</mml:mi><mml:mo>-</mml:mo><mml:msub><mml:mrow><mml:mover accent="true"><mml:mrow><mml:mi>c</mml:mi></mml:mrow><mml:mo>^</mml:mo></mml:mover></mml:mrow><mml:mrow><mml:mi>R</mml:mi><mml:mi>H</mml:mi></mml:mrow></mml:msub><mml:msub><mml:mrow><mml:mi>g</mml:mi></mml:mrow><mml:mrow><mml:mi>H</mml:mi></mml:mrow></mml:msub><mml:mo>(</mml:mo><mml:mover accent="true"><mml:mrow><mml:mi>R</mml:mi></mml:mrow><mml:mo>^</mml:mo></mml:mover><mml:mo>)</mml:mo><mml:mi>H</mml:mi>
</mml:math>
</alternatives>
<label>(4)</label>
</disp-formula>
<disp-formula id="pbio.3000295.e053">
<alternatives>
<graphic id="pbio.3000295.e053g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e053" xlink:type="simple"/>
<mml:math display="block" id="M53">
<mml:mfrac><mml:mrow><mml:mi>d</mml:mi><mml:mover accent="true"><mml:mrow><mml:mi>B</mml:mi></mml:mrow><mml:mo>^</mml:mo></mml:mover></mml:mrow><mml:mrow><mml:mi>d</mml:mi><mml:mi>t</mml:mi></mml:mrow></mml:mfrac><mml:mo>=</mml:mo><mml:msub><mml:mrow><mml:mover accent="true"><mml:mrow><mml:mi>r</mml:mi></mml:mrow><mml:mo>~</mml:mo></mml:mover></mml:mrow><mml:mrow><mml:mi>B</mml:mi></mml:mrow></mml:msub><mml:msub><mml:mrow><mml:mi>g</mml:mi></mml:mrow><mml:mrow><mml:mi>H</mml:mi></mml:mrow></mml:msub><mml:mo>(</mml:mo><mml:mover accent="true"><mml:mrow><mml:mi>R</mml:mi></mml:mrow><mml:mo>^</mml:mo></mml:mover><mml:mo>)</mml:mo><mml:mi>H</mml:mi><mml:mo>-</mml:mo><mml:msub><mml:mrow><mml:mover accent="true"><mml:mrow><mml:mi>c</mml:mi></mml:mrow><mml:mo>^</mml:mo></mml:mover></mml:mrow><mml:mrow><mml:mi>B</mml:mi><mml:mi>M</mml:mi></mml:mrow></mml:msub><mml:msub><mml:mrow><mml:mi>g</mml:mi></mml:mrow><mml:mrow><mml:mi>M</mml:mi></mml:mrow></mml:msub><mml:mo>(</mml:mo><mml:mover accent="true"><mml:mrow><mml:mi>R</mml:mi></mml:mrow><mml:mo>^</mml:mo></mml:mover><mml:mo>,</mml:mo><mml:mi mathvariant="normal">​</mml:mi><mml:mover accent="true"><mml:mrow><mml:mi>B</mml:mi></mml:mrow><mml:mo>^</mml:mo></mml:mover><mml:mo>)</mml:mo><mml:mi>M</mml:mi>
</mml:math>
</alternatives>
<label>(5)</label>
</disp-formula>
Here, <inline-formula id="pbio.3000295.e054"><alternatives><graphic id="pbio.3000295.e054g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e054" xlink:type="simple"/><mml:math display="inline" id="M54"><mml:msub><mml:mrow><mml:mover accent="true"><mml:mrow><mml:mi>c</mml:mi></mml:mrow><mml:mo>^</mml:mo></mml:mover></mml:mrow><mml:mrow><mml:mi>R</mml:mi><mml:mi>M</mml:mi></mml:mrow></mml:msub></mml:math></alternatives></inline-formula> and <inline-formula id="pbio.3000295.e055"><alternatives><graphic id="pbio.3000295.e055g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e055" xlink:type="simple"/><mml:math display="inline" id="M55"><mml:msub><mml:mrow><mml:mover accent="true"><mml:mrow><mml:mi>c</mml:mi></mml:mrow><mml:mo>^</mml:mo></mml:mover></mml:mrow><mml:mrow><mml:mi>R</mml:mi><mml:mi>H</mml:mi></mml:mrow></mml:msub></mml:math></alternatives></inline-formula> are the amounts of <inline-formula id="pbio.3000295.e056"><alternatives><graphic id="pbio.3000295.e056g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e056" xlink:type="simple"/><mml:math display="inline" id="M56"><mml:mover accent="true"><mml:mrow><mml:mi>R</mml:mi></mml:mrow><mml:mo>^</mml:mo></mml:mover></mml:math></alternatives></inline-formula> consumed per potential M biomass and H biomass, respectively. <inline-formula id="pbio.3000295.e057"><alternatives><graphic id="pbio.3000295.e057g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e057" xlink:type="simple"/><mml:math display="inline" id="M57"><mml:msub><mml:mrow><mml:mover accent="true"><mml:mrow><mml:mi>c</mml:mi></mml:mrow><mml:mo>^</mml:mo></mml:mover></mml:mrow><mml:mrow><mml:mi>B</mml:mi><mml:mi>M</mml:mi></mml:mrow></mml:msub></mml:math></alternatives></inline-formula> is the amount of <inline-formula id="pbio.3000295.e058"><alternatives><graphic id="pbio.3000295.e058g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e058" xlink:type="simple"/><mml:math display="inline" id="M58"><mml:mover accent="true"><mml:mrow><mml:mi>B</mml:mi></mml:mrow><mml:mo>^</mml:mo></mml:mover></mml:math></alternatives></inline-formula> consumed per potential M biomass. <inline-formula id="pbio.3000295.e059"><alternatives><graphic id="pbio.3000295.e059g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e059" xlink:type="simple"/><mml:math display="inline" id="M59"><mml:msub><mml:mrow><mml:mover accent="true"><mml:mrow><mml:mi>r</mml:mi></mml:mrow><mml:mo>~</mml:mo></mml:mover></mml:mrow><mml:mrow><mml:mi>B</mml:mi></mml:mrow></mml:msub></mml:math></alternatives></inline-formula> is the amount of <inline-formula id="pbio.3000295.e060"><alternatives><graphic id="pbio.3000295.e060g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e060" xlink:type="simple"/><mml:math display="inline" id="M60"><mml:mover accent="true"><mml:mrow><mml:mi>B</mml:mi></mml:mrow><mml:mo>^</mml:mo></mml:mover></mml:math></alternatives></inline-formula> released per H biomass grown. Our model assumes that Byproduct or Product is generated proportionally to H or M biomass grown, which is reasonable given the stoichiometry of metabolic reactions and experimental support [<xref ref-type="bibr" rid="pbio.3000295.ref080">80</xref>]. The volume of community is set to be 1, and thus cell or metabolite quantities (which are considered here) are numerically identical to cell or metabolite concentrations.</p>
<p>In the equations above, scaling factors are marked by "~" and will become 1 after scaling. Variables and parameters with hats will be scaled and lose their hats afterwards. Variables and parameters without hats will not be scaled. We scale Resource-related variable (<inline-formula id="pbio.3000295.e061"><alternatives><graphic id="pbio.3000295.e061g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e061" xlink:type="simple"/><mml:math display="inline" id="M61"><mml:mover accent="true"><mml:mrow><mml:mi>R</mml:mi></mml:mrow><mml:mo>^</mml:mo></mml:mover></mml:math></alternatives></inline-formula>) and parameters (<inline-formula id="pbio.3000295.e062"><alternatives><graphic id="pbio.3000295.e062g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e062" xlink:type="simple"/><mml:math display="inline" id="M62"><mml:msub><mml:mrow><mml:mover accent="true"><mml:mrow><mml:mi>K</mml:mi></mml:mrow><mml:mo>^</mml:mo></mml:mover></mml:mrow><mml:mrow><mml:mi>M</mml:mi><mml:mi>R</mml:mi></mml:mrow></mml:msub><mml:mo>,</mml:mo><mml:msub><mml:mrow><mml:mover accent="true"><mml:mrow><mml:mi>K</mml:mi></mml:mrow><mml:mo>^</mml:mo></mml:mover></mml:mrow><mml:mrow><mml:mi>H</mml:mi><mml:mi>R</mml:mi></mml:mrow></mml:msub><mml:mo>,</mml:mo><mml:msub><mml:mrow><mml:mover accent="true"><mml:mrow><mml:mi>c</mml:mi></mml:mrow><mml:mo>^</mml:mo></mml:mover></mml:mrow><mml:mrow><mml:mi>R</mml:mi><mml:mi>M</mml:mi></mml:mrow></mml:msub></mml:math></alternatives></inline-formula>, and <inline-formula id="pbio.3000295.e063"><alternatives><graphic id="pbio.3000295.e063g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e063" xlink:type="simple"/><mml:math display="inline" id="M63"><mml:msub><mml:mrow><mml:mover accent="true"><mml:mrow><mml:mi>c</mml:mi></mml:mrow><mml:mo>^</mml:mo></mml:mover></mml:mrow><mml:mrow><mml:mi>R</mml:mi><mml:mi>H</mml:mi></mml:mrow></mml:msub></mml:math></alternatives></inline-formula>) against <inline-formula id="pbio.3000295.e064"><alternatives><graphic id="pbio.3000295.e064g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e064" xlink:type="simple"/><mml:math display="inline" id="M64"><mml:mover><mml:mrow><mml:mi>R</mml:mi></mml:mrow><mml:mrow><mml:mo>~</mml:mo></mml:mrow></mml:mover><mml:mo>(</mml:mo><mml:mn>0</mml:mn><mml:mo>)</mml:mo></mml:math></alternatives></inline-formula> (Resource supplied to Newborn), Byproduct-related variable (<inline-formula id="pbio.3000295.e065"><alternatives><graphic id="pbio.3000295.e065g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e065" xlink:type="simple"/><mml:math display="inline" id="M65"><mml:mover accent="true"><mml:mrow><mml:mi>B</mml:mi></mml:mrow><mml:mo>^</mml:mo></mml:mover></mml:math></alternatives></inline-formula>) and parameters (<inline-formula id="pbio.3000295.e066"><alternatives><graphic id="pbio.3000295.e066g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e066" xlink:type="simple"/><mml:math display="inline" id="M66"><mml:msub><mml:mrow><mml:mover accent="true"><mml:mrow><mml:mi>K</mml:mi></mml:mrow><mml:mo>^</mml:mo></mml:mover></mml:mrow><mml:mrow><mml:mi>M</mml:mi><mml:mi>B</mml:mi></mml:mrow></mml:msub></mml:math></alternatives></inline-formula> and <inline-formula id="pbio.3000295.e067"><alternatives><graphic id="pbio.3000295.e067g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e067" xlink:type="simple"/><mml:math display="inline" id="M67"><mml:msub><mml:mrow><mml:mover accent="true"><mml:mrow><mml:mi>c</mml:mi></mml:mrow><mml:mo>^</mml:mo></mml:mover></mml:mrow><mml:mrow><mml:mi>B</mml:mi><mml:mi>M</mml:mi></mml:mrow></mml:msub></mml:math></alternatives></inline-formula>) against <inline-formula id="pbio.3000295.e068"><alternatives><graphic id="pbio.3000295.e068g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e068" xlink:type="simple"/><mml:math display="inline" id="M68"><mml:msub><mml:mrow><mml:mover accent="true"><mml:mrow><mml:mi>r</mml:mi></mml:mrow><mml:mo>~</mml:mo></mml:mover></mml:mrow><mml:mrow><mml:mi>B</mml:mi></mml:mrow></mml:msub></mml:math></alternatives></inline-formula> (amount of Byproduct released per H biomass grown), and Product-related variable (<inline-formula id="pbio.3000295.e069"><alternatives><graphic id="pbio.3000295.e069g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e069" xlink:type="simple"/><mml:math display="inline" id="M69"><mml:mover accent="true"><mml:mrow><mml:mi>P</mml:mi></mml:mrow><mml:mo>^</mml:mo></mml:mover></mml:math></alternatives></inline-formula>) against <inline-formula id="pbio.3000295.e070"><alternatives><graphic id="pbio.3000295.e070g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e070" xlink:type="simple"/><mml:math display="inline" id="M70"><mml:msub><mml:mrow><mml:mover accent="true"><mml:mrow><mml:mi>r</mml:mi></mml:mrow><mml:mo>~</mml:mo></mml:mover></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow></mml:msub></mml:math></alternatives></inline-formula> (amount of Product made at the cost of one M biomass). For biologists who usually think of quantities with units, the purpose of scaling (and getting rid of units) is to reduce the number of parameters. For example, H biomass growth rate can be rewritten as
<disp-formula id="pbio.3000295.e071">
<alternatives>
<graphic id="pbio.3000295.e071g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e071" xlink:type="simple"/>
<mml:math display="block" id="M71">
<mml:mrow><mml:mtable columnalign="left"><mml:mtr columnalign="left"><mml:mtd columnalign="left"><mml:mrow><mml:msub><mml:mi>g</mml:mi><mml:mi>H</mml:mi></mml:msub><mml:mrow><mml:mo>(</mml:mo><mml:mover accent="true"><mml:mi>R</mml:mi><mml:mo>^</mml:mo></mml:mover><mml:mo>)</mml:mo></mml:mrow></mml:mrow></mml:mtd><mml:mtd columnalign="left"><mml:mrow><mml:mo>=</mml:mo><mml:msub><mml:mi>g</mml:mi><mml:mrow><mml:mi>H</mml:mi><mml:mi>m</mml:mi><mml:mi>a</mml:mi><mml:mi>x</mml:mi></mml:mrow></mml:msub><mml:mfrac><mml:mover accent="true"><mml:mi>R</mml:mi><mml:mo>^</mml:mo></mml:mover><mml:mrow><mml:mover accent="true"><mml:mi>R</mml:mi><mml:mo>^</mml:mo></mml:mover><mml:mo>+</mml:mo><mml:msub><mml:mover accent="true"><mml:mi>K</mml:mi><mml:mo>^</mml:mo></mml:mover><mml:mrow><mml:mi>H</mml:mi><mml:mi>R</mml:mi></mml:mrow></mml:msub></mml:mrow></mml:mfrac></mml:mrow></mml:mtd></mml:mtr><mml:mtr columnalign="left"><mml:mtd columnalign="left"><mml:mrow/></mml:mtd><mml:mtd columnalign="left"><mml:mrow><mml:mo>=</mml:mo><mml:msub><mml:mi>g</mml:mi><mml:mrow><mml:mi>H</mml:mi><mml:mi>m</mml:mi><mml:mi>a</mml:mi><mml:mi>x</mml:mi></mml:mrow></mml:msub><mml:mrow><mml:mo>(</mml:mo><mml:mrow><mml:mfrac><mml:mover accent="true"><mml:mi>R</mml:mi><mml:mo>^</mml:mo></mml:mover><mml:mrow><mml:mover accent="true"><mml:mi>R</mml:mi><mml:mo>˜</mml:mo></mml:mover><mml:mrow><mml:mo>(</mml:mo><mml:mn>0</mml:mn><mml:mo>)</mml:mo></mml:mrow></mml:mrow></mml:mfrac></mml:mrow><mml:mo>)</mml:mo></mml:mrow><mml:mo>/</mml:mo><mml:mrow><mml:mo>(</mml:mo><mml:mrow><mml:mfrac><mml:mover accent="true"><mml:mi>R</mml:mi><mml:mo>^</mml:mo></mml:mover><mml:mrow><mml:mover accent="true"><mml:mi>R</mml:mi><mml:mo>˜</mml:mo></mml:mover><mml:mrow><mml:mo>(</mml:mo><mml:mn>0</mml:mn><mml:mo>)</mml:mo></mml:mrow></mml:mrow></mml:mfrac><mml:mo>+</mml:mo><mml:mfrac><mml:mrow><mml:msub><mml:mover accent="true"><mml:mi>K</mml:mi><mml:mo>^</mml:mo></mml:mover><mml:mrow><mml:mi>H</mml:mi><mml:mi>R</mml:mi></mml:mrow></mml:msub></mml:mrow><mml:mrow><mml:mover accent="true"><mml:mi>R</mml:mi><mml:mo>˜</mml:mo></mml:mover><mml:mrow><mml:mo>(</mml:mo><mml:mn>0</mml:mn><mml:mo>)</mml:mo></mml:mrow></mml:mrow></mml:mfrac></mml:mrow><mml:mo>)</mml:mo></mml:mrow></mml:mrow></mml:mtd></mml:mtr><mml:mtr columnalign="left"><mml:mtd columnalign="left"><mml:mrow/></mml:mtd><mml:mtd columnalign="left"><mml:mrow><mml:mo>=</mml:mo><mml:msub><mml:mi>g</mml:mi><mml:mrow><mml:mi>H</mml:mi><mml:mi>m</mml:mi><mml:mi>a</mml:mi><mml:mi>x</mml:mi></mml:mrow></mml:msub><mml:mfrac><mml:mi>R</mml:mi><mml:mrow><mml:mrow><mml:mo>(</mml:mo><mml:mrow><mml:mi>R</mml:mi><mml:mo>+</mml:mo><mml:msub><mml:mi>K</mml:mi><mml:mrow><mml:mi>H</mml:mi><mml:mi>R</mml:mi></mml:mrow></mml:msub></mml:mrow><mml:mo>)</mml:mo></mml:mrow></mml:mrow></mml:mfrac></mml:mrow></mml:mtd></mml:mtr><mml:mtr columnalign="left"><mml:mtd columnalign="left"><mml:mrow/></mml:mtd><mml:mtd columnalign="left"><mml:mrow><mml:mo>=</mml:mo><mml:msub><mml:mi>g</mml:mi><mml:mi>H</mml:mi></mml:msub><mml:mrow><mml:mo>(</mml:mo><mml:mi>R</mml:mi><mml:mo>)</mml:mo></mml:mrow></mml:mrow></mml:mtd></mml:mtr></mml:mtable></mml:mrow>
</mml:math>
</alternatives>
</disp-formula>
where <inline-formula id="pbio.3000295.e072"><alternatives><graphic id="pbio.3000295.e072g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e072" xlink:type="simple"/><mml:math display="inline" id="M72"><mml:mi>R</mml:mi><mml:mo>=</mml:mo><mml:mover accent="true"><mml:mrow><mml:mi>R</mml:mi></mml:mrow><mml:mo>^</mml:mo></mml:mover><mml:mo>/</mml:mo><mml:mover><mml:mrow><mml:mi>R</mml:mi></mml:mrow><mml:mrow><mml:mo>~</mml:mo></mml:mrow></mml:mover><mml:mo>(</mml:mo><mml:mn>0</mml:mn><mml:mo>)</mml:mo></mml:math></alternatives></inline-formula> and <inline-formula id="pbio.3000295.e073"><alternatives><graphic id="pbio.3000295.e073g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e073" xlink:type="simple"/><mml:math display="inline" id="M73"><mml:msub><mml:mrow><mml:mi>K</mml:mi></mml:mrow><mml:mrow><mml:mi>H</mml:mi><mml:mi>R</mml:mi></mml:mrow></mml:msub><mml:mo>=</mml:mo><mml:msub><mml:mrow><mml:mover accent="true"><mml:mrow><mml:mi>K</mml:mi></mml:mrow><mml:mo>^</mml:mo></mml:mover></mml:mrow><mml:mrow><mml:mi>H</mml:mi><mml:mi>R</mml:mi></mml:mrow></mml:msub><mml:mo>/</mml:mo><mml:mover><mml:mrow><mml:mi>R</mml:mi></mml:mrow><mml:mrow><mml:mo>~</mml:mo></mml:mrow></mml:mover><mml:mo>(</mml:mo><mml:mn>0</mml:mn><mml:mo>)</mml:mo></mml:math></alternatives></inline-formula>. Thus, the unscaled <inline-formula id="pbio.3000295.e074"><alternatives><graphic id="pbio.3000295.e074g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e074" xlink:type="simple"/><mml:math display="inline" id="M74"><mml:msub><mml:mrow><mml:mi>g</mml:mi></mml:mrow><mml:mrow><mml:mi>H</mml:mi></mml:mrow></mml:msub><mml:mo>(</mml:mo><mml:mover accent="true"><mml:mrow><mml:mi>R</mml:mi></mml:mrow><mml:mo>^</mml:mo></mml:mover><mml:mo>)</mml:mo></mml:math></alternatives></inline-formula> and the scaled <italic>g</italic><sub><italic>H</italic></sub>(<italic>R</italic>) share identical forms (<xref ref-type="supplementary-material" rid="pbio.3000295.s003">S3 Fig</xref>). After scaling, the value of <inline-formula id="pbio.3000295.e075"><alternatives><graphic id="pbio.3000295.e075g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e075" xlink:type="simple"/><mml:math display="inline" id="M75"><mml:mover><mml:mrow><mml:mi>R</mml:mi></mml:mrow><mml:mrow><mml:mo>~</mml:mo></mml:mrow></mml:mover><mml:mo>(</mml:mo><mml:mn>0</mml:mn><mml:mo>)</mml:mo></mml:math></alternatives></inline-formula> becomes irrelevant (1 with no unit). Similarly, because <inline-formula id="pbio.3000295.e076"><alternatives><graphic id="pbio.3000295.e076g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e076" xlink:type="simple"/><mml:math display="inline" id="M76"><mml:msub><mml:mrow><mml:mover accent="true"><mml:mrow><mml:mi>R</mml:mi></mml:mrow><mml:mo>^</mml:mo></mml:mover></mml:mrow><mml:mrow><mml:mi>M</mml:mi></mml:mrow></mml:msub><mml:mo>=</mml:mo><mml:mfrac><mml:mrow><mml:mover accent="true"><mml:mrow><mml:mi>R</mml:mi></mml:mrow><mml:mo>^</mml:mo></mml:mover></mml:mrow><mml:mrow><mml:mover><mml:mrow><mml:mi>R</mml:mi></mml:mrow><mml:mrow><mml:mo>~</mml:mo></mml:mrow></mml:mover><mml:mo>(</mml:mo><mml:mn>0</mml:mn><mml:mo>)</mml:mo></mml:mrow></mml:mfrac><mml:mo>/</mml:mo><mml:mfrac><mml:mrow><mml:msub><mml:mrow><mml:mover accent="true"><mml:mrow><mml:mi>K</mml:mi></mml:mrow><mml:mo>^</mml:mo></mml:mover></mml:mrow><mml:mrow><mml:mi>M</mml:mi><mml:mi>R</mml:mi></mml:mrow></mml:msub></mml:mrow><mml:mrow><mml:mover><mml:mrow><mml:mi>R</mml:mi></mml:mrow><mml:mrow><mml:mo>~</mml:mo></mml:mrow></mml:mover><mml:mo>(</mml:mo><mml:mn>0</mml:mn><mml:mo>)</mml:mo></mml:mrow></mml:mfrac><mml:mo>=</mml:mo><mml:mfrac><mml:mrow><mml:mi>R</mml:mi></mml:mrow><mml:mrow><mml:msub><mml:mrow><mml:mi>K</mml:mi></mml:mrow><mml:mrow><mml:mi>M</mml:mi><mml:mi>R</mml:mi></mml:mrow></mml:msub></mml:mrow></mml:mfrac><mml:mo>=</mml:mo><mml:msub><mml:mrow><mml:mi>R</mml:mi></mml:mrow><mml:mrow><mml:mi>M</mml:mi></mml:mrow></mml:msub></mml:math></alternatives></inline-formula> and <inline-formula id="pbio.3000295.e077"><alternatives><graphic id="pbio.3000295.e077g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e077" xlink:type="simple"/><mml:math display="inline" id="M77"><mml:msub><mml:mrow><mml:mover accent="true"><mml:mrow><mml:mi>B</mml:mi></mml:mrow><mml:mo>^</mml:mo></mml:mover></mml:mrow><mml:mrow><mml:mi>M</mml:mi></mml:mrow></mml:msub><mml:mo>=</mml:mo><mml:mfrac><mml:mrow><mml:mover accent="true"><mml:mrow><mml:mi>B</mml:mi></mml:mrow><mml:mo>^</mml:mo></mml:mover></mml:mrow><mml:mrow><mml:msub><mml:mrow><mml:mover accent="true"><mml:mrow><mml:mi>r</mml:mi></mml:mrow><mml:mo>~</mml:mo></mml:mover></mml:mrow><mml:mrow><mml:mi>B</mml:mi></mml:mrow></mml:msub></mml:mrow></mml:mfrac><mml:mo>/</mml:mo><mml:mfrac><mml:mrow><mml:msub><mml:mrow><mml:mover accent="true"><mml:mrow><mml:mi>K</mml:mi></mml:mrow><mml:mo>^</mml:mo></mml:mover></mml:mrow><mml:mrow><mml:mi>M</mml:mi><mml:mi>B</mml:mi></mml:mrow></mml:msub></mml:mrow><mml:mrow><mml:msub><mml:mrow><mml:mover accent="true"><mml:mrow><mml:mi>r</mml:mi></mml:mrow><mml:mo>~</mml:mo></mml:mover></mml:mrow><mml:mrow><mml:mi>B</mml:mi></mml:mrow></mml:msub></mml:mrow></mml:mfrac><mml:mo>=</mml:mo><mml:mfrac><mml:mrow><mml:mi>B</mml:mi></mml:mrow><mml:mrow><mml:msub><mml:mrow><mml:mi>K</mml:mi></mml:mrow><mml:mrow><mml:mi>M</mml:mi><mml:mi>B</mml:mi></mml:mrow></mml:msub></mml:mrow></mml:mfrac><mml:mo>=</mml:mo><mml:msub><mml:mrow><mml:mi>B</mml:mi></mml:mrow><mml:mrow><mml:mi>M</mml:mi></mml:mrow></mml:msub><mml:mo>,</mml:mo><mml:msub><mml:mrow><mml:mi>g</mml:mi></mml:mrow><mml:mrow><mml:mi>M</mml:mi></mml:mrow></mml:msub><mml:mo>(</mml:mo><mml:mover accent="true"><mml:mrow><mml:mi>R</mml:mi></mml:mrow><mml:mo>^</mml:mo></mml:mover><mml:mo>,</mml:mo><mml:mi>​</mml:mi><mml:mover accent="true"><mml:mrow><mml:mi>B</mml:mi></mml:mrow><mml:mo>^</mml:mo></mml:mover><mml:mo>)</mml:mo><mml:mo>=</mml:mo><mml:msub><mml:mrow><mml:mi>g</mml:mi></mml:mrow><mml:mrow><mml:mi>M</mml:mi></mml:mrow></mml:msub><mml:mo>(</mml:mo><mml:mi>R</mml:mi><mml:mo>,</mml:mo><mml:mi>​</mml:mi><mml:mi>B</mml:mi><mml:mo>)</mml:mo></mml:math></alternatives></inline-formula> (<xref ref-type="supplementary-material" rid="pbio.3000295.s003">S3 Fig</xref>).</p>
<p>Thus, scaled equations are as follows:
<disp-formula id="pbio.3000295.e078">
<alternatives>
<graphic id="pbio.3000295.e078g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e078" xlink:type="simple"/>
<mml:math display="block" id="M78">
<mml:mfrac><mml:mrow><mml:mi>d</mml:mi><mml:mi>H</mml:mi></mml:mrow><mml:mrow><mml:mi>d</mml:mi><mml:mi>t</mml:mi></mml:mrow></mml:mfrac><mml:mo>=</mml:mo><mml:msub><mml:mrow><mml:mi>g</mml:mi></mml:mrow><mml:mrow><mml:mi>H</mml:mi></mml:mrow></mml:msub><mml:mo>(</mml:mo><mml:mi>R</mml:mi><mml:mo>)</mml:mo><mml:mi>H</mml:mi><mml:mo>-</mml:mo><mml:msub><mml:mrow><mml:mi>δ</mml:mi></mml:mrow><mml:mrow><mml:mi>H</mml:mi></mml:mrow></mml:msub><mml:mi>H</mml:mi>
</mml:math>
</alternatives>
<label>(6)</label>
</disp-formula>
<disp-formula id="pbio.3000295.e079">
<alternatives>
<graphic id="pbio.3000295.e079g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e079" xlink:type="simple"/>
<mml:math display="block" id="M79">
<mml:mfrac><mml:mrow><mml:mi>d</mml:mi><mml:mi>M</mml:mi></mml:mrow><mml:mrow><mml:mi>d</mml:mi><mml:mi>t</mml:mi></mml:mrow></mml:mfrac><mml:mo>=</mml:mo><mml:mo>(</mml:mo><mml:mrow><mml:mn>1</mml:mn><mml:mo>-</mml:mo><mml:msub><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow></mml:msub></mml:mrow><mml:mo>)</mml:mo><mml:msub><mml:mrow><mml:mi>g</mml:mi></mml:mrow><mml:mrow><mml:mi>M</mml:mi></mml:mrow></mml:msub><mml:mo>(</mml:mo><mml:mi>R</mml:mi><mml:mo>,</mml:mo><mml:mi>​</mml:mi><mml:mi>B</mml:mi><mml:mo>)</mml:mo><mml:mi>M</mml:mi><mml:mo>-</mml:mo><mml:msub><mml:mrow><mml:mi>δ</mml:mi></mml:mrow><mml:mrow><mml:mi>M</mml:mi></mml:mrow></mml:msub><mml:mi>M</mml:mi>
</mml:math>
</alternatives>
<label>(7)</label>
</disp-formula>
<disp-formula id="pbio.3000295.e080">
<alternatives>
<graphic id="pbio.3000295.e080g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e080" xlink:type="simple"/>
<mml:math display="block" id="M80">
<mml:mrow><mml:mtable columnalign="left"><mml:mtr columnalign="left"><mml:mtd columnalign="left"><mml:mrow><mml:mfrac><mml:mrow><mml:mi>d</mml:mi><mml:mi>P</mml:mi></mml:mrow><mml:mrow><mml:mi>d</mml:mi><mml:mi>t</mml:mi></mml:mrow></mml:mfrac></mml:mrow></mml:mtd><mml:mtd columnalign="left"><mml:mrow><mml:mo>=</mml:mo><mml:mfrac><mml:mrow><mml:mi>d</mml:mi><mml:mover accent="true"><mml:mi>P</mml:mi><mml:mo>^</mml:mo></mml:mover></mml:mrow><mml:mrow><mml:msub><mml:mover accent="true"><mml:mi>r</mml:mi><mml:mo>˜</mml:mo></mml:mover><mml:mi>P</mml:mi></mml:msub><mml:mi>d</mml:mi><mml:mi>t</mml:mi></mml:mrow></mml:mfrac></mml:mrow></mml:mtd></mml:mtr><mml:mtr columnalign="left"><mml:mtd columnalign="left"><mml:mrow/></mml:mtd><mml:mtd columnalign="left"><mml:mrow><mml:mo>=</mml:mo><mml:msub><mml:mi>f</mml:mi><mml:mi>P</mml:mi></mml:msub><mml:msub><mml:mi>g</mml:mi><mml:mi>M</mml:mi></mml:msub><mml:mrow><mml:mo>(</mml:mo><mml:mrow><mml:mover accent="true"><mml:mi>R</mml:mi><mml:mo>^</mml:mo></mml:mover><mml:mo>,</mml:mo><mml:mover accent="true"><mml:mi>B</mml:mi><mml:mo>^</mml:mo></mml:mover></mml:mrow><mml:mo>)</mml:mo></mml:mrow><mml:mi>M</mml:mi></mml:mrow></mml:mtd></mml:mtr><mml:mtr columnalign="left"><mml:mtd columnalign="left"><mml:mrow/></mml:mtd><mml:mtd columnalign="left"><mml:mrow><mml:mo>=</mml:mo><mml:msub><mml:mi>f</mml:mi><mml:mi>P</mml:mi></mml:msub><mml:msub><mml:mi>g</mml:mi><mml:mi>M</mml:mi></mml:msub><mml:mrow><mml:mo>(</mml:mo><mml:mrow><mml:mi>R</mml:mi><mml:mo>,</mml:mo><mml:mi>B</mml:mi></mml:mrow><mml:mo>)</mml:mo></mml:mrow><mml:mi>M</mml:mi></mml:mrow></mml:mtd></mml:mtr></mml:mtable></mml:mrow>
</mml:math>
</alternatives>
<label>(8)</label>
</disp-formula>
<disp-formula id="pbio.3000295.e081">
<alternatives>
<graphic id="pbio.3000295.e081g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e081" xlink:type="simple"/>
<mml:math display="block" id="M81">
<mml:mrow><mml:mtable columnalign="left"><mml:mtr columnalign="left"><mml:mtd columnalign="left"><mml:mrow><mml:mfrac><mml:mrow><mml:mi>d</mml:mi><mml:mi>R</mml:mi></mml:mrow><mml:mrow><mml:mi>d</mml:mi><mml:mi>t</mml:mi></mml:mrow></mml:mfrac></mml:mrow></mml:mtd><mml:mtd columnalign="left"><mml:mrow><mml:mo>=</mml:mo><mml:mfrac><mml:mrow><mml:mi>d</mml:mi><mml:mover accent="true"><mml:mi>R</mml:mi><mml:mo>^</mml:mo></mml:mover><mml:mo>/</mml:mo><mml:mover accent="true"><mml:mi>R</mml:mi><mml:mo>˜</mml:mo></mml:mover><mml:mrow><mml:mo>(</mml:mo><mml:mn>0</mml:mn><mml:mo>)</mml:mo></mml:mrow></mml:mrow><mml:mrow><mml:mi>d</mml:mi><mml:mi>t</mml:mi></mml:mrow></mml:mfrac></mml:mrow></mml:mtd></mml:mtr><mml:mtr columnalign="left"><mml:mtd columnalign="left"><mml:mrow/></mml:mtd><mml:mtd columnalign="left"><mml:mrow><mml:mo>=</mml:mo><mml:mo>−</mml:mo><mml:mfrac><mml:mrow><mml:msub><mml:mover accent="true"><mml:mi>c</mml:mi><mml:mo>^</mml:mo></mml:mover><mml:mrow><mml:mi>R</mml:mi><mml:mi>M</mml:mi></mml:mrow></mml:msub></mml:mrow><mml:mrow><mml:mover accent="true"><mml:mi>R</mml:mi><mml:mo>˜</mml:mo></mml:mover><mml:mrow><mml:mo>(</mml:mo><mml:mn>0</mml:mn><mml:mo>)</mml:mo></mml:mrow></mml:mrow></mml:mfrac><mml:msub><mml:mi>g</mml:mi><mml:mi>M</mml:mi></mml:msub><mml:mrow><mml:mo>(</mml:mo><mml:mrow><mml:mover accent="true"><mml:mi>R</mml:mi><mml:mo>^</mml:mo></mml:mover><mml:mo>,</mml:mo><mml:mover accent="true"><mml:mi>B</mml:mi><mml:mo>^</mml:mo></mml:mover></mml:mrow><mml:mo>)</mml:mo></mml:mrow><mml:mi>M</mml:mi><mml:mo>−</mml:mo><mml:mfrac><mml:mrow><mml:msub><mml:mover accent="true"><mml:mi>c</mml:mi><mml:mo>^</mml:mo></mml:mover><mml:mrow><mml:mi>R</mml:mi><mml:mi>H</mml:mi></mml:mrow></mml:msub></mml:mrow><mml:mrow><mml:mover accent="true"><mml:mi>R</mml:mi><mml:mo>˜</mml:mo></mml:mover><mml:mrow><mml:mo>(</mml:mo><mml:mn>0</mml:mn><mml:mo>)</mml:mo></mml:mrow></mml:mrow></mml:mfrac><mml:msub><mml:mi>g</mml:mi><mml:mi>H</mml:mi></mml:msub><mml:mrow><mml:mo>(</mml:mo><mml:mover accent="true"><mml:mi>R</mml:mi><mml:mo>^</mml:mo></mml:mover><mml:mo>)</mml:mo></mml:mrow><mml:mi>H</mml:mi></mml:mrow></mml:mtd></mml:mtr><mml:mtr columnalign="left"><mml:mtd columnalign="left"><mml:mrow/></mml:mtd><mml:mtd columnalign="left"><mml:mrow><mml:mo>=</mml:mo><mml:mo>−</mml:mo><mml:msub><mml:mi>c</mml:mi><mml:mrow><mml:mi>R</mml:mi><mml:mi>M</mml:mi></mml:mrow></mml:msub><mml:msub><mml:mi>g</mml:mi><mml:mi>M</mml:mi></mml:msub><mml:mrow><mml:mo>(</mml:mo><mml:mrow><mml:mi>R</mml:mi><mml:mo>,</mml:mo><mml:mi>B</mml:mi></mml:mrow><mml:mo>)</mml:mo></mml:mrow><mml:mi>M</mml:mi><mml:mo>−</mml:mo><mml:msub><mml:mi>c</mml:mi><mml:mrow><mml:mi>R</mml:mi><mml:mi>H</mml:mi></mml:mrow></mml:msub><mml:msub><mml:mi>g</mml:mi><mml:mi>H</mml:mi></mml:msub><mml:mrow><mml:mo>(</mml:mo><mml:mi>R</mml:mi><mml:mo>)</mml:mo></mml:mrow><mml:mi>H</mml:mi></mml:mrow></mml:mtd></mml:mtr></mml:mtable></mml:mrow>
</mml:math>
</alternatives>
<label>(9)</label>
</disp-formula>
<disp-formula id="pbio.3000295.e082">
<alternatives>
<graphic id="pbio.3000295.e082g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e082" xlink:type="simple"/>
<mml:math display="block" id="M82">
<mml:mrow><mml:mtable columnalign="left"><mml:mtr columnalign="left"><mml:mtd columnalign="left"><mml:mrow><mml:mfrac><mml:mrow><mml:mi>d</mml:mi><mml:mi>B</mml:mi></mml:mrow><mml:mrow><mml:mi>d</mml:mi><mml:mi>t</mml:mi></mml:mrow></mml:mfrac></mml:mrow></mml:mtd><mml:mtd columnalign="left"><mml:mrow><mml:mo>=</mml:mo><mml:mfrac><mml:mrow><mml:mi>d</mml:mi><mml:mover accent="true"><mml:mi>B</mml:mi><mml:mo>^</mml:mo></mml:mover><mml:mo>/</mml:mo><mml:msub><mml:mover accent="true"><mml:mi>r</mml:mi><mml:mo>˜</mml:mo></mml:mover><mml:mi>B</mml:mi></mml:msub></mml:mrow><mml:mrow><mml:mi>d</mml:mi><mml:mi>t</mml:mi></mml:mrow></mml:mfrac></mml:mrow></mml:mtd></mml:mtr><mml:mtr columnalign="left"><mml:mtd columnalign="left"><mml:mrow/></mml:mtd><mml:mtd columnalign="left"><mml:mrow><mml:mo>=</mml:mo><mml:msub><mml:mi>g</mml:mi><mml:mi>H</mml:mi></mml:msub><mml:mrow><mml:mo>(</mml:mo><mml:mover accent="true"><mml:mi>R</mml:mi><mml:mo>^</mml:mo></mml:mover><mml:mo>)</mml:mo></mml:mrow><mml:mi>H</mml:mi><mml:mo>−</mml:mo><mml:mfrac><mml:mrow><mml:msub><mml:mover accent="true"><mml:mi>c</mml:mi><mml:mo>^</mml:mo></mml:mover><mml:mrow><mml:mi>B</mml:mi><mml:mi>M</mml:mi></mml:mrow></mml:msub></mml:mrow><mml:mrow><mml:msub><mml:mover accent="true"><mml:mi>r</mml:mi><mml:mo>˜</mml:mo></mml:mover><mml:mi>B</mml:mi></mml:msub></mml:mrow></mml:mfrac><mml:msub><mml:mi>g</mml:mi><mml:mi>M</mml:mi></mml:msub><mml:mrow><mml:mo>(</mml:mo><mml:mrow><mml:mover accent="true"><mml:mi>R</mml:mi><mml:mo>^</mml:mo></mml:mover><mml:mo>,</mml:mo><mml:mover accent="true"><mml:mi>B</mml:mi><mml:mo>^</mml:mo></mml:mover></mml:mrow><mml:mo>)</mml:mo></mml:mrow><mml:mi>M</mml:mi></mml:mrow></mml:mtd></mml:mtr><mml:mtr columnalign="left"><mml:mtd columnalign="left"><mml:mrow/></mml:mtd><mml:mtd columnalign="left"><mml:mrow><mml:mo>=</mml:mo><mml:msub><mml:mi>g</mml:mi><mml:mi>H</mml:mi></mml:msub><mml:mrow><mml:mo>(</mml:mo><mml:mi>R</mml:mi><mml:mo>)</mml:mo></mml:mrow><mml:mi>H</mml:mi><mml:mo>−</mml:mo><mml:msub><mml:mi>c</mml:mi><mml:mrow><mml:mi>B</mml:mi><mml:mi>M</mml:mi></mml:mrow></mml:msub><mml:msub><mml:mi>g</mml:mi><mml:mi>M</mml:mi></mml:msub><mml:mrow><mml:mo>(</mml:mo><mml:mrow><mml:mi>R</mml:mi><mml:mo>,</mml:mo><mml:mi>B</mml:mi></mml:mrow><mml:mo>)</mml:mo></mml:mrow><mml:mi>M</mml:mi></mml:mrow></mml:mtd></mml:mtr></mml:mtable></mml:mrow>
</mml:math>
</alternatives>
<label>(10)</label>
</disp-formula></p>
<p>We have not scaled time here, although time can also be scaled by, e.g., the community maturation time. Here, time has the unit of unit time (e.g., hour), and to avoid repetition, we often drop the time unit. Scaling factors and values of species phenotypes after scaling are in <xref ref-type="table" rid="pbio.3000295.t001">Table 1</xref>. Additional symbols, including state variables and selection scheme parameters, are summarized in <xref ref-type="table" rid="pbio.3000295.t002">Table 2</xref>.</p>
<table-wrap id="pbio.3000295.t001" position="float">
<object-id pub-id-type="doi">10.1371/journal.pbio.3000295.t001</object-id>
<label>Table 1</label> <caption><title>Parameters for ancestral and preadapted H and M.</title></caption>
<alternatives>
<graphic id="pbio.3000295.t001g" mimetype="image" position="float" xlink:href="info:doi/10.1371/journal.pbio.3000295.t001" xlink:type="simple"/>
<table>
<colgroup>
<col align="left" valign="middle"/>
<col align="left" valign="middle"/>
<col align="left" valign="middle"/>
<col align="left" valign="middle"/>
</colgroup>
<thead>
<tr>
<th align="left">Symbols</th>
<th align="center">Definition</th>
<th align="center">Ancestral</th>
<th align="center">Preadapted</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><inline-formula id="pbio.3000295.e083"><alternatives><graphic id="pbio.3000295.e083g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e083" xlink:type="simple"/><mml:math display="inline" id="M83"><mml:msub><mml:mrow><mml:mover accent="true"><mml:mrow><mml:mi>r</mml:mi></mml:mrow><mml:mo>~</mml:mo></mml:mover></mml:mrow><mml:mrow><mml:mi>B</mml:mi></mml:mrow></mml:msub></mml:math></alternatives></inline-formula></td>
<td align="left">Amount of <inline-formula id="pbio.3000295.e084"><alternatives><graphic id="pbio.3000295.e084g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e084" xlink:type="simple"/><mml:math display="inline" id="M84"><mml:mover accent="true"><mml:mrow><mml:mi>B</mml:mi></mml:mrow><mml:mo>^</mml:mo></mml:mover></mml:math></alternatives></inline-formula> released per H biomass grown</td>
<td align="center">Scaling factor, 1</td>
<td align="center">No change</td>
</tr>
<tr>
<td align="center"><inline-formula id="pbio.3000295.e085"><alternatives><graphic id="pbio.3000295.e085g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e085" xlink:type="simple"/><mml:math display="inline" id="M85"><mml:msub><mml:mrow><mml:mover accent="true"><mml:mrow><mml:mi>r</mml:mi></mml:mrow><mml:mo>~</mml:mo></mml:mover></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow></mml:msub></mml:math></alternatives></inline-formula></td>
<td align="left">Amount of <inline-formula id="pbio.3000295.e086"><alternatives><graphic id="pbio.3000295.e086g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e086" xlink:type="simple"/><mml:math display="inline" id="M86"><mml:mover accent="true"><mml:mrow><mml:mi>P</mml:mi></mml:mrow><mml:mo>^</mml:mo></mml:mover></mml:math></alternatives></inline-formula> released at the cost of one M biomass</td>
<td align="center">Scaling factor, 1</td>
<td align="center">No change</td>
</tr>
<tr>
<td align="center"><inline-formula id="pbio.3000295.e087"><alternatives><graphic id="pbio.3000295.e087g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e087" xlink:type="simple"/><mml:math display="inline" id="M87"><mml:mover><mml:mrow><mml:mi>R</mml:mi></mml:mrow><mml:mrow><mml:mo>~</mml:mo></mml:mrow></mml:mover><mml:mo>(</mml:mo><mml:mn>0</mml:mn><mml:mo>)</mml:mo></mml:math></alternatives></inline-formula></td>
<td align="left">Initial amount of Resource in Newborn</td>
<td align="center">Scaling factor, 1</td>
<td align="center"/>
</tr>
<tr>
<td align="center"><italic>f</italic><sub><italic>P</italic></sub></td>
<td align="left">Fraction of M growth diverted to producing P (M’s cost)</td>
<td align="center">0.10</td>
<td align="center">0.13<xref ref-type="table-fn" rid="t001fn003"><sup>#</sup></xref></td>
</tr>
<tr>
<td align="center"><italic>K</italic><sub><italic>MR</italic></sub></td>
<td align="left">Fold of <inline-formula id="pbio.3000295.e088"><alternatives><graphic id="pbio.3000295.e088g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e088" xlink:type="simple"/><mml:math display="inline" id="M88"><mml:mover><mml:mrow><mml:mi>R</mml:mi></mml:mrow><mml:mrow><mml:mo>~</mml:mo></mml:mrow></mml:mover><mml:mo>(</mml:mo><mml:mn>0</mml:mn><mml:mo>)</mml:mo></mml:math></alternatives></inline-formula> at which <italic>g</italic><sub><italic>Mmax</italic></sub>/2 is achieved in excess B</td>
<td align="center">1</td>
<td align="center">1/3<xref ref-type="table-fn" rid="t001fn002"><sup>†</sup></xref></td>
</tr>
<tr>
<td align="center"><italic>K</italic><sub><italic>MB</italic></sub></td>
<td align="left">Amount of <inline-formula id="pbio.3000295.e089"><alternatives><graphic id="pbio.3000295.e089g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e089" xlink:type="simple"/><mml:math display="inline" id="M89"><mml:mover accent="true"><mml:mrow><mml:mi>B</mml:mi></mml:mrow><mml:mo>^</mml:mo></mml:mover></mml:math></alternatives></inline-formula> at which <italic>g</italic><sub><italic>Mmax</italic></sub>/2 is achieved in excess R, scaled against <inline-formula id="pbio.3000295.e090"><alternatives><graphic id="pbio.3000295.e090g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e090" xlink:type="simple"/><mml:math display="inline" id="M90"><mml:msub><mml:mrow><mml:mover accent="true"><mml:mrow><mml:mi>r</mml:mi></mml:mrow><mml:mo>~</mml:mo></mml:mover></mml:mrow><mml:mrow><mml:mi>B</mml:mi></mml:mrow></mml:msub></mml:math></alternatives></inline-formula></td>
<td align="center"><inline-formula id="pbio.3000295.e091"><alternatives><graphic id="pbio.3000295.e091g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e091" xlink:type="simple"/><mml:math display="inline" id="M91"><mml:mfrac><mml:mrow><mml:mn>5</mml:mn></mml:mrow><mml:mrow><mml:mn>3</mml:mn></mml:mrow></mml:mfrac><mml:mo>×</mml:mo><mml:mn>1</mml:mn><mml:msup><mml:mrow><mml:mn>0</mml:mn></mml:mrow><mml:mrow><mml:mn>2</mml:mn></mml:mrow></mml:msup></mml:math></alternatives></inline-formula></td>
<td align="center"><inline-formula id="pbio.3000295.e092"><alternatives><graphic id="pbio.3000295.e092g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e092" xlink:type="simple"/><mml:math display="inline" id="M92"><mml:mfrac><mml:mrow><mml:mn>1</mml:mn></mml:mrow><mml:mrow><mml:mn>3</mml:mn></mml:mrow></mml:mfrac><mml:mo>×</mml:mo><mml:mn>1</mml:mn><mml:msup><mml:mrow><mml:mn>0</mml:mn></mml:mrow><mml:mrow><mml:mn>2</mml:mn></mml:mrow></mml:msup></mml:math></alternatives></inline-formula><xref ref-type="table-fn" rid="t001fn002"><sup>†</sup></xref></td>
</tr>
<tr>
<td align="center"><italic>K</italic><sub><italic>HR</italic></sub></td>
<td align="left">Fold of <inline-formula id="pbio.3000295.e093"><alternatives><graphic id="pbio.3000295.e093g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e093" xlink:type="simple"/><mml:math display="inline" id="M93"><mml:mover><mml:mrow><mml:mi>R</mml:mi></mml:mrow><mml:mrow><mml:mo>~</mml:mo></mml:mrow></mml:mover><mml:mo>(</mml:mo><mml:mn>0</mml:mn><mml:mo>)</mml:mo></mml:math></alternatives></inline-formula> at which <italic>g</italic><sub><italic>Hmax</italic></sub>/2 is achieved</td>
<td align="center">1</td>
<td align="center">1/5<xref ref-type="table-fn" rid="t001fn002"><sup>†</sup></xref></td>
</tr>
<tr>
<td align="center"><italic>g</italic><sub><italic>Mmax</italic></sub></td>
<td align="left">Maximal biomass growth rate of M</td>
<td align="center">0.58/unit time</td>
<td align="center">0.7/unit time<xref ref-type="table-fn" rid="t001fn001">*</xref></td>
</tr>
<tr>
<td align="center"><italic>g</italic><sub><italic>Hmax</italic></sub></td>
<td align="left">Maximal biomass growth rate of H</td>
<td align="center">0.25/unit time</td>
<td align="center">0.3/unit time<xref ref-type="table-fn" rid="t001fn001">*</xref></td>
</tr>
<tr>
<td align="center"><italic>δ</italic><sub><italic>M</italic></sub></td>
<td align="left">Death rate of M</td>
<td align="center">3.5 × 10<sup>−3</sup>/unit time</td>
<td align="center">No change</td>
</tr>
<tr>
<td align="center"><italic>δ</italic><sub><italic>H</italic></sub></td>
<td align="left">Death rate of H</td>
<td align="center">1.5 × 10<sup>−3</sup>/unit time</td>
<td align="center">No change</td>
</tr>
<tr>
<td align="center"><italic>c</italic><sub><italic>RM</italic></sub></td>
<td align="left">Fraction of <inline-formula id="pbio.3000295.e094"><alternatives><graphic id="pbio.3000295.e094g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e094" xlink:type="simple"/><mml:math display="inline" id="M94"><mml:mover><mml:mrow><mml:mi>R</mml:mi></mml:mrow><mml:mrow><mml:mo>~</mml:mo></mml:mrow></mml:mover><mml:mo>(</mml:mo><mml:mn>0</mml:mn><mml:mo>)</mml:mo></mml:math></alternatives></inline-formula> consumed per M biomass grown</td>
<td align="center">10<sup>−4</sup></td>
<td align="center">No change</td>
</tr>
<tr>
<td align="center"><italic>c</italic><sub><italic>RH</italic></sub></td>
<td align="left">Fraction of <inline-formula id="pbio.3000295.e095"><alternatives><graphic id="pbio.3000295.e095g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e095" xlink:type="simple"/><mml:math display="inline" id="M95"><mml:mover><mml:mrow><mml:mi>R</mml:mi></mml:mrow><mml:mrow><mml:mo>~</mml:mo></mml:mrow></mml:mover><mml:mo>(</mml:mo><mml:mn>0</mml:mn><mml:mo>)</mml:mo></mml:math></alternatives></inline-formula> consumed per H biomass grown</td>
<td align="center">10<sup>−4</sup></td>
<td align="center">No change</td>
</tr>
<tr>
<td align="center"><italic>c</italic><sub><italic>BM</italic></sub></td>
<td align="left">Amount of <inline-formula id="pbio.3000295.e096"><alternatives><graphic id="pbio.3000295.e096g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e096" xlink:type="simple"/><mml:math display="inline" id="M96"><mml:mover accent="true"><mml:mrow><mml:mi>B</mml:mi></mml:mrow><mml:mo>^</mml:mo></mml:mover></mml:math></alternatives></inline-formula> consumed per M biomass grown, scaled against <inline-formula id="pbio.3000295.e097"><alternatives><graphic id="pbio.3000295.e097g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e097" xlink:type="simple"/><mml:math display="inline" id="M97"><mml:msub><mml:mrow><mml:mover accent="true"><mml:mrow><mml:mi>r</mml:mi></mml:mrow><mml:mo>~</mml:mo></mml:mover></mml:mrow><mml:mrow><mml:mi>B</mml:mi></mml:mrow></mml:msub></mml:math></alternatives></inline-formula></td>
<td align="center"><inline-formula id="pbio.3000295.e098"><alternatives><graphic id="pbio.3000295.e098g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e098" xlink:type="simple"/><mml:math display="inline" id="M98"><mml:mfrac><mml:mrow><mml:mn>1</mml:mn></mml:mrow><mml:mrow><mml:mn>3</mml:mn></mml:mrow></mml:mfrac></mml:math></alternatives></inline-formula></td>
<td align="center">No change</td>
</tr>
<tr>
<td align="center"><italic>P</italic><sub><italic>mut</italic></sub></td>
<td align="left">Mutation probability per cell division for each mutable phenotype</td>
<td align="center">2 × 10<sup>−5</sup>~2 × 10<sup>−3</sup></td>
<td align="center"/>
</tr>
</tbody>
</table>
</alternatives>
<table-wrap-foot>
<fn id="t001fn001"><p>*Evolutionary upper bound for maximal growth rates for most simulations except <xref ref-type="fig" rid="pbio.3000295.g006">Fig 6</xref>, <xref ref-type="supplementary-material" rid="pbio.3000295.s017">S17</xref> and <xref ref-type="supplementary-material" rid="pbio.3000295.s024">S24B</xref> Figs where <italic>g</italic><sub><italic>Hmax</italic></sub> was allowed to increase to 0.8/unit time. In the latter case, the initial R(0) was increased to 10 units of <inline-formula id="pbio.3000295.e099"><alternatives><graphic id="pbio.3000295.e099g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e099" xlink:type="simple"/><mml:math display="inline" id="M99"><mml:mover><mml:mrow><mml:mi>R</mml:mi></mml:mrow><mml:mrow><mml:mo>~</mml:mo></mml:mrow></mml:mover><mml:mo>(</mml:mo><mml:mn>0</mml:mn><mml:mo>)</mml:mo></mml:math></alternatives></inline-formula>.</p></fn>
<fn id="t001fn002"><p><sup>†</sup>Evolutionary lower bound for <italic>K</italic><sub><italic>SpeciesMetabolite</italic></sub>, which corresponds to evolutionary upper bound for Species’s affinity for Metabolite (1/<italic>K</italic><sub><italic>SpeciesMetabolite</italic></sub>).</p></fn>
<fn id="t001fn003"><p><sup>#</sup><italic>f</italic><sub><italic>P</italic></sub> optimal for M-group function (<xref ref-type="supplementary-material" rid="pbio.3000295.s025">S25B Fig</xref>).</p></fn>
<fn id="t001fn004"><p>Parameters in the "Preadapted" column are used as the phenotypes at the beginning of most simulations unless otherwise specified. By preadapt, we mean that all growth parameters are at their evolutionary upper bounds, and that <italic>f</italic><sub><italic>P</italic></sub> is at the ancestral state (0.1~0.13). Methods Section 2 explains our parameter choices (including why some parameters are held constant during evolution).</p></fn>
</table-wrap-foot>
</table-wrap>
<table-wrap id="pbio.3000295.t002" position="float">
<object-id pub-id-type="doi">10.1371/journal.pbio.3000295.t002</object-id>
<label>Table 2</label> <caption><title>Additional symbols used in the simulation.</title></caption>
<alternatives>
<graphic id="pbio.3000295.t002g" mimetype="image" position="float" xlink:href="info:doi/10.1371/journal.pbio.3000295.t002" xlink:type="simple"/>
<table>
<colgroup>
<col align="left" valign="middle"/>
<col align="left" valign="middle"/>
</colgroup>
<thead>
<tr>
<th align="center">Symbols</th>
<th align="center">Definition</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><italic>T</italic></td>
<td align="left">Community maturation time, corresponding to the duration of a selection cycle</td>
</tr>
<tr>
<td align="center"><italic>t</italic></td>
<td align="left">Time within a selection cycle, 0 ≤ <italic>t</italic> ≤ <italic>T</italic></td>
</tr>
<tr>
<td align="center"><italic>M</italic>(<italic>t</italic>), <italic>H</italic>(<italic>t</italic>)</td>
<td align="left">The biomass of M or H in a community at time <italic>t</italic></td>
</tr>
<tr>
<td align="left"><italic>BM</italic>(<italic>t</italic>) = <italic>M</italic>(<italic>t</italic>) + <italic>H</italic>(<italic>t</italic>)</td>
<td align="left">The total biomass in a community at time <italic>t</italic></td>
</tr>
<tr>
<td align="center"><italic>ϕ</italic><sub><italic>M</italic></sub>(<italic>t</italic>)</td>
<td align="left">The fraction of M biomass at time <italic>t</italic></td>
</tr>
<tr>
<td align="center"><italic>BM</italic><sub><italic>target</italic></sub></td>
<td align="left">Preset target total biomass of Newborns during community reproduction</td>
</tr>
<tr>
<td align="center"><italic>I</italic><sub><italic>M</italic></sub>(<italic>t</italic>), <italic>I</italic><sub><italic>H</italic></sub>(<italic>t</italic>)</td>
<td align="left">The integer number of M or H cells in a community at time <italic>t</italic></td>
</tr>
<tr>
<td align="center"><italic>φ</italic><sub><italic>M</italic></sub>(<italic>t</italic>)</td>
<td align="left">The fraction of M individuals at time <italic>t</italic></td>
</tr>
<tr>
<td align="center"><italic>L</italic><sub><italic>M</italic></sub>(<italic>t</italic>), <italic>L</italic><sub><italic>H</italic></sub>(<italic>t</italic>)</td>
<td align="left">The biomass (length) of an individual M or H cell at time <italic>t</italic>, 1 ≤ <italic>L</italic><sub><italic>M</italic></sub>(<italic>t</italic>), <italic>L</italic><sub><italic>H</italic></sub>(<italic>t</italic>) ≤ 2</td>
</tr>
<tr>
<td align="center"><inline-formula id="pbio.3000295.e100"><alternatives><graphic id="pbio.3000295.e100g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e100" xlink:type="simple"/><mml:math display="inline" id="M100"><mml:mover accent="false"><mml:mrow><mml:mi>L</mml:mi></mml:mrow><mml:mo>¯</mml:mo></mml:mover></mml:math></alternatives></inline-formula></td>
<td align="left">The average biomass (length) of an individual M or H cell, set to 1.5</td>
</tr>
<tr>
<td align="center"><italic>P</italic>(<italic>t</italic>)</td>
<td align="left">The amount of Product P in a community at time <italic>t</italic>, scaled by <inline-formula id="pbio.3000295.e101"><alternatives><graphic id="pbio.3000295.e101g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e101" xlink:type="simple"/><mml:math display="inline" id="M101"><mml:msub><mml:mrow><mml:mover accent="true"><mml:mrow><mml:mi>r</mml:mi></mml:mrow><mml:mo>~</mml:mo></mml:mover></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow></mml:msub></mml:math></alternatives></inline-formula></td>
</tr>
<tr>
<td align="center"><italic>R</italic>(<italic>t</italic>)</td>
<td align="left">The amount of Resource R remaining in a community at time <italic>t</italic>, scaled by <inline-formula id="pbio.3000295.e102"><alternatives><graphic id="pbio.3000295.e102g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e102" xlink:type="simple"/><mml:math display="inline" id="M102"><mml:mover accent="true"><mml:mrow><mml:mi>R</mml:mi></mml:mrow><mml:mo>~</mml:mo></mml:mover><mml:mo>(</mml:mo><mml:mn>0</mml:mn><mml:mo>)</mml:mo></mml:math></alternatives></inline-formula></td>
</tr>
<tr>
<td align="center"><italic>B</italic>(<italic>t</italic>)</td>
<td align="left">The amount of Byproduct B in a community at time <italic>t</italic>, scaled by <inline-formula id="pbio.3000295.e103"><alternatives><graphic id="pbio.3000295.e103g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e103" xlink:type="simple"/><mml:math display="inline" id="M103"><mml:msub><mml:mrow><mml:mover accent="true"><mml:mrow><mml:mi>r</mml:mi></mml:mrow><mml:mo>~</mml:mo></mml:mover></mml:mrow><mml:mrow><mml:mi>B</mml:mi></mml:mrow></mml:msub></mml:math></alternatives></inline-formula></td>
</tr>
<tr>
<td align="center"><italic>n</italic><sub><italic>D</italic></sub></td>
<td align="left">The fold dilution when reproducing an Adult community</td>
</tr>
<tr>
<td align="center"><italic>n</italic><sub><italic>chosen</italic></sub></td>
<td align="left">Number of Adult communities chosen to reproduce</td>
</tr>
<tr>
<td align="center"><italic>n</italic><sub><italic>tot</italic></sub></td>
<td align="left">Total number of communities under selection in each cycle</td>
</tr>
</tbody>
</table>
</alternatives>
</table-wrap>
<p>Below, we calcuate the steady-state species ratio in the H-M community. From <xref ref-type="disp-formula" rid="pbio.3000295.e082">Eq 10</xref>:
<disp-formula id="pbio.3000295.e104">
<alternatives>
<graphic id="pbio.3000295.e104g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e104" xlink:type="simple"/>
<mml:math display="block" id="M104">
<mml:mrow><mml:msubsup><mml:mo stretchy="false">∫</mml:mo><mml:mrow><mml:mn>0</mml:mn></mml:mrow><mml:mrow><mml:mi>T</mml:mi></mml:mrow></mml:msubsup><mml:mrow><mml:mfrac><mml:mrow><mml:mi>d</mml:mi><mml:mi>B</mml:mi></mml:mrow><mml:mrow><mml:mi>d</mml:mi><mml:mi>t</mml:mi></mml:mrow></mml:mfrac><mml:mi>d</mml:mi><mml:mi>t</mml:mi></mml:mrow></mml:mrow><mml:mo>=</mml:mo><mml:mrow><mml:msubsup><mml:mo stretchy="false">∫</mml:mo><mml:mrow><mml:mn>0</mml:mn></mml:mrow><mml:mrow><mml:mi>T</mml:mi></mml:mrow></mml:msubsup><mml:mrow><mml:msub><mml:mrow><mml:mi>g</mml:mi></mml:mrow><mml:mrow><mml:mi>H</mml:mi></mml:mrow></mml:msub><mml:mo>(</mml:mo><mml:mi>R</mml:mi><mml:mo>)</mml:mo><mml:mi>H</mml:mi><mml:mi>d</mml:mi><mml:mi>t</mml:mi></mml:mrow></mml:mrow><mml:mo>-</mml:mo><mml:mrow><mml:msubsup><mml:mo stretchy="false">∫</mml:mo><mml:mrow><mml:mn>0</mml:mn></mml:mrow><mml:mrow><mml:mi>T</mml:mi></mml:mrow></mml:msubsup><mml:mrow><mml:msub><mml:mrow><mml:mi>c</mml:mi></mml:mrow><mml:mrow><mml:mi>B</mml:mi><mml:mi>M</mml:mi></mml:mrow></mml:msub><mml:msub><mml:mrow><mml:mi>g</mml:mi></mml:mrow><mml:mrow><mml:mi>M</mml:mi></mml:mrow></mml:msub><mml:mo>(</mml:mo><mml:mi>R</mml:mi><mml:mo>,</mml:mo><mml:mi mathvariant="normal">​</mml:mi><mml:mi>B</mml:mi><mml:mo>)</mml:mo><mml:mi>M</mml:mi><mml:mi>d</mml:mi><mml:mi>t</mml:mi><mml:mo>.</mml:mo></mml:mrow></mml:mrow>
</mml:math>
</alternatives>
<label>(11)</label>
</disp-formula></p>
<p>If we approximate Eqs <xref ref-type="disp-formula" rid="pbio.3000295.e078">6</xref>–<xref ref-type="disp-formula" rid="pbio.3000295.e079">7</xref> by ignoring the death rates so that <inline-formula id="pbio.3000295.e105"><alternatives><graphic id="pbio.3000295.e105g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e105" xlink:type="simple"/><mml:math display="inline" id="M105"><mml:mfrac><mml:mrow><mml:mi>d</mml:mi><mml:mi>H</mml:mi></mml:mrow><mml:mrow><mml:mi>d</mml:mi><mml:mi>t</mml:mi></mml:mrow></mml:mfrac><mml:mo>≈</mml:mo><mml:msub><mml:mrow><mml:mi>g</mml:mi></mml:mrow><mml:mrow><mml:mi>H</mml:mi></mml:mrow></mml:msub><mml:mo>(</mml:mo><mml:mi>R</mml:mi><mml:mo>)</mml:mo><mml:mi>H</mml:mi></mml:math></alternatives></inline-formula> and <inline-formula id="pbio.3000295.e106"><alternatives><graphic id="pbio.3000295.e106g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e106" xlink:type="simple"/><mml:math display="inline" id="M106"><mml:mfrac><mml:mrow><mml:mi>d</mml:mi><mml:mi>M</mml:mi></mml:mrow><mml:mrow><mml:mi>d</mml:mi><mml:mi>t</mml:mi></mml:mrow></mml:mfrac><mml:mo>≈</mml:mo><mml:mo>(</mml:mo><mml:mrow><mml:mn>1</mml:mn><mml:mo>-</mml:mo><mml:msub><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow></mml:msub></mml:mrow><mml:mo>)</mml:mo><mml:msub><mml:mrow><mml:mi>g</mml:mi></mml:mrow><mml:mrow><mml:mi>M</mml:mi></mml:mrow></mml:msub><mml:mo>(</mml:mo><mml:mi>R</mml:mi><mml:mo>,</mml:mo><mml:mi>​</mml:mi><mml:mi>B</mml:mi><mml:mo>)</mml:mo><mml:mi>M</mml:mi></mml:math></alternatives></inline-formula>, <xref ref-type="disp-formula" rid="pbio.3000295.e104">Eq 11</xref> becomes
<disp-formula id="pbio.3000295.e107">
<alternatives>
<graphic id="pbio.3000295.e107g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e107" xlink:type="simple"/>
<mml:math display="block" id="M107">
<mml:mi>B</mml:mi><mml:mo>(</mml:mo><mml:mi>T</mml:mi><mml:mo>)</mml:mo><mml:mo>≈</mml:mo><mml:mrow><mml:msubsup><mml:mo stretchy="false">∫</mml:mo><mml:mrow><mml:mn>0</mml:mn></mml:mrow><mml:mrow><mml:mi>T</mml:mi></mml:mrow></mml:msubsup><mml:mrow><mml:mfrac><mml:mrow><mml:mi>d</mml:mi><mml:mi>H</mml:mi></mml:mrow><mml:mrow><mml:mi>d</mml:mi><mml:mi>t</mml:mi></mml:mrow></mml:mfrac><mml:mi>d</mml:mi><mml:mi>t</mml:mi><mml:mo>-</mml:mo><mml:mfrac><mml:mrow><mml:msub><mml:mrow><mml:mi>c</mml:mi></mml:mrow><mml:mrow><mml:mi>B</mml:mi><mml:mi>M</mml:mi></mml:mrow></mml:msub></mml:mrow><mml:mrow><mml:mn>1</mml:mn><mml:mo>-</mml:mo><mml:msub><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow></mml:msub></mml:mrow></mml:mfrac></mml:mrow></mml:mrow><mml:mrow><mml:msubsup><mml:mo stretchy="false">∫</mml:mo><mml:mrow><mml:mn>0</mml:mn></mml:mrow><mml:mrow><mml:mi>T</mml:mi></mml:mrow></mml:msubsup><mml:mrow><mml:mfrac><mml:mrow><mml:mi>d</mml:mi><mml:mi>M</mml:mi></mml:mrow><mml:mrow><mml:mi>d</mml:mi><mml:mi>t</mml:mi></mml:mrow></mml:mfrac><mml:mi>d</mml:mi><mml:mi>t</mml:mi><mml:mo>.</mml:mo></mml:mrow></mml:mrow>
</mml:math>
</alternatives>
<label>(12)</label>
</disp-formula></p>
<p>In our simulations, with our parameter choices, if <italic>f</italic><sub><italic>P</italic></sub> is not too large (<italic>f</italic><sub><italic>P</italic></sub> &lt; 0.4), <italic>B</italic>(<italic>T</italic>) ≈ 0. If <italic>T</italic> is large enough so that both M and H have multiplied significantly and <italic>H</italic>(<italic>T</italic>) ≫ <italic>H</italic>(0) and <italic>M</italic>(<italic>T</italic>) ≫ <italic>M</italic>(<italic>0</italic>), <xref ref-type="disp-formula" rid="pbio.3000295.e107">Eq 12</xref> becomes
<disp-formula id="pbio.3000295.e108">
<alternatives>
<graphic id="pbio.3000295.e108g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e108" xlink:type="simple"/>
<mml:math display="block" id="M108">
<mml:mi>H</mml:mi><mml:mo>(</mml:mo><mml:mi>T</mml:mi><mml:mo>)</mml:mo><mml:mo>-</mml:mo><mml:mi>H</mml:mi><mml:mo>(</mml:mo><mml:mn>0</mml:mn><mml:mo>)</mml:mo><mml:mo>-</mml:mo><mml:mfrac><mml:mrow><mml:msub><mml:mrow><mml:mi>c</mml:mi></mml:mrow><mml:mrow><mml:mi>B</mml:mi><mml:mi>M</mml:mi></mml:mrow></mml:msub></mml:mrow><mml:mrow><mml:mn>1</mml:mn><mml:mo>-</mml:mo><mml:msub><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow></mml:msub></mml:mrow></mml:mfrac><mml:mo>(</mml:mo><mml:mrow><mml:mi>M</mml:mi><mml:mo>(</mml:mo><mml:mi>T</mml:mi><mml:mo>)</mml:mo><mml:mo>-</mml:mo><mml:mi>M</mml:mi><mml:mo>(</mml:mo><mml:mn>0</mml:mn><mml:mo>)</mml:mo></mml:mrow><mml:mo>)</mml:mo><mml:mo>≈</mml:mo><mml:mi>H</mml:mi><mml:mo>(</mml:mo><mml:mi>T</mml:mi><mml:mo>)</mml:mo><mml:mo>-</mml:mo><mml:mfrac><mml:mrow><mml:msub><mml:mrow><mml:mi>c</mml:mi></mml:mrow><mml:mrow><mml:mi>B</mml:mi><mml:mi>M</mml:mi></mml:mrow></mml:msub></mml:mrow><mml:mrow><mml:mn>1</mml:mn><mml:mo>-</mml:mo><mml:msub><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow></mml:msub></mml:mrow></mml:mfrac><mml:mi>M</mml:mi><mml:mo>(</mml:mo><mml:mi>T</mml:mi><mml:mo>)</mml:mo><mml:mo>≈</mml:mo><mml:mn>0</mml:mn><mml:mo>,</mml:mo>
</mml:math>
</alternatives>
</disp-formula>
and the M:H ratio at time <italic>T</italic> is
<disp-formula id="pbio.3000295.e109">
<alternatives>
<graphic id="pbio.3000295.e109g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e109" xlink:type="simple"/>
<mml:math display="block" id="M109">
<mml:mfrac><mml:mrow><mml:mi>M</mml:mi><mml:mo>(</mml:mo><mml:mi>T</mml:mi><mml:mo>)</mml:mo></mml:mrow><mml:mrow><mml:mi>H</mml:mi><mml:mo>(</mml:mo><mml:mi>T</mml:mi><mml:mo>)</mml:mo></mml:mrow></mml:mfrac><mml:mo>≈</mml:mo><mml:mfrac><mml:mrow><mml:mn>1</mml:mn><mml:mo>-</mml:mo><mml:msub><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow></mml:msub></mml:mrow><mml:mrow><mml:msub><mml:mrow><mml:mi>c</mml:mi></mml:mrow><mml:mrow><mml:mi>B</mml:mi><mml:mi>M</mml:mi></mml:mrow></mml:msub></mml:mrow></mml:mfrac><mml:mo>.</mml:mo>
</mml:math>
</alternatives>
<label>(13)</label>
</disp-formula></p>
<p>Thus when Byproduct <italic>B</italic>(<italic>T</italic>) ≈ 0, <italic>ϕ</italic><sub><italic>M</italic>,<italic>SS</italic></sub>, the steady-state <italic>ϕ</italic><sub><italic>M</italic></sub>, is then
<disp-formula id="pbio.3000295.e110">
<alternatives>
<graphic id="pbio.3000295.e110g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e110" xlink:type="simple"/>
<mml:math display="block" id="M110">
<mml:msub><mml:mrow><mml:mi>ϕ</mml:mi></mml:mrow><mml:mrow><mml:mi>M</mml:mi><mml:mo>,</mml:mo><mml:mi>S</mml:mi><mml:mi>S</mml:mi></mml:mrow></mml:msub><mml:mo>≈</mml:mo><mml:mfrac><mml:mrow><mml:mn>1</mml:mn><mml:mo>-</mml:mo><mml:msub><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow></mml:msub></mml:mrow><mml:mrow><mml:mn>1</mml:mn><mml:mo>-</mml:mo><mml:msub><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow></mml:msub><mml:mo>+</mml:mo><mml:msub><mml:mrow><mml:mi>c</mml:mi></mml:mrow><mml:mrow><mml:mi>B</mml:mi><mml:mi>M</mml:mi></mml:mrow></mml:msub></mml:mrow></mml:mfrac><mml:mo>.</mml:mo>
</mml:math>
</alternatives>
<label>(14)</label>
</disp-formula></p>
<p>For <italic>f</italic><sub><italic>P</italic></sub> &lt; 0.4, <xref ref-type="disp-formula" rid="pbio.3000295.e110">Eq 14</xref> is applicable and predicts the steady-state <italic>ϕ</italic><sub><italic>M</italic>,<italic>SS</italic></sub> well (see <xref ref-type="supplementary-material" rid="pbio.3000295.s026">S26 Fig</xref>). Note that significant deviation occurs when <italic>f</italic><sub><italic>P</italic></sub> &gt; 0.4. This is because when <italic>f</italic><sub><italic>P</italic></sub> is large, M’s biomass does not grow fast enough to deplete B so that we cannot approximate <italic>B</italic>(<italic>T</italic>) ≈ 0 anymore.</p>
</sec>
<sec id="sec022">
<title>2. Parameter choices</title>
<p>Our parameter choices are based on experimental measurements from a variety of organisms. Additionally, we chose growth parameters (maximal growth rates and affinities for metabolites) of ancestral and evolved H and M so that (i) the 2 species can coexist at a moderate ratio for a range of <italic>f</italic><sub><italic>P</italic></sub> over selection cycles and (ii) improving all growth parameters up to their evolutionary upper bounds generally improves community function (<xref ref-type="sec" rid="sec020">Methods</xref> Section 3). This way, we could simplify our simulation by fixing growth parameters at their respective evolutionary upper bounds. With only 1 mutable parameter (<italic>f</italic><sub><italic>P</italic></sub>), we can identify the optimal <inline-formula id="pbio.3000295.e111"><alternatives><graphic id="pbio.3000295.e111g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e111" xlink:type="simple"/><mml:math display="inline" id="M111"><mml:msubsup><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow><mml:mrow><mml:mi>*</mml:mi></mml:mrow></mml:msubsup></mml:math></alternatives></inline-formula> associated with maximal community function (<xref ref-type="fig" rid="pbio.3000295.g002">Fig 2B</xref>).</p>
<p>For ancestral H, we set <italic>g</italic><sub><italic>Hmax</italic></sub> = 0.25 (equivalent to 2.8-hour doubling time if we choose hour as the time unit), <italic>K</italic><sub><italic>HR</italic></sub> = 1 and <italic>c</italic><sub><italic>RH</italic></sub> = 10<sup>−4</sup> (both with unit of <inline-formula id="pbio.3000295.e112"><alternatives><graphic id="pbio.3000295.e112g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e112" xlink:type="simple"/><mml:math display="inline" id="M112"><mml:mover><mml:mrow><mml:mi>R</mml:mi></mml:mrow><mml:mrow><mml:mo>~</mml:mo></mml:mrow></mml:mover><mml:mo>(</mml:mo><mml:mn>0</mml:mn><mml:mo>)</mml:mo></mml:math></alternatives></inline-formula>) (<xref ref-type="table" rid="pbio.3000295.t001">Table 1</xref>). This way, ancestral H can grow by about 10-fold by the end of <italic>T</italic> = 17. These parameters are biologically realistic. For example, for a <italic>lys- S</italic>. <italic>cerevisiae</italic> strain with lysine as Resource, unscaled Monod constant is <inline-formula id="pbio.3000295.e113"><alternatives><graphic id="pbio.3000295.e113g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e113" xlink:type="simple"/><mml:math display="inline" id="M113"><mml:mover accent="true"><mml:mrow><mml:mi>K</mml:mi></mml:mrow><mml:mo>^</mml:mo></mml:mover><mml:mo>=</mml:mo><mml:mn>1</mml:mn><mml:mspace width="4pt"/><mml:mi>​</mml:mi><mml:mi>μ</mml:mi><mml:mi>M</mml:mi></mml:math></alternatives></inline-formula>, and consumption <inline-formula id="pbio.3000295.e114"><alternatives><graphic id="pbio.3000295.e114g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e114" xlink:type="simple"/><mml:math display="inline" id="M114"><mml:mover accent="true"><mml:mrow><mml:mi>c</mml:mi></mml:mrow><mml:mo>^</mml:mo></mml:mover></mml:math></alternatives></inline-formula> is 2 fmole/cell (Ref. [<xref ref-type="bibr" rid="pbio.3000295.ref041">41</xref>]’s <xref ref-type="fig" rid="pbio.3000295.g002">Fig 2</xref> and Ref. [<xref ref-type="bibr" rid="pbio.3000295.ref059">59</xref>]’s <xref ref-type="supplementary-material" rid="pbio.3000295.s058">S1 Data</xref>). Thus, if we choose 10 μL as the community volume <inline-formula id="pbio.3000295.e115"><alternatives><graphic id="pbio.3000295.e115g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e115" xlink:type="simple"/><mml:math display="inline" id="M115"><mml:mover accent="true"><mml:mrow><mml:mi>V</mml:mi></mml:mrow><mml:mo>^</mml:mo></mml:mover></mml:math></alternatives></inline-formula> and 2 μM as the initial Resource concentration, then <inline-formula id="pbio.3000295.e116"><alternatives><graphic id="pbio.3000295.e116g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e116" xlink:type="simple"/><mml:math display="inline" id="M116"><mml:mover><mml:mrow><mml:mi>R</mml:mi></mml:mrow><mml:mrow><mml:mo>~</mml:mo></mml:mrow></mml:mover><mml:mo>(</mml:mo><mml:mn>0</mml:mn><mml:mo>)</mml:mo><mml:mo>=</mml:mo><mml:mn>2</mml:mn><mml:mo>×</mml:mo><mml:mn>1</mml:mn><mml:msup><mml:mrow><mml:mn>0</mml:mn></mml:mrow><mml:mrow><mml:mn>4</mml:mn></mml:mrow></mml:msup></mml:math></alternatives></inline-formula> fmole. After scaling, <inline-formula id="pbio.3000295.e117"><alternatives><graphic id="pbio.3000295.e117g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e117" xlink:type="simple"/><mml:math display="inline" id="M117"><mml:mi>K</mml:mi><mml:mo>=</mml:mo><mml:mover accent="true"><mml:mrow><mml:mi>K</mml:mi></mml:mrow><mml:mo>^</mml:mo></mml:mover><mml:mover accent="true"><mml:mrow><mml:mi>V</mml:mi></mml:mrow><mml:mo>^</mml:mo></mml:mover><mml:mo>/</mml:mo><mml:mover><mml:mrow><mml:mi>R</mml:mi></mml:mrow><mml:mrow><mml:mo>~</mml:mo></mml:mrow></mml:mover><mml:mo>(</mml:mo><mml:mn>0</mml:mn><mml:mo>)</mml:mo><mml:mo>=</mml:mo><mml:mn>0.5</mml:mn></mml:math></alternatives></inline-formula> and <inline-formula id="pbio.3000295.e118"><alternatives><graphic id="pbio.3000295.e118g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e118" xlink:type="simple"/><mml:math display="inline" id="M118"><mml:mi>c</mml:mi><mml:mo>=</mml:mo><mml:mover accent="true"><mml:mrow><mml:mi>c</mml:mi></mml:mrow><mml:mo>^</mml:mo></mml:mover><mml:mo>/</mml:mo><mml:mover><mml:mrow><mml:mi>R</mml:mi></mml:mrow><mml:mrow><mml:mo>~</mml:mo></mml:mrow></mml:mover><mml:mo>(</mml:mo><mml:mn>0</mml:mn><mml:mo>)</mml:mo><mml:mo>=</mml:mo><mml:mn>1</mml:mn><mml:msup><mml:mrow><mml:mn>0</mml:mn></mml:mrow><mml:mrow><mml:mo>-</mml:mo><mml:mn>4</mml:mn></mml:mrow></mml:msup></mml:math></alternatives></inline-formula>, comparable to the values in <xref ref-type="table" rid="pbio.3000295.t001">Table 1</xref>.</p>
<p>To ensure the coexistence of H and M, M must grow faster than H for part of the maturation cycle. Because we have assumed M and H to have similar affinities for R (<xref ref-type="table" rid="pbio.3000295.t001">Table 1</xref>), <italic>g</italic><sub><italic>Mmax</italic></sub> must exceed <italic>g</italic><sub><italic>Hmax</italic></sub>, and M’s affinity for Byproduct (1/<italic>K</italic><sub><italic>MB</italic></sub>) must be sufficiently large. Moreover, metabolite release and consumption need to be balanced to avoid extreme ratios between metabolite releaser and consumer. Thus, for ancestral M, we chose <italic>g</italic><sub><italic>Mmax</italic></sub> = 0.58 (equivalent to a doubling time of 1.2 hours). We set <inline-formula id="pbio.3000295.e119"><alternatives><graphic id="pbio.3000295.e119g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e119" xlink:type="simple"/><mml:math display="inline" id="M119"><mml:msub><mml:mrow><mml:mi>c</mml:mi></mml:mrow><mml:mrow><mml:mi>B</mml:mi><mml:mi>M</mml:mi></mml:mrow></mml:msub><mml:mo>=</mml:mo><mml:mfrac><mml:mrow><mml:mn>1</mml:mn></mml:mrow><mml:mrow><mml:mn>3</mml:mn></mml:mrow></mml:mfrac></mml:math></alternatives></inline-formula> (units of <inline-formula id="pbio.3000295.e120"><alternatives><graphic id="pbio.3000295.e120g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e120" xlink:type="simple"/><mml:math display="inline" id="M120"><mml:msub><mml:mrow><mml:mover accent="true"><mml:mrow><mml:mi>r</mml:mi></mml:mrow><mml:mo>~</mml:mo></mml:mover></mml:mrow><mml:mrow><mml:mi>B</mml:mi></mml:mrow></mml:msub></mml:math></alternatives></inline-formula>), meaning that Byproduct released during one H biomass growth is sufficient to generate 3 potential M biomass, which is biologically achievable [<xref ref-type="bibr" rid="pbio.3000295.ref040">40</xref>, <xref ref-type="bibr" rid="pbio.3000295.ref081">81</xref>]. When we chose <inline-formula id="pbio.3000295.e121"><alternatives><graphic id="pbio.3000295.e121g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e121" xlink:type="simple"/><mml:math display="inline" id="M121"><mml:msub><mml:mrow><mml:mi>K</mml:mi></mml:mrow><mml:mrow><mml:mi>M</mml:mi><mml:mi>B</mml:mi></mml:mrow></mml:msub><mml:mo>=</mml:mo><mml:mfrac><mml:mrow><mml:mn>5</mml:mn></mml:mrow><mml:mrow><mml:mn>3</mml:mn></mml:mrow></mml:mfrac><mml:mo>×</mml:mo><mml:mn>1</mml:mn><mml:msup><mml:mrow><mml:mn>0</mml:mn></mml:mrow><mml:mrow><mml:mn>2</mml:mn></mml:mrow></mml:msup></mml:math></alternatives></inline-formula> (units of <inline-formula id="pbio.3000295.e122"><alternatives><graphic id="pbio.3000295.e122g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e122" xlink:type="simple"/><mml:math display="inline" id="M122"><mml:msub><mml:mrow><mml:mover accent="true"><mml:mrow><mml:mi>r</mml:mi></mml:mrow><mml:mo>~</mml:mo></mml:mover></mml:mrow><mml:mrow><mml:mi>B</mml:mi></mml:mrow></mml:msub></mml:math></alternatives></inline-formula>), H and M can coexist for a range of <italic>f</italic><sub><italic>P</italic></sub> (<xref ref-type="fig" rid="pbio.3000295.g002">Fig 2A</xref>). This value is biologically realistic. For example, suppose that H releases hypoxanthine as Byproduct. A hypoxanthine-requiring <italic>S</italic>. <italic>cerevisiae</italic> strain evolved under hypoxanthine limitation could achieve a Monod constant for hypoxanthine at 0.1 μM [<xref ref-type="bibr" rid="pbio.3000295.ref059">59</xref>]. If the volume of the community is 10 μL, then <inline-formula id="pbio.3000295.e123"><alternatives><graphic id="pbio.3000295.e123g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e123" xlink:type="simple"/><mml:math display="inline" id="M123"><mml:msub><mml:mrow><mml:mi>K</mml:mi></mml:mrow><mml:mrow><mml:mi>M</mml:mi><mml:mi>B</mml:mi></mml:mrow></mml:msub><mml:mo>=</mml:mo><mml:mfrac><mml:mrow><mml:mn>5</mml:mn></mml:mrow><mml:mrow><mml:mn>3</mml:mn></mml:mrow></mml:mfrac><mml:mo>×</mml:mo><mml:mn>1</mml:mn><mml:msup><mml:mrow><mml:mn>0</mml:mn></mml:mrow><mml:mrow><mml:mn>2</mml:mn></mml:mrow></mml:msup></mml:math></alternatives></inline-formula> (units of <inline-formula id="pbio.3000295.e124"><alternatives><graphic id="pbio.3000295.e124g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e124" xlink:type="simple"/><mml:math display="inline" id="M124"><mml:msub><mml:mrow><mml:mover accent="true"><mml:mrow><mml:mi>r</mml:mi></mml:mrow><mml:mo>~</mml:mo></mml:mover></mml:mrow><mml:mrow><mml:mi>B</mml:mi></mml:mrow></mml:msub></mml:math></alternatives></inline-formula>) corresponds to an absolute release rate <inline-formula id="pbio.3000295.e125"><alternatives><graphic id="pbio.3000295.e125g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e125" xlink:type="simple"/><mml:math display="inline" id="M125"><mml:msub><mml:mrow><mml:mover accent="true"><mml:mrow><mml:mi>r</mml:mi></mml:mrow><mml:mo>~</mml:mo></mml:mover></mml:mrow><mml:mrow><mml:mi>B</mml:mi></mml:mrow></mml:msub><mml:mo>=</mml:mo><mml:mn>0.1</mml:mn><mml:mspace width="4pt"/><mml:mi>​</mml:mi><mml:mi>μ</mml:mi><mml:mi>M</mml:mi><mml:mo>×</mml:mo><mml:mn>10</mml:mn><mml:mspace width="4pt"/><mml:mi>μ</mml:mi><mml:mi>L</mml:mi><mml:mo>/</mml:mo><mml:mo>(</mml:mo><mml:mfrac><mml:mrow><mml:mn>5</mml:mn></mml:mrow><mml:mrow><mml:mn>3</mml:mn></mml:mrow></mml:mfrac><mml:mo>×</mml:mo><mml:mn>1</mml:mn><mml:msup><mml:mrow><mml:mn>0</mml:mn></mml:mrow><mml:mrow><mml:mn>2</mml:mn></mml:mrow></mml:msup><mml:mo>)</mml:mo><mml:mo>=</mml:mo><mml:mn>6</mml:mn></mml:math></alternatives></inline-formula> fmole per releaser biomass born. At 8-hour doubling time, this translates to 6 fmole/(1 cell×8 h)≈ 0.75 fmole/cell/h, within the ballpark of experimental observation (approximately 0.3 fmole/cell/h [<xref ref-type="bibr" rid="pbio.3000295.ref059">59</xref>]). As a comparison, a lysine-overproducing yeast strain reaches a release rate of 0.8 fmole/cell/h [<xref ref-type="bibr" rid="pbio.3000295.ref059">59</xref>], and a leucine-overproducing strain reaches a release rate of 4.2 fmole/cell/h [<xref ref-type="bibr" rid="pbio.3000295.ref081">81</xref>]. Death rates <italic>δ</italic><sub><italic>H</italic></sub> and <italic>δ</italic><sub><italic>M</italic></sub> were chosen to be 0.5% of H and M’s respective upper bound of maximal growth rate, which are within the ballpark of experimental observations (e.g., the death rate of a <italic>lys-</italic> strain in lysine-limited chemostat is 0.4% of maximal growth rate [<xref ref-type="bibr" rid="pbio.3000295.ref059">59</xref>]).</p>
<p>We assume that H and M consume the same amount of Resource R per new cell (<italic>c</italic><sub><italic>RH</italic></sub> = <italic>c</italic><sub><italic>RM</italic></sub>) because the biomass of various microbes share similar elemental (e.g., carbon or nitrogen) compositions [<xref ref-type="bibr" rid="pbio.3000295.ref082">82</xref>]. Specifically, <italic>c</italic><sub><italic>RH</italic></sub> = <italic>c</italic><sub><italic>RM</italic></sub> = 10<sup>−4</sup> (units of <inline-formula id="pbio.3000295.e126"><alternatives><graphic id="pbio.3000295.e126g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e126" xlink:type="simple"/><mml:math display="inline" id="M126"><mml:mover><mml:mrow><mml:mi>R</mml:mi></mml:mrow><mml:mrow><mml:mo>~</mml:mo></mml:mrow></mml:mover><mml:mo>(</mml:mo><mml:mn>0</mml:mn><mml:mo>)</mml:mo></mml:math></alternatives></inline-formula>), meaning that the Resource supplied to each Newborn community can yield a maximum of 10<sup>4</sup> total biomass.</p>
<p>In some simulations (e.g., <xref ref-type="fig" rid="pbio.3000295.g006">Fig 6</xref>, <xref ref-type="supplementary-material" rid="pbio.3000295.s008">S8</xref> and <xref ref-type="supplementary-material" rid="pbio.3000295.s017">S17</xref> Figs), growth parameters (maximal growth rates <italic>g</italic><sub><italic>Mmax</italic></sub> and <italic>g</italic><sub><italic>Hmax</italic></sub> and affinities for nutrients 1/<italic>K</italic><sub><italic>MR</italic></sub>, 1/<italic>K</italic><sub><italic>MB</italic></sub>, and 1/<italic>K</italic><sub><italic>HR</italic></sub>) and production cost parameter (0 ≤ <italic>f</italic><sub><italic>P</italic></sub> ≤ 1) were allowed to change from ancestral values during community maturation because these phenotypes have been observed to rapidly evolve within dozens to hundreds of generations [<xref ref-type="bibr" rid="pbio.3000295.ref032">32</xref>, <xref ref-type="bibr" rid="pbio.3000295.ref033">33</xref>, <xref ref-type="bibr" rid="pbio.3000295.ref034">34</xref>, <xref ref-type="bibr" rid="pbio.3000295.ref035">35</xref>]. For example, several-fold improvement in nutrient affinity and 20% increase in maximal growth rate have been observed in experimental evolution [<xref ref-type="bibr" rid="pbio.3000295.ref033">33</xref>,<xref ref-type="bibr" rid="pbio.3000295.ref035">35</xref>]. We therefore allowed affinities 1/<italic>K</italic><sub><italic>MR</italic></sub>, 1/<italic>K</italic><sub><italic>HR</italic></sub>, and 1/<italic>K</italic><sub><italic>MB</italic></sub> to increase by up to 3-fold, 5-fold, and 5-fold, respectively, and allowed <italic>g</italic><sub><italic>Hmax</italic></sub> and <italic>g</italic><sub><italic>Mmax</italic></sub> to increase by up to 20%. These evolutionary upper bounds also ensured that evolved H and M could coexist for <italic>f</italic><sub><italic>P</italic></sub> &lt; 0.5 and that Resource was, on average, not depleted by <italic>T</italic> to avoid stationary phase.</p>
<p>We also simulated community selection in which improved growth parameters could reduce community function (<xref ref-type="fig" rid="pbio.3000295.g006">Fig 6</xref>, <xref ref-type="supplementary-material" rid="pbio.3000295.s017">S17</xref> and <xref ref-type="supplementary-material" rid="pbio.3000295.s024">S24B</xref> Figs). In this simulation, <italic>g</italic><sub><italic>Hmax</italic></sub> was allowed to increase by up to 220%, and each Newborn community was supplied with R that can support up to 10<sup>5</sup> cells (10 units of <inline-formula id="pbio.3000295.e127"><alternatives><graphic id="pbio.3000295.e127g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e127" xlink:type="simple"/><mml:math display="inline" id="M127"><mml:mover><mml:mrow><mml:mi>R</mml:mi></mml:mrow><mml:mrow><mml:mo>~</mml:mo></mml:mrow></mml:mover><mml:mo>(</mml:mo><mml:mn>0</mml:mn><mml:mo>)</mml:mo></mml:math></alternatives></inline-formula>).</p>
<p>Although empirical studies sometimes find trade-off between maximal growth rate and nutrient affinity (e.g., [<xref ref-type="bibr" rid="pbio.3000295.ref033">33</xref>]), for simplicity we assumed here that they are independent of each other. We held metabolite consumption (<italic>c</italic><sub><italic>RM</italic></sub>, <italic>c</italic><sub><italic>BM</italic></sub>, <italic>c</italic><sub><italic>RH</italic></sub>) constant because conversion of essential elements such as carbon and nitrogen into biomass is unlikely to evolve quickly and dramatically, especially when these elements are not in large excess [<xref ref-type="bibr" rid="pbio.3000295.ref082">82</xref>]. Similarly, we held the scaling factors <inline-formula id="pbio.3000295.e128"><alternatives><graphic id="pbio.3000295.e128g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e128" xlink:type="simple"/><mml:math display="inline" id="M128"><mml:msub><mml:mrow><mml:mover accent="true"><mml:mrow><mml:mi>r</mml:mi></mml:mrow><mml:mo>~</mml:mo></mml:mover></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow></mml:msub></mml:math></alternatives></inline-formula> and <inline-formula id="pbio.3000295.e129"><alternatives><graphic id="pbio.3000295.e129g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e129" xlink:type="simple"/><mml:math display="inline" id="M129"><mml:msub><mml:mrow><mml:mover accent="true"><mml:mrow><mml:mi>r</mml:mi></mml:mrow><mml:mo>~</mml:mo></mml:mover></mml:mrow><mml:mrow><mml:mi>B</mml:mi></mml:mrow></mml:msub></mml:math></alternatives></inline-formula> constant, assuming that they do not change rapidly during evolution due to stoichiometric constraints of biochemical reactions. Indeed, metabolite release rate and metabolite consumption amount per biomass (cell size) did not change significantly for a commonly-arising mutant in a yeast evolution experiment [<xref ref-type="bibr" rid="pbio.3000295.ref083">83</xref>]. We held death rates (<italic>δ</italic><sub><italic>M</italic></sub>, <italic>δ</italic><sub><italic>H</italic></sub>) constant because they are much smaller than growth rates in general and thus any changes are likely inconsequential.</p>
</sec>
<sec id="sec023">
<title>3. Choosing growth parameter ranges so that we can fix growth parameters to upper bounds</title>
<p>Improving individual growth (maximal growth rate and affinity for metabolites) does not always lead to improved community function (<xref ref-type="fig" rid="pbio.3000295.g006">Fig 6</xref>, <xref ref-type="supplementary-material" rid="pbio.3000295.s017">S17</xref> and <xref ref-type="supplementary-material" rid="pbio.3000295.s024">S24B</xref> Figs). However, for most simulations, we have chosen H and M growth parameters so that improving them from their ancestral values up to evolutionary upper bounds generally improves community function (see below). H and M with growth parameters at upper bounds are called “preadapted”. When Newborn communities are assembled from preadapted H and M, 2 advantages are apparent.</p>
<p>First, after fixing growth parameters of H and M to their upper bounds, we can identify the locally maximal community function. Specifically, for a Newborn with total biomass <italic>BM</italic>(0) = 100 and fixed Resource <italic>R</italic>, we can calculate <italic>P</italic>(<italic>T</italic>) under various cost <italic>f</italic><sub><italic>P</italic></sub> and fraction M biomass in Newborn <italic>ϕ</italic><sub><italic>M</italic></sub>(0), assuming that all M cells have the same <italic>f</italic><sub><italic>P</italic></sub>. Since both numbers range between 0 and 1, we calculate <italic>P</italic>(<italic>T</italic>, <italic>f</italic><sub><italic>P</italic></sub> = 0.01 × <italic>i</italic>, <italic>ϕ</italic><sub><italic>M</italic></sub>(0) = 0.01 × <italic>j</italic>) for integers <italic>i</italic> and <italic>j</italic> between 1 and 99. There is a single maximum for <italic>P</italic>(<italic>T</italic>) when <italic>i</italic> = 41 and <italic>j</italic> = 54. In other words, if M invests <inline-formula id="pbio.3000295.e130"><alternatives><graphic id="pbio.3000295.e130g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e130" xlink:type="simple"/><mml:math display="inline" id="M130"><mml:msubsup><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow><mml:mrow><mml:mi>*</mml:mi></mml:mrow></mml:msubsup><mml:mo>=</mml:mo><mml:mn>0.41</mml:mn></mml:math></alternatives></inline-formula> of its potential growth to make Product and if the fraction of M biomass in Newborn <inline-formula id="pbio.3000295.e131"><alternatives><graphic id="pbio.3000295.e131g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e131" xlink:type="simple"/><mml:math display="inline" id="M131"><mml:msubsup><mml:mrow><mml:mi>ϕ</mml:mi></mml:mrow><mml:mrow><mml:mi>M</mml:mi></mml:mrow><mml:mrow><mml:mi>*</mml:mi></mml:mrow></mml:msubsup><mml:mo>(</mml:mo><mml:mn>0</mml:mn><mml:mo>)</mml:mo><mml:mo>=</mml:mo><mml:mn>0.54</mml:mn></mml:math></alternatives></inline-formula>, then maximal community function <italic>P</italic>*(<italic>T</italic>) is achieved (<xref ref-type="fig" rid="pbio.3000295.g002">Fig 2B</xref>; magenta dashed line in <xref ref-type="fig" rid="pbio.3000295.g003">Fig 3</xref>).</p>
<p>Second, preadapted H and M are evolutionarily stable in the sense that deviations (reductions) from upper bounds will reduce both individual fitness and community function (<xref ref-type="supplementary-material" rid="pbio.3000295.s027">S27 Fig</xref>), and are therefore disfavored by intracommunity selection and intercommunity selection.</p>
<p>Below, we present evidence that within our parameter ranges (<xref ref-type="table" rid="pbio.3000295.t001">Table 1</xref>), improving growth parameters generally improves community function. When <italic>f</italic><sub><italic>P</italic></sub> is optimal for community function (<inline-formula id="pbio.3000295.e132"><alternatives><graphic id="pbio.3000295.e132g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e132" xlink:type="simple"/><mml:math display="inline" id="M132"><mml:msubsup><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow><mml:mrow><mml:mi>*</mml:mi></mml:mrow></mml:msubsup><mml:mo>=</mml:mo><mml:mn>0.41</mml:mn></mml:math></alternatives></inline-formula>), if we fix any 4 of the 5 growth parameters to their upper bounds, then as the remaining growth parameter improves, community function increases (magenta lines in top panels of <xref ref-type="supplementary-material" rid="pbio.3000295.s027">S27 Fig</xref>). Moreover, mutants with a reduced growth parameter are outcompeted by their preadapted counterparts (magenta lines in bottom panels of <xref ref-type="supplementary-material" rid="pbio.3000295.s027">S27 Fig</xref>).</p>
<p>When <inline-formula id="pbio.3000295.e133"><alternatives><graphic id="pbio.3000295.e133g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e133" xlink:type="simple"/><mml:math display="inline" id="M133"><mml:msub><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow></mml:msub><mml:mo>=</mml:mo><mml:msubsup><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>P</mml:mi><mml:mo>,</mml:mo><mml:mi>​</mml:mi><mml:mi>M</mml:mi><mml:mi>o</mml:mi><mml:mi>n</mml:mi><mml:mi>o</mml:mi></mml:mrow><mml:mrow><mml:mi>*</mml:mi></mml:mrow></mml:msubsup><mml:mo>=</mml:mo><mml:mn>0.13</mml:mn></mml:math></alternatives></inline-formula> (optimal for M monoculture function in <xref ref-type="supplementary-material" rid="pbio.3000295.s025">S25B Fig</xref>; the starting phenotype for most community selection simulations in this paper), community function and individual fitness generally increase as growth parameters improve (black dashed lines in <xref ref-type="supplementary-material" rid="pbio.3000295.s027">S27 Fig</xref>). However, when M’s affinity for Resource (1/<italic>K</italic><sub><italic>MR</italic></sub>) is reduced from upper bound, fitness improves slightly (black dashed line in <xref ref-type="supplementary-material" rid="pbio.3000295.s027">S27J Fig</xref>). Mathematically speaking, this is a consequence of the Mankad-Bungay model [<xref ref-type="bibr" rid="pbio.3000295.ref030">30</xref>] (<xref ref-type="supplementary-material" rid="pbio.3000295.s003">S3B Fig</xref>). Let <italic>R</italic><sub><italic>M</italic></sub> = <italic>R</italic>/<italic>K</italic><sub><italic>MR</italic></sub> and <italic>B</italic><sub><italic>M</italic></sub> = <italic>B</italic>/<italic>K</italic><sub><italic>MB</italic></sub>. Then,
<disp-formula id="pbio.3000295.e134">
<alternatives>
<graphic id="pbio.3000295.e134g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e134" xlink:type="simple"/>
<mml:math display="block" id="M134">
<mml:mrow><mml:mtable columnalign="left"><mml:mtr columnalign="left"><mml:mtd columnalign="left"><mml:mrow><mml:mfrac><mml:mrow><mml:mo>∂</mml:mo><mml:msub><mml:mi>g</mml:mi><mml:mi>M</mml:mi></mml:msub></mml:mrow><mml:mrow><mml:mo>∂</mml:mo><mml:msub><mml:mi>K</mml:mi><mml:mrow><mml:mi>M</mml:mi><mml:mi>R</mml:mi></mml:mrow></mml:msub></mml:mrow></mml:mfrac></mml:mrow></mml:mtd><mml:mtd columnalign="left"><mml:mrow><mml:mo>=</mml:mo><mml:mfrac><mml:mrow><mml:mo>∂</mml:mo><mml:mi>g</mml:mi></mml:mrow><mml:mrow><mml:mo>∂</mml:mo><mml:msub><mml:mi>R</mml:mi><mml:mi>M</mml:mi></mml:msub></mml:mrow></mml:mfrac><mml:mfrac><mml:mrow><mml:mo>∂</mml:mo><mml:msub><mml:mi>R</mml:mi><mml:mi>M</mml:mi></mml:msub></mml:mrow><mml:mrow><mml:mo>∂</mml:mo><mml:msub><mml:mi>K</mml:mi><mml:mrow><mml:mi>M</mml:mi><mml:mi>R</mml:mi></mml:mrow></mml:msub></mml:mrow></mml:mfrac><mml:mo>=</mml:mo><mml:mfrac><mml:mrow><mml:mo>∂</mml:mo><mml:mrow><mml:mo>[</mml:mo><mml:mrow><mml:msub><mml:mi>g</mml:mi><mml:mrow><mml:mi>m</mml:mi><mml:mi>a</mml:mi><mml:mi>x</mml:mi></mml:mrow></mml:msub><mml:mfrac><mml:mrow><mml:msub><mml:mi>R</mml:mi><mml:mi>M</mml:mi></mml:msub><mml:msub><mml:mi>B</mml:mi><mml:mi>M</mml:mi></mml:msub></mml:mrow><mml:mrow><mml:msub><mml:mi>R</mml:mi><mml:mi>M</mml:mi></mml:msub><mml:mo>+</mml:mo><mml:msub><mml:mi>B</mml:mi><mml:mi>M</mml:mi></mml:msub></mml:mrow></mml:mfrac><mml:mrow><mml:mo>(</mml:mo><mml:mrow><mml:mfrac><mml:mn>1</mml:mn><mml:mrow><mml:mn>1</mml:mn><mml:mo>+</mml:mo><mml:msub><mml:mi>R</mml:mi><mml:mi>M</mml:mi></mml:msub></mml:mrow></mml:mfrac><mml:mo>+</mml:mo><mml:mfrac><mml:mn>1</mml:mn><mml:mrow><mml:mn>1</mml:mn><mml:mo>+</mml:mo><mml:msub><mml:mi>B</mml:mi><mml:mi>M</mml:mi></mml:msub></mml:mrow></mml:mfrac></mml:mrow><mml:mo>)</mml:mo></mml:mrow></mml:mrow><mml:mo>]</mml:mo></mml:mrow></mml:mrow><mml:mrow><mml:mo>∂</mml:mo><mml:msub><mml:mi>R</mml:mi><mml:mi>M</mml:mi></mml:msub></mml:mrow></mml:mfrac><mml:mfrac><mml:mrow><mml:mo>∂</mml:mo><mml:msub><mml:mi>R</mml:mi><mml:mi>M</mml:mi></mml:msub></mml:mrow><mml:mrow><mml:mo>∂</mml:mo><mml:msub><mml:mi>K</mml:mi><mml:mrow><mml:mi>M</mml:mi><mml:mi>R</mml:mi></mml:mrow></mml:msub></mml:mrow></mml:mfrac></mml:mrow></mml:mtd></mml:mtr><mml:mtr columnalign="left"><mml:mtd columnalign="left"><mml:mrow/></mml:mtd><mml:mtd columnalign="left"><mml:mrow><mml:mo>=</mml:mo><mml:msub><mml:mi>g</mml:mi><mml:mrow><mml:mi>m</mml:mi><mml:mi>a</mml:mi><mml:mi>x</mml:mi></mml:mrow></mml:msub><mml:mfrac><mml:mrow><mml:mo>−</mml:mo><mml:msub><mml:mi>R</mml:mi><mml:mi>M</mml:mi></mml:msub></mml:mrow><mml:mrow><mml:msub><mml:mi>K</mml:mi><mml:mrow><mml:mi>M</mml:mi><mml:mi>R</mml:mi></mml:mrow></mml:msub></mml:mrow></mml:mfrac><mml:mrow><mml:mo>[</mml:mo><mml:mrow><mml:mfrac><mml:mrow><mml:msub><mml:mi>B</mml:mi><mml:mi>M</mml:mi></mml:msub><mml:mrow><mml:mo>(</mml:mo><mml:mrow><mml:msub><mml:mi>R</mml:mi><mml:mi>M</mml:mi></mml:msub><mml:mo>+</mml:mo><mml:msub><mml:mi>B</mml:mi><mml:mi>M</mml:mi></mml:msub></mml:mrow><mml:mo>)</mml:mo></mml:mrow><mml:mo>−</mml:mo><mml:msub><mml:mi>R</mml:mi><mml:mi>M</mml:mi></mml:msub><mml:msub><mml:mi>B</mml:mi><mml:mi>M</mml:mi></mml:msub></mml:mrow><mml:mrow><mml:msup><mml:mrow><mml:mrow><mml:mo>(</mml:mo><mml:mrow><mml:msub><mml:mi>R</mml:mi><mml:mi>M</mml:mi></mml:msub><mml:mo>+</mml:mo><mml:msub><mml:mi>B</mml:mi><mml:mi>M</mml:mi></mml:msub></mml:mrow><mml:mo>)</mml:mo></mml:mrow></mml:mrow><mml:mn>2</mml:mn></mml:msup></mml:mrow></mml:mfrac><mml:mrow><mml:mo>(</mml:mo><mml:mrow><mml:mfrac><mml:mn>1</mml:mn><mml:mrow><mml:mn>1</mml:mn><mml:mo>+</mml:mo><mml:msub><mml:mi>R</mml:mi><mml:mi>M</mml:mi></mml:msub></mml:mrow></mml:mfrac><mml:mo>+</mml:mo><mml:mfrac><mml:mn>1</mml:mn><mml:mrow><mml:mn>1</mml:mn><mml:mo>+</mml:mo><mml:msub><mml:mi>B</mml:mi><mml:mi>M</mml:mi></mml:msub></mml:mrow></mml:mfrac></mml:mrow><mml:mo>)</mml:mo></mml:mrow><mml:mo>−</mml:mo><mml:mfrac><mml:mrow><mml:msub><mml:mi>R</mml:mi><mml:mi>M</mml:mi></mml:msub><mml:msub><mml:mi>B</mml:mi><mml:mi>M</mml:mi></mml:msub></mml:mrow><mml:mrow><mml:msub><mml:mi>R</mml:mi><mml:mi>M</mml:mi></mml:msub><mml:mo>+</mml:mo><mml:msub><mml:mi>B</mml:mi><mml:mi>M</mml:mi></mml:msub></mml:mrow></mml:mfrac><mml:mfrac><mml:mn>1</mml:mn><mml:mrow><mml:msup><mml:mrow><mml:mrow><mml:mo>(</mml:mo><mml:mrow><mml:mn>1</mml:mn><mml:mo>+</mml:mo><mml:msub><mml:mi>R</mml:mi><mml:mi>M</mml:mi></mml:msub></mml:mrow><mml:mo>)</mml:mo></mml:mrow></mml:mrow><mml:mn>2</mml:mn></mml:msup></mml:mrow></mml:mfrac></mml:mrow><mml:mo>]</mml:mo></mml:mrow></mml:mrow></mml:mtd></mml:mtr><mml:mtr columnalign="left"><mml:mtd columnalign="left"><mml:mrow/></mml:mtd><mml:mtd columnalign="left"><mml:mrow><mml:mo>=</mml:mo><mml:msub><mml:mi>g</mml:mi><mml:mrow><mml:mi>m</mml:mi><mml:mi>a</mml:mi><mml:mi>x</mml:mi></mml:mrow></mml:msub><mml:mfrac><mml:mrow><mml:msub><mml:mi>R</mml:mi><mml:mi>M</mml:mi></mml:msub><mml:msub><mml:mi>B</mml:mi><mml:mi>M</mml:mi></mml:msub></mml:mrow><mml:mrow><mml:mrow><mml:mo>(</mml:mo><mml:mrow><mml:msub><mml:mi>R</mml:mi><mml:mi>M</mml:mi></mml:msub><mml:mo>+</mml:mo><mml:msub><mml:mi>B</mml:mi><mml:mi>M</mml:mi></mml:msub></mml:mrow><mml:mo>)</mml:mo></mml:mrow><mml:msub><mml:mi>K</mml:mi><mml:mrow><mml:mi>M</mml:mi><mml:mi>R</mml:mi></mml:mrow></mml:msub></mml:mrow></mml:mfrac><mml:mrow><mml:mo>(</mml:mo><mml:mrow><mml:mfrac><mml:mrow><mml:msub><mml:mi>R</mml:mi><mml:mi>M</mml:mi></mml:msub></mml:mrow><mml:mrow><mml:msup><mml:mrow><mml:mo stretchy="false">(</mml:mo><mml:mn>1</mml:mn><mml:mo>+</mml:mo><mml:msub><mml:mi>R</mml:mi><mml:mi>M</mml:mi></mml:msub><mml:mo stretchy="false">)</mml:mo></mml:mrow><mml:mn>2</mml:mn></mml:msup></mml:mrow></mml:mfrac><mml:mo>−</mml:mo><mml:mfrac><mml:mrow><mml:msub><mml:mi>B</mml:mi><mml:mi>M</mml:mi></mml:msub></mml:mrow><mml:mrow><mml:msub><mml:mi>R</mml:mi><mml:mi>M</mml:mi></mml:msub><mml:mo>+</mml:mo><mml:msub><mml:mi>B</mml:mi><mml:mi>M</mml:mi></mml:msub></mml:mrow></mml:mfrac><mml:mrow><mml:mo>(</mml:mo><mml:mrow><mml:mfrac><mml:mn>1</mml:mn><mml:mrow><mml:mn>1</mml:mn><mml:mo>+</mml:mo><mml:msub><mml:mi>R</mml:mi><mml:mi>M</mml:mi></mml:msub></mml:mrow></mml:mfrac><mml:mo>+</mml:mo><mml:mfrac><mml:mn>1</mml:mn><mml:mrow><mml:mn>1</mml:mn><mml:mo>+</mml:mo><mml:msub><mml:mi>B</mml:mi><mml:mi>M</mml:mi></mml:msub></mml:mrow></mml:mfrac></mml:mrow><mml:mo>)</mml:mo></mml:mrow></mml:mrow><mml:mo>)</mml:mo></mml:mrow></mml:mrow></mml:mtd></mml:mtr></mml:mtable></mml:mrow>
</mml:math>
</alternatives>
</disp-formula></p>
<p>If <italic>R</italic><sub><italic>M</italic></sub> ≪ 1 ≪ <italic>B</italic><sub><italic>M</italic></sub> (corresponding to limiting R and abundant B),
<disp-formula id="pbio.3000295.e135">
<alternatives>
<graphic id="pbio.3000295.e135g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e135" xlink:type="simple"/>
<mml:math display="block" id="M135">
<mml:mfrac><mml:mrow><mml:msub><mml:mrow><mml:mi>R</mml:mi></mml:mrow><mml:mrow><mml:mi>M</mml:mi></mml:mrow></mml:msub></mml:mrow><mml:mrow><mml:mo>(</mml:mo><mml:mn>1</mml:mn><mml:mo>+</mml:mo><mml:msub><mml:mrow><mml:mi>R</mml:mi></mml:mrow><mml:mrow><mml:mi>M</mml:mi></mml:mrow></mml:msub><mml:msup><mml:mrow><mml:mo>)</mml:mo></mml:mrow><mml:mrow><mml:mn>2</mml:mn></mml:mrow></mml:msup></mml:mrow></mml:mfrac><mml:mo>-</mml:mo><mml:mfrac><mml:mrow><mml:msub><mml:mrow><mml:mi>B</mml:mi></mml:mrow><mml:mrow><mml:mi>M</mml:mi></mml:mrow></mml:msub></mml:mrow><mml:mrow><mml:msub><mml:mrow><mml:mi>R</mml:mi></mml:mrow><mml:mrow><mml:mi>M</mml:mi></mml:mrow></mml:msub><mml:mo>+</mml:mo><mml:msub><mml:mrow><mml:mi>B</mml:mi></mml:mrow><mml:mrow><mml:mi>M</mml:mi></mml:mrow></mml:msub></mml:mrow></mml:mfrac><mml:mo>(</mml:mo><mml:mrow><mml:mfrac><mml:mrow><mml:mn>1</mml:mn></mml:mrow><mml:mrow><mml:mn>1</mml:mn><mml:mo>+</mml:mo><mml:msub><mml:mrow><mml:mi>R</mml:mi></mml:mrow><mml:mrow><mml:mi>M</mml:mi></mml:mrow></mml:msub></mml:mrow></mml:mfrac><mml:mo>+</mml:mo><mml:mfrac><mml:mrow><mml:mn>1</mml:mn></mml:mrow><mml:mrow><mml:mn>1</mml:mn><mml:mo>+</mml:mo><mml:msub><mml:mrow><mml:mi>B</mml:mi></mml:mrow><mml:mrow><mml:mi>M</mml:mi></mml:mrow></mml:msub></mml:mrow></mml:mfrac></mml:mrow><mml:mo>)</mml:mo><mml:mo>≈</mml:mo><mml:mfrac><mml:mrow><mml:msub><mml:mrow><mml:mi>R</mml:mi></mml:mrow><mml:mrow><mml:mi>M</mml:mi></mml:mrow></mml:msub></mml:mrow><mml:mrow><mml:mo>(</mml:mo><mml:mn>1</mml:mn><mml:mo>+</mml:mo><mml:msub><mml:mrow><mml:mi>R</mml:mi></mml:mrow><mml:mrow><mml:mi>M</mml:mi></mml:mrow></mml:msub><mml:msup><mml:mrow><mml:mo>)</mml:mo></mml:mrow><mml:mrow><mml:mn>2</mml:mn></mml:mrow></mml:msup></mml:mrow></mml:mfrac><mml:mo>-</mml:mo><mml:mfrac><mml:mrow><mml:mn>1</mml:mn></mml:mrow><mml:mrow><mml:mn>1</mml:mn><mml:mo>+</mml:mo><mml:msub><mml:mrow><mml:mi>R</mml:mi></mml:mrow><mml:mrow><mml:mi>M</mml:mi></mml:mrow></mml:msub></mml:mrow></mml:mfrac><mml:mo>=</mml:mo><mml:mo>-</mml:mo><mml:mfrac><mml:mrow><mml:mn>1</mml:mn></mml:mrow><mml:mrow><mml:mo>(</mml:mo><mml:mn>1</mml:mn><mml:mo>+</mml:mo><mml:msub><mml:mrow><mml:mi>R</mml:mi></mml:mrow><mml:mrow><mml:mi>M</mml:mi></mml:mrow></mml:msub><mml:msup><mml:mrow><mml:mo>)</mml:mo></mml:mrow><mml:mrow><mml:mn>2</mml:mn></mml:mrow></mml:msup></mml:mrow></mml:mfrac>
</mml:math>
</alternatives>
<label>(15)</label>
</disp-formula>
and thus <inline-formula id="pbio.3000295.e136"><alternatives><graphic id="pbio.3000295.e136g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e136" xlink:type="simple"/><mml:math display="inline" id="M136"><mml:mfrac><mml:mrow><mml:mo>∂</mml:mo><mml:msub><mml:mrow><mml:mi>g</mml:mi></mml:mrow><mml:mrow><mml:mi>M</mml:mi></mml:mrow></mml:msub></mml:mrow><mml:mrow><mml:mo>∂</mml:mo><mml:msub><mml:mrow><mml:mi>K</mml:mi></mml:mrow><mml:mrow><mml:mi>M</mml:mi><mml:mi>R</mml:mi></mml:mrow></mml:msub></mml:mrow></mml:mfrac><mml:mo>&lt;</mml:mo><mml:mn>0</mml:mn></mml:math></alternatives></inline-formula>. This is the familiar case in which growth rate increases as the Monod constant decreases (i.e., affinity increases). However, if <italic>B</italic><sub><italic>M</italic></sub> ≪ 1 ≪ <italic>R</italic><sub><italic>M</italic></sub>
<disp-formula id="pbio.3000295.e137">
<alternatives>
<graphic id="pbio.3000295.e137g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e137" xlink:type="simple"/>
<mml:math display="block" id="M137">
<mml:mfrac><mml:mrow><mml:msub><mml:mrow><mml:mi>R</mml:mi></mml:mrow><mml:mrow><mml:mi>M</mml:mi></mml:mrow></mml:msub></mml:mrow><mml:mrow><mml:mo>(</mml:mo><mml:mn>1</mml:mn><mml:mo>+</mml:mo><mml:msub><mml:mrow><mml:mi>R</mml:mi></mml:mrow><mml:mrow><mml:mi>M</mml:mi></mml:mrow></mml:msub><mml:msup><mml:mrow><mml:mo>)</mml:mo></mml:mrow><mml:mrow><mml:mn>2</mml:mn></mml:mrow></mml:msup></mml:mrow></mml:mfrac><mml:mo>-</mml:mo><mml:mfrac><mml:mrow><mml:msub><mml:mrow><mml:mi>B</mml:mi></mml:mrow><mml:mrow><mml:mi>M</mml:mi></mml:mrow></mml:msub></mml:mrow><mml:mrow><mml:msub><mml:mrow><mml:mi>R</mml:mi></mml:mrow><mml:mrow><mml:mi>M</mml:mi></mml:mrow></mml:msub><mml:mo>+</mml:mo><mml:msub><mml:mrow><mml:mi>B</mml:mi></mml:mrow><mml:mrow><mml:mi>M</mml:mi></mml:mrow></mml:msub></mml:mrow></mml:mfrac><mml:mo>(</mml:mo><mml:mrow><mml:mfrac><mml:mrow><mml:mn>1</mml:mn></mml:mrow><mml:mrow><mml:mn>1</mml:mn><mml:mo>+</mml:mo><mml:msub><mml:mrow><mml:mi>R</mml:mi></mml:mrow><mml:mrow><mml:mi>M</mml:mi></mml:mrow></mml:msub></mml:mrow></mml:mfrac><mml:mo>+</mml:mo><mml:mfrac><mml:mrow><mml:mn>1</mml:mn></mml:mrow><mml:mrow><mml:mn>1</mml:mn><mml:mo>+</mml:mo><mml:msub><mml:mrow><mml:mi>B</mml:mi></mml:mrow><mml:mrow><mml:mi>M</mml:mi></mml:mrow></mml:msub></mml:mrow></mml:mfrac></mml:mrow><mml:mo>)</mml:mo><mml:mo>≈</mml:mo><mml:mfrac><mml:mrow><mml:mn>1</mml:mn></mml:mrow><mml:mrow><mml:msub><mml:mrow><mml:mi>R</mml:mi></mml:mrow><mml:mrow><mml:mi>M</mml:mi></mml:mrow></mml:msub></mml:mrow></mml:mfrac><mml:mo>-</mml:mo><mml:mfrac><mml:mrow><mml:msub><mml:mrow><mml:mi>B</mml:mi></mml:mrow><mml:mrow><mml:mi>M</mml:mi></mml:mrow></mml:msub></mml:mrow><mml:mrow><mml:msub><mml:mrow><mml:mi>R</mml:mi></mml:mrow><mml:mrow><mml:mi>M</mml:mi></mml:mrow></mml:msub></mml:mrow></mml:mfrac><mml:mo>(</mml:mo><mml:mrow><mml:mfrac><mml:mrow><mml:mn>1</mml:mn></mml:mrow><mml:mrow><mml:mn>1</mml:mn><mml:mo>+</mml:mo><mml:msub><mml:mrow><mml:mi>B</mml:mi></mml:mrow><mml:mrow><mml:mi>M</mml:mi></mml:mrow></mml:msub></mml:mrow></mml:mfrac></mml:mrow><mml:mo>)</mml:mo><mml:mo>=</mml:mo><mml:mfrac><mml:mrow><mml:mn>1</mml:mn></mml:mrow><mml:mrow><mml:msub><mml:mrow><mml:mi>R</mml:mi></mml:mrow><mml:mrow><mml:mi>M</mml:mi></mml:mrow></mml:msub><mml:mo>(</mml:mo><mml:mn>1</mml:mn><mml:mo>+</mml:mo><mml:msub><mml:mrow><mml:mi>B</mml:mi></mml:mrow><mml:mrow><mml:mi>M</mml:mi></mml:mrow></mml:msub><mml:mo>)</mml:mo></mml:mrow></mml:mfrac>
</mml:math>
</alternatives>
<label>(16)</label>
</disp-formula>
and thus <inline-formula id="pbio.3000295.e138"><alternatives><graphic id="pbio.3000295.e138g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e138" xlink:type="simple"/><mml:math display="inline" id="M138"><mml:mfrac><mml:mrow><mml:mo>∂</mml:mo><mml:msub><mml:mrow><mml:mi>g</mml:mi></mml:mrow><mml:mrow><mml:mi>M</mml:mi></mml:mrow></mml:msub></mml:mrow><mml:mrow><mml:mo>∂</mml:mo><mml:msub><mml:mrow><mml:mi>K</mml:mi></mml:mrow><mml:mrow><mml:mi>M</mml:mi><mml:mi>R</mml:mi></mml:mrow></mml:msub></mml:mrow></mml:mfrac><mml:mo>&gt;</mml:mo><mml:mn>0</mml:mn></mml:math></alternatives></inline-formula>. In this case, growth rate decreases as the Monod constant decreases (i.e., affinity increases). In other words, decreased affinity for the abundant nutrient improves growth rate. Transporter competition for membrane space [<xref ref-type="bibr" rid="pbio.3000295.ref084">84</xref>] could lead to this result, since reduced affinity for abundant nutrient may increase affinity for rare nutrient.</p>
<p>At the beginning of each cycle, R is abundant and B is limiting (<xref ref-type="disp-formula" rid="pbio.3000295.e137">Eq 16</xref>). Therefore M cells with lower affinity for R will grow faster than those with higher affinity (<xref ref-type="supplementary-material" rid="pbio.3000295.s028">S28A Fig</xref>). At the end of each cycle, the opposite is true (<xref ref-type="supplementary-material" rid="pbio.3000295.s028">S28A Fig</xref>). As <italic>f</italic><sub><italic>P</italic></sub> decreases, M diverts more toward biomass growth, and the first stage of B limitation lasts longer. Consequently, M can gain a slightly higher overall fitness by lowering the affinity for R at low <italic>f</italic><sub><italic>P</italic></sub> (<xref ref-type="supplementary-material" rid="pbio.3000295.s028">S28A Fig</xref>).</p>
<p>Regardless, decreased M affinity for Resource (1/<italic>K</italic><sub><italic>MR</italic></sub>) only leads to a very slight increase in M fitness (<xref ref-type="supplementary-material" rid="pbio.3000295.s027">S27J Fig</xref>) and a very slight decrease in <italic>P</italic>(<italic>T</italic>) (<xref ref-type="supplementary-material" rid="pbio.3000295.s028">S28B Fig</xref>). Moreover, this only occurs at low <italic>f</italic><sub><italic>P</italic></sub> at the beginning of community selection and thus may be neglected. Indeed, if we start all growth parameters at their upper bounds and <italic>f</italic><sub><italic>P</italic></sub> = 0.13, and perform community selection while allowing all parameters to vary (<xref ref-type="supplementary-material" rid="pbio.3000295.s029">S29 Fig</xref>), then 1/<italic>K</italic><sub><italic>MR</italic></sub> decreases somewhat, yet the dynamics of <italic>f</italic><sub><italic>P</italic></sub> is similar to when we only allow <italic>f</italic><sub><italic>P</italic></sub> to change (compare <xref ref-type="supplementary-material" rid="pbio.3000295.s029">S29D Fig</xref> with <xref ref-type="fig" rid="pbio.3000295.g003">Fig 3A</xref>).</p>
</sec>
<sec id="sec024">
<title>4. Mutation rate and the distribution of mutation effects</title>
<p>Literature values of mutation rate and the distribution of mutation effects are highly variable. Below, we briefly review the literature and discuss rationales of our choices.</p>
<p>Among mutations, a fraction is neutral in that they do not affect the phenotype of interest. For example, the vast majority of synonymous mutations are neutral [<xref ref-type="bibr" rid="pbio.3000295.ref085">85</xref>]. Furthermore, mutations with small effects may appear neutral, which can depend on the effective population size and selection condition. For example, at low population size due to genetic drift (i.e., changes in allele frequencies due to chance), a beneficial or deleterious mutation may not be selected for or selected against and is thus neutral with respect to selection [<xref ref-type="bibr" rid="pbio.3000295.ref086">86</xref>, <xref ref-type="bibr" rid="pbio.3000295.ref087">87</xref>]. As another example, the same mutation in an antibiotic-degrading gene can be neutral under low antibiotic concentrations but deleterious under high antibiotic concentrations [<xref ref-type="bibr" rid="pbio.3000295.ref088">88</xref>]. We term all these cases as "neutral" mutations.</p>
<p>Since a larger fraction of neutral mutations is equivalent to a lower rate of phenotype-altering mutations, our simulations define "mutation rate" as the rate of non-neutral mutations that either enhance a phenotype ("enhancing mutations") or diminish a phenotype ("diminishing mutations"). Enhancing mutations of maximal growth rates (<italic>g</italic><sub><italic>Hmax</italic></sub> and <italic>g</italic><sub><italic>Mmax</italic></sub>) and of nutrient affinities (1/<italic>K</italic><sub><italic>HR</italic></sub>, 1/<italic>K</italic><sub><italic>MR</italic></sub>, 1/<italic>K</italic><sub><italic>MB</italic></sub>) enhance the fitness of an individual ("beneficial mutations"). In contrast, enhancing mutations in <italic>f</italic><sub><italic>P</italic></sub> diminish the fitness of an individual ("deleterious mutations").</p>
<p>Depending on the phenotype, the rate of phenotype-altering mutations is highly variable. Although mutations that cause qualitative phenotypic changes (e.g., drug resistance) occur at a rate of 10<sup>−8</sup>~10<sup>−6</sup> per genome per generation in bacteria and yeast [<xref ref-type="bibr" rid="pbio.3000295.ref089">89</xref>, <xref ref-type="bibr" rid="pbio.3000295.ref090">90</xref>], mutations affecting quantitative traits such as growth rate occur much more frequently. For example in yeast, mutations that increase growth rate by ≥ 2% occur at a rate of ∼ 10<sup>−4</sup> per genome per generation (calculated from Fig 3 of Ref. [<xref ref-type="bibr" rid="pbio.3000295.ref091">91</xref>]), and mutations that reduce growth rate occur at a rate of 10<sup>−4</sup> ∼ 10<sup>−3</sup> per genome per generation [<xref ref-type="bibr" rid="pbio.3000295.ref038">38</xref>, <xref ref-type="bibr" rid="pbio.3000295.ref092">92</xref>]. Moreover, mutation rate can be elevated by as much as 100-fold in hypermutators where DNA repair is dysfunctional [<xref ref-type="bibr" rid="pbio.3000295.ref092">92</xref>, <xref ref-type="bibr" rid="pbio.3000295.ref093">93</xref>, <xref ref-type="bibr" rid="pbio.3000295.ref094">94</xref>]. In our simulations, we assume a high, but biologically feasible, rate of 2 × 10<sup>−3</sup> phenotype-altering mutations per cell per generation per phenotype to speed up computation. At this rate, an average community would sample approximately 20 new mutations per phenotype during maturation. We have also simulated with a 100-fold lower mutation rate. As expected, evolutionary dynamics slowed down, but all of our conclusions still held (<xref ref-type="supplementary-material" rid="pbio.3000295.s018">S18 Fig</xref>).</p>
<p>Among phenotype-altering mutations, around 10% to 40% create null (loss-of-function) mutants, as illustrated by experimental studies on protein, viruses, and yeast [<xref ref-type="bibr" rid="pbio.3000295.ref036">36</xref>, <xref ref-type="bibr" rid="pbio.3000295.ref037">37</xref>, <xref ref-type="bibr" rid="pbio.3000295.ref038">38</xref>]. Thus, we assumed that 50% of phenotype-altering mutations were null (i.e., resulting in zero maximal growth rate, zero affinity for metabolite, or zero <italic>f</italic><sub><italic>P</italic></sub>). Among non-null mutations, the relative abundances of enhancing versus diminishing mutations are highly variable in different experiments. It can be impacted by effective population size. For example, with a large effective population size, the survival rate of beneficial mutations is 1,000-fold lower due to clonal interference (competition between beneficial mutations) [<xref ref-type="bibr" rid="pbio.3000295.ref095">95</xref>]. The relative abundance of enhancing versus diminishing mutations also strongly depends on the starting phenotype [<xref ref-type="bibr" rid="pbio.3000295.ref036">36</xref>, <xref ref-type="bibr" rid="pbio.3000295.ref086">86</xref>, <xref ref-type="bibr" rid="pbio.3000295.ref088">88</xref>]. For example, with ampicillin as a substrate, the wild-type TEM-1 <italic>β</italic>-lactamase is a "perfect" enzyme. Consequently, mutations were either neutral or diminishing, and few enhanced enzyme activity [<xref ref-type="bibr" rid="pbio.3000295.ref088">88</xref>]. In contrast, with a novel substrate such as cefotaxime, the enzyme had undetectable activity, and diminishing mutations were not detected, whereas 2% of tested mutations were enhancing [<xref ref-type="bibr" rid="pbio.3000295.ref088">88</xref>]. When modeling H-M communities, we assumed that the ancestral H and M had intermediate phenotypes that can be enhanced or diminished.</p>
<p>We based our distribution of mutation effects on experimental studies in which a large number of enhancing and diminishing mutants have been quantified in an unbiased fashion. An example is a study from the Dunham lab in which the fitness effects of thousands of <italic>S</italic>. <italic>cerevisiae</italic> mutations were quantified under various nutrient limitations [<xref ref-type="bibr" rid="pbio.3000295.ref039">39</xref>]. Specifically for each nutrient limitation, the authors first measured <inline-formula id="pbio.3000295.e139"><alternatives><graphic id="pbio.3000295.e139g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e139" xlink:type="simple"/><mml:math display="inline" id="M139"><mml:mi>Δ</mml:mi><mml:msub><mml:mrow><mml:mi>s</mml:mi></mml:mrow><mml:mrow><mml:mi>W</mml:mi><mml:mi>T</mml:mi></mml:mrow></mml:msub><mml:mo>=</mml:mo><mml:mo>(</mml:mo><mml:msub><mml:mrow><mml:mi>w</mml:mi></mml:mrow><mml:mrow><mml:mi>W</mml:mi><mml:mi>T</mml:mi></mml:mrow></mml:msub><mml:mo>-</mml:mo><mml:msub><mml:mrow><mml:mover accent="true"><mml:mrow><mml:mi>w</mml:mi></mml:mrow><mml:mo>¯</mml:mo></mml:mover></mml:mrow><mml:mrow><mml:mi>W</mml:mi><mml:mi>T</mml:mi></mml:mrow></mml:msub><mml:mo>)</mml:mo><mml:mo>/</mml:mo><mml:msub><mml:mrow><mml:mover accent="true"><mml:mrow><mml:mi>w</mml:mi></mml:mrow><mml:mo>¯</mml:mo></mml:mover></mml:mrow><mml:mrow><mml:mi>W</mml:mi><mml:mi>T</mml:mi></mml:mrow></mml:msub><mml:mo>=</mml:mo><mml:msub><mml:mrow><mml:mi>w</mml:mi></mml:mrow><mml:mrow><mml:mi>W</mml:mi><mml:mi>T</mml:mi></mml:mrow></mml:msub><mml:mo>/</mml:mo><mml:msub><mml:mrow><mml:mover accent="true"><mml:mrow><mml:mi>w</mml:mi></mml:mrow><mml:mo>¯</mml:mo></mml:mover></mml:mrow><mml:mrow><mml:mi>W</mml:mi><mml:mi>T</mml:mi></mml:mrow></mml:msub><mml:mo>-</mml:mo><mml:mn>1</mml:mn></mml:math></alternatives></inline-formula>, the deviation in relative fitness of thousands of bar-coded wild-type control strains from the wild-type mean fitness <inline-formula id="pbio.3000295.e140"><alternatives><graphic id="pbio.3000295.e140g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e140" xlink:type="simple"/><mml:math display="inline" id="M140"><mml:msub><mml:mrow><mml:mover accent="true"><mml:mrow><mml:mi>w</mml:mi></mml:mrow><mml:mo>¯</mml:mo></mml:mover></mml:mrow><mml:mrow><mml:mi>W</mml:mi><mml:mi>T</mml:mi></mml:mrow></mml:msub></mml:math></alternatives></inline-formula> (i.e., selection coefficients). Due to experimental noise, <italic>Δs</italic><sub><italic>WT</italic></sub> is distributed with zero mean and nonzero variance. Then, the authors measured thousands of <italic>Δs</italic><sub><italic>MT</italic></sub>, each corresponding to the relative fitness change of a bar-coded mutant strain with respect to the mean of wild-type fitness (i.e., <inline-formula id="pbio.3000295.e141"><alternatives><graphic id="pbio.3000295.e141g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e141" xlink:type="simple"/><mml:math display="inline" id="M141"><mml:mi>Δ</mml:mi><mml:msub><mml:mrow><mml:mi>s</mml:mi></mml:mrow><mml:mrow><mml:mi>M</mml:mi><mml:mi>T</mml:mi></mml:mrow></mml:msub><mml:mo>=</mml:mo><mml:mo>(</mml:mo><mml:msub><mml:mrow><mml:mi>w</mml:mi></mml:mrow><mml:mrow><mml:mi>M</mml:mi><mml:mi>T</mml:mi></mml:mrow></mml:msub><mml:mo>-</mml:mo><mml:msub><mml:mrow><mml:mover accent="true"><mml:mrow><mml:mi>w</mml:mi></mml:mrow><mml:mo>¯</mml:mo></mml:mover></mml:mrow><mml:mrow><mml:mi>W</mml:mi><mml:mi>T</mml:mi></mml:mrow></mml:msub><mml:mo>)</mml:mo><mml:mo>/</mml:mo><mml:msub><mml:mrow><mml:mover accent="true"><mml:mrow><mml:mi>w</mml:mi></mml:mrow><mml:mo>¯</mml:mo></mml:mover></mml:mrow><mml:mrow><mml:mi>W</mml:mi><mml:mi>T</mml:mi></mml:mrow></mml:msub></mml:math></alternatives></inline-formula>). From these 2 distributions, we used convolution to derive <italic>μ</italic><sub><italic>ΔS</italic></sub>, the probability density function (PDF) of relative fitness change caused by mutations <italic>Δs</italic> = <italic>Δs</italic><sub><italic>MT</italic></sub> − <italic>Δs</italic><sub><italic>WT</italic></sub> (<xref ref-type="supplementary-material" rid="pbio.3000295.s006">S6 Fig</xref>), in the following manner.</p>
<p>First, we calculated <italic>μ</italic><sub><italic>m</italic></sub>(<italic>Δs</italic><sub><italic>MT</italic></sub>), the discrete PDF of the relative fitness change of mutant strains, with bin width 0.04. In other words, <italic>μ</italic><sub><italic>m</italic></sub>(<italic>Δs</italic><sub><italic>MT</italic></sub>) = counts in the bin of [<italic>Δs</italic><sub><italic>MT</italic></sub> − 0.02, <italic>Δs</italic><sub><italic>MT</italic></sub> + 0.02] ÷ total counts ÷ 0.04 where <italic>Δs</italic><sub><italic>MT</italic></sub> ranges from −0.6 and 0.6, which is sufficient to cover the range of experimental outcome. The Poissonian uncertainty of <italic>μ</italic><sub><italic>m</italic></sub> is <inline-formula id="pbio.3000295.e142"><alternatives><graphic id="pbio.3000295.e142g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e142" xlink:type="simple"/><mml:math display="inline" id="M142"><mml:mi>δ</mml:mi><mml:msub><mml:mrow><mml:mi>μ</mml:mi></mml:mrow><mml:mrow><mml:mi>m</mml:mi></mml:mrow></mml:msub><mml:mo>(</mml:mo><mml:mi>Δ</mml:mi><mml:msub><mml:mrow><mml:mi>s</mml:mi></mml:mrow><mml:mrow><mml:mi>M</mml:mi><mml:mi>T</mml:mi></mml:mrow></mml:msub><mml:mo>)</mml:mo><mml:mo>=</mml:mo><mml:msqrt><mml:mtext>counts</mml:mtext><mml:mspace width="4pt"/><mml:mtext>per</mml:mtext><mml:mspace width="4pt"/><mml:mtext>bin</mml:mtext></mml:msqrt></mml:math></alternatives></inline-formula> ÷ total counts ÷ 0.04. Repeating this process for the wild-type collection, we obtained the PDF of the relative fitness change of wild-type strains <italic>μ</italic><sub><italic>w</italic></sub>(<italic>Δs</italic><sub><italic>MT</italic></sub>). Next, from <italic>μ</italic><sub><italic>w</italic></sub>(<italic>Δs</italic><sub><italic>MT</italic></sub>) and <italic>μ</italic><sub><italic>m</italic></sub>(<italic>Δs</italic><sub><italic>MT</italic></sub>), we derived <italic>μ</italic><sub><italic>Δs</italic></sub>(<italic>Δs</italic>), the PDF of <italic>Δs</italic> with bin width 0.04:
<disp-formula id="pbio.3000295.e143">
<alternatives>
<graphic id="pbio.3000295.e143g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e143" xlink:type="simple"/>
<mml:math display="block" id="M143">
<mml:msub><mml:mrow><mml:mi>μ</mml:mi></mml:mrow><mml:mrow><mml:mi>Δ</mml:mi><mml:mi>s</mml:mi></mml:mrow></mml:msub><mml:mo>(</mml:mo><mml:mi>Δ</mml:mi><mml:mi>s</mml:mi><mml:mo>=</mml:mo><mml:mi>i</mml:mi><mml:mo>×</mml:mo><mml:mn>0.04</mml:mn><mml:mo>)</mml:mo><mml:mo>=</mml:mo><mml:mn>0.04</mml:mn><mml:mo>×</mml:mo><mml:mrow><mml:msubsup><mml:mo stretchy="false">∑</mml:mo><mml:mrow><mml:mi>j</mml:mi><mml:mo>=</mml:mo><mml:mo>-</mml:mo><mml:mi mathvariant="normal">∞</mml:mi></mml:mrow><mml:mrow><mml:mo>+</mml:mo><mml:mi mathvariant="normal">∞</mml:mi></mml:mrow></mml:msubsup><mml:mrow><mml:msub><mml:mrow><mml:mi>μ</mml:mi></mml:mrow><mml:mrow><mml:mi>w</mml:mi></mml:mrow></mml:msub><mml:mo>(</mml:mo><mml:mi>j</mml:mi><mml:mo>×</mml:mo><mml:mn>0.04</mml:mn><mml:mo>)</mml:mo><mml:msub><mml:mrow><mml:mi>μ</mml:mi></mml:mrow><mml:mrow><mml:mi>m</mml:mi></mml:mrow></mml:msub><mml:mo>(</mml:mo><mml:mrow><mml:mo>(</mml:mo><mml:mi>i</mml:mi><mml:mo>+</mml:mo><mml:mi>j</mml:mi><mml:mo>)</mml:mo><mml:mo>×</mml:mo><mml:mn>0.04</mml:mn></mml:mrow><mml:mo>)</mml:mo></mml:mrow></mml:mrow>
</mml:math>
</alternatives>
<label>(17)</label>
</disp-formula>
assuming that <italic>Δs</italic><sub><italic>MT</italic></sub> and <italic>Δs</italic><sub><italic>WT</italic></sub> are independent from each other. Here, <italic>i</italic> is an integer from −15 to 15. The uncertainty for <italic>μ</italic><sub><italic>Δs</italic></sub> was calculated by propagation of error. That is, if <italic>f</italic> is a function of <italic>x</italic><sub><italic>i</italic></sub> (<italic>i</italic> = 1, 2, …, <italic>n</italic>), then <italic>s</italic><sub><italic>f</italic></sub>, the error of <italic>f</italic>, is <inline-formula id="pbio.3000295.e144"><alternatives><graphic id="pbio.3000295.e144g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e144" xlink:type="simple"/><mml:math display="inline" id="M144"><mml:msubsup><mml:mrow><mml:mi>s</mml:mi></mml:mrow><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mn>2</mml:mn></mml:mrow></mml:msubsup><mml:mo>=</mml:mo><mml:mrow><mml:mo stretchy="false">∑</mml:mo><mml:mrow><mml:msup><mml:mrow><mml:mo>(</mml:mo><mml:mrow><mml:mfrac><mml:mrow><mml:mo>∂</mml:mo><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mo>∂</mml:mo><mml:msub><mml:mrow><mml:mi>x</mml:mi></mml:mrow><mml:mrow><mml:mi>i</mml:mi></mml:mrow></mml:msub></mml:mrow></mml:mfrac><mml:msub><mml:mrow><mml:mi>s</mml:mi></mml:mrow><mml:mrow><mml:msub><mml:mrow><mml:mi>x</mml:mi></mml:mrow><mml:mrow><mml:mi>i</mml:mi></mml:mrow></mml:msub></mml:mrow></mml:msub></mml:mrow><mml:mo>)</mml:mo></mml:mrow><mml:mrow><mml:mn>2</mml:mn></mml:mrow></mml:msup></mml:mrow></mml:mrow></mml:math></alternatives></inline-formula>, where <inline-formula id="pbio.3000295.e145"><alternatives><graphic id="pbio.3000295.e145g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e145" xlink:type="simple"/><mml:math display="inline" id="M145"><mml:msub><mml:mrow><mml:mi>s</mml:mi></mml:mrow><mml:mrow><mml:msub><mml:mrow><mml:mi>x</mml:mi></mml:mrow><mml:mrow><mml:mi>i</mml:mi></mml:mrow></mml:msub></mml:mrow></mml:msub></mml:math></alternatives></inline-formula> is the error or uncertainty of <italic>x</italic><sub><italic>i</italic></sub>. Thus,
<disp-formula id="pbio.3000295.e146">
<alternatives>
<graphic id="pbio.3000295.e146g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e146" xlink:type="simple"/>
<mml:math display="block" id="M146">
<mml:mi>δ</mml:mi><mml:msub><mml:mrow><mml:mi>μ</mml:mi></mml:mrow><mml:mrow><mml:mi>Δ</mml:mi><mml:mi>s</mml:mi></mml:mrow></mml:msub><mml:mo>(</mml:mo><mml:mi>i</mml:mi><mml:mo>)</mml:mo><mml:mo>=</mml:mo><mml:mn>0.04</mml:mn><mml:mo>×</mml:mo><mml:msqrt><mml:mrow><mml:msub><mml:mo stretchy="false">∑</mml:mo><mml:mrow><mml:mi>j</mml:mi></mml:mrow></mml:msub><mml:mrow><mml:msup><mml:mrow><mml:mo>[</mml:mo><mml:mo>(</mml:mo><mml:mrow><mml:mi>δ</mml:mi><mml:msub><mml:mrow><mml:mi>μ</mml:mi></mml:mrow><mml:mrow><mml:mi>w</mml:mi></mml:mrow></mml:msub><mml:mo>(</mml:mo><mml:mi>j</mml:mi><mml:mo>)</mml:mo><mml:msub><mml:mrow><mml:mi>μ</mml:mi></mml:mrow><mml:mrow><mml:mi>m</mml:mi></mml:mrow></mml:msub><mml:mo>(</mml:mo><mml:mi>i</mml:mi><mml:mo>+</mml:mo><mml:mi>j</mml:mi><mml:mo>)</mml:mo></mml:mrow><mml:mo>)</mml:mo></mml:mrow><mml:mrow><mml:mn>2</mml:mn></mml:mrow></mml:msup><mml:mo>+</mml:mo><mml:msup><mml:mrow><mml:mo>(</mml:mo><mml:mrow><mml:msub><mml:mrow><mml:mi>μ</mml:mi></mml:mrow><mml:mrow><mml:mi>w</mml:mi></mml:mrow></mml:msub><mml:mo>(</mml:mo><mml:mi>j</mml:mi><mml:mo>)</mml:mo><mml:mi>δ</mml:mi><mml:msub><mml:mrow><mml:mi>μ</mml:mi></mml:mrow><mml:mrow><mml:mi>m</mml:mi></mml:mrow></mml:msub><mml:mo>(</mml:mo><mml:mi>i</mml:mi><mml:mo>+</mml:mo><mml:mi>j</mml:mi><mml:mo>)</mml:mo></mml:mrow><mml:mo>)</mml:mo></mml:mrow><mml:mrow><mml:mn>2</mml:mn></mml:mrow></mml:msup><mml:mo>]</mml:mo></mml:mrow></mml:mrow></mml:msqrt>
</mml:math>
</alternatives>
<label>(18)</label>
</disp-formula>
where <italic>μ</italic><sub><italic>w</italic></sub>(<italic>j</italic>) is short-hand notation for <italic>μ</italic><sub><italic>w</italic></sub>(<italic>Δs</italic><sub><italic>WT</italic></sub> = <italic>j</italic> × 0.04) and so on. Our calculated <italic>μ</italic><sub><italic>Δs</italic></sub>(<italic>Δs</italic>) with error bar of <italic>δμ</italic><sub><italic>Δs</italic></sub> is shown in <xref ref-type="supplementary-material" rid="pbio.3000295.s006">S6 Fig</xref>.</p>
<p>Our re-analysis demonstrated that distributions of mutation fitness effects <italic>μ</italic><sub><italic>Δs</italic></sub>(<italic>Δs</italic>) are largely conserved regardless of nutrient conditions and mutation types (<xref ref-type="supplementary-material" rid="pbio.3000295.s006">S6 Fig</xref>). In all cases, the relative fitness changes caused by beneficial (fitness-enhancing) and deleterious (fitness-diminishing) mutations can be approximated by a bilateral exponential distribution with means s<sub>+</sub> and s<sub>−</sub> for the positive and negative halves, respectively. After normalizing the total probability to 1, we have
<disp-formula id="pbio.3000295.e147">
<alternatives>
<graphic id="pbio.3000295.e147g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e147" xlink:type="simple"/>
<mml:math display="block" id="M147">
<mml:msub><mml:mrow><mml:mi>μ</mml:mi></mml:mrow><mml:mrow><mml:mi>Δ</mml:mi><mml:mi>s</mml:mi></mml:mrow></mml:msub><mml:mo>(</mml:mo><mml:mi>Δ</mml:mi><mml:mi>s</mml:mi><mml:mo>)</mml:mo><mml:mo>=</mml:mo><mml:mrow><mml:mo>(</mml:mo><mml:mtable><mml:mtr><mml:mtd><mml:mfrac><mml:mrow><mml:mn>1</mml:mn></mml:mrow><mml:mrow><mml:msub><mml:mrow><mml:mi>s</mml:mi></mml:mrow><mml:mrow><mml:mo>+</mml:mo></mml:mrow></mml:msub><mml:mo>+</mml:mo><mml:msub><mml:mrow><mml:mi>s</mml:mi></mml:mrow><mml:mrow><mml:mo>-</mml:mo></mml:mrow></mml:msub><mml:mo>(</mml:mo><mml:mn>1</mml:mn><mml:mo>-</mml:mo><mml:msup><mml:mrow><mml:mi>e</mml:mi></mml:mrow><mml:mrow><mml:mo>-</mml:mo><mml:mn>1</mml:mn><mml:mo>/</mml:mo><mml:msub><mml:mrow><mml:mi>s</mml:mi></mml:mrow><mml:mrow><mml:mo>-</mml:mo></mml:mrow></mml:msub></mml:mrow></mml:msup><mml:mo>)</mml:mo></mml:mrow></mml:mfrac><mml:msup><mml:mrow><mml:mi>e</mml:mi></mml:mrow><mml:mrow><mml:mo>-</mml:mo><mml:mi>Δ</mml:mi><mml:mi>s</mml:mi><mml:mo>/</mml:mo><mml:msub><mml:mrow><mml:mi>s</mml:mi></mml:mrow><mml:mrow><mml:mo>+</mml:mo></mml:mrow></mml:msub></mml:mrow></mml:msup></mml:mtd><mml:mtd><mml:mtext>if</mml:mtext><mml:mo>Δ</mml:mo><mml:mi>s</mml:mi><mml:mo>≥</mml:mo><mml:mn>0</mml:mn></mml:mtd></mml:mtr><mml:mtr><mml:mtd><mml:mfrac><mml:mrow><mml:mn>1</mml:mn></mml:mrow><mml:mrow><mml:msub><mml:mrow><mml:mi>s</mml:mi></mml:mrow><mml:mrow><mml:mo>+</mml:mo></mml:mrow></mml:msub><mml:mo>+</mml:mo><mml:msub><mml:mrow><mml:mi>s</mml:mi></mml:mrow><mml:mrow><mml:mo>-</mml:mo></mml:mrow></mml:msub><mml:mo>(</mml:mo><mml:mn>1</mml:mn><mml:mo>-</mml:mo><mml:msup><mml:mrow><mml:mi>e</mml:mi></mml:mrow><mml:mrow><mml:mo>-</mml:mo><mml:mn>1</mml:mn><mml:mo>/</mml:mo><mml:msub><mml:mrow><mml:mi>s</mml:mi></mml:mrow><mml:mrow><mml:mo>-</mml:mo></mml:mrow></mml:msub></mml:mrow></mml:msup><mml:mo>)</mml:mo></mml:mrow></mml:mfrac><mml:msup><mml:mrow><mml:mi>e</mml:mi></mml:mrow><mml:mrow><mml:mi>Δ</mml:mi><mml:mi>s</mml:mi><mml:mo>/</mml:mo><mml:msub><mml:mrow><mml:mi>s</mml:mi></mml:mrow><mml:mrow><mml:mo>-</mml:mo></mml:mrow></mml:msub></mml:mrow></mml:msup></mml:mtd><mml:mtd><mml:mtext>if</mml:mtext><mml:mi mathvariant="normal">​</mml:mi><mml:mo>-</mml:mo><mml:mn>1</mml:mn><mml:mo>&lt;</mml:mo><mml:mo>Δ</mml:mo><mml:mi>s</mml:mi><mml:mo>&lt;</mml:mo><mml:mn>0</mml:mn></mml:mtd></mml:mtr></mml:mtable></mml:mrow>
</mml:math>
</alternatives>
<label>(19)</label>
</disp-formula></p>
<p>We fitted the Dunham lab haploid data (since microbes are often haploid) to <xref ref-type="disp-formula" rid="pbio.3000295.e147">Eq 19</xref>, using <italic>μ</italic><sub><italic>Δs</italic></sub>(<italic>i</italic>)/<italic>δμ</italic><sub><italic>Δs</italic></sub>(<italic>i</italic>) as the weight for nonlinear least squared regression (green lines in <xref ref-type="supplementary-material" rid="pbio.3000295.s006">S6 Fig</xref>). We obtained s<sub>+</sub> = 0.050 ± 0.002 and s<sub>−</sub> = 0.067 ± 0.003.</p>
<p>Exponential distribution described the fitness effects of deleterious mutations in an RNA virus remarkably well [<xref ref-type="bibr" rid="pbio.3000295.ref036">36</xref>]. Based on extreme value theory, the fitness effects of beneficial mutations were predicted to follow an exponential distribution [<xref ref-type="bibr" rid="pbio.3000295.ref096">96</xref>,<xref ref-type="bibr" rid="pbio.3000295.ref097">97</xref>], which has gained experimental support from bacterium and virus [<xref ref-type="bibr" rid="pbio.3000295.ref098">98</xref>, <xref ref-type="bibr" rid="pbio.3000295.ref099">99</xref>, <xref ref-type="bibr" rid="pbio.3000295.ref100">100</xref>] (although see [<xref ref-type="bibr" rid="pbio.3000295.ref091">91</xref>, <xref ref-type="bibr" rid="pbio.3000295.ref101">101</xref>] for counterexamples). Evolutionary models based on exponential distributions of fitness effects have shown good agreement with experimental data [<xref ref-type="bibr" rid="pbio.3000295.ref095">95</xref>, <xref ref-type="bibr" rid="pbio.3000295.ref102">102</xref>].</p>
<p>We have also simulated smaller average mutation effects based on measurements of spontaneous or chemically induced (instead of deletion) mutations. For example, the fitness effects of nonlethal deleterious mutations in <italic>S</italic>. <italic>cerevisiae</italic> were mostly between 1% to 5% [<xref ref-type="bibr" rid="pbio.3000295.ref038">38</xref>], and the mean selection coefficient of beneficial mutations in <italic>E</italic>. <italic>coli</italic> was approximately 1% to 2% [<xref ref-type="bibr" rid="pbio.3000295.ref095">95</xref>, <xref ref-type="bibr" rid="pbio.3000295.ref098">98</xref>]. As an alternative, we simulated with s<sub>+</sub> = s<sub>−</sub> = 0.02 and obtained the same conclusions (<xref ref-type="supplementary-material" rid="pbio.3000295.s019">S19A Fig</xref>).</p>
</sec>
<sec id="sec025">
<title>5. Modeling epistasis on <italic>f</italic><sub><italic>P</italic></sub></title>
<p>Epistasis, in which the effect of a new mutation depends on prior mutations ("genetic background"), is known to affect evolutionary dynamics. Epistatic effects have been quantified in various ways. Experiments on viruses, bacteria, yeast, and proteins have demonstrated that if 2 mutations were both deleterious or both random, viable double mutants experienced epistatic effects that distributed nearly symmetrically around a value close to zero [<xref ref-type="bibr" rid="pbio.3000295.ref103">103</xref>, <xref ref-type="bibr" rid="pbio.3000295.ref104">104</xref>, <xref ref-type="bibr" rid="pbio.3000295.ref105">105</xref>, <xref ref-type="bibr" rid="pbio.3000295.ref106">106</xref>]. In other words, a significant fraction of mutation pairs show no epistasis, and a small fraction show positive or negative epistasis (i.e., a double mutant displays a stronger or weaker phenotype than expected from additive effects of the 2 mutations). Epistasis between 2 beneficial mutations can vary from being predominantly negative [<xref ref-type="bibr" rid="pbio.3000295.ref104">104</xref>] to being symmetrically distributed around zero (Fig 2 of [<xref ref-type="bibr" rid="pbio.3000295.ref107">107</xref>]). Furthermore, a beneficial mutation tends to confer a lower beneficial effect if the background already has high fitness ("diminishing returns") [<xref ref-type="bibr" rid="pbio.3000295.ref107">107</xref>, <xref ref-type="bibr" rid="pbio.3000295.ref108">108</xref>, <xref ref-type="bibr" rid="pbio.3000295.ref109">109</xref>].</p>
<p>A mathematical model by Wiser and colleagues incorporates diminishing-return epistasis [<xref ref-type="bibr" rid="pbio.3000295.ref102">102</xref>]. In this model, beneficial mutations of advantage <italic>s</italic> in the ancestral background are exponentially distributed with PDF <italic>αe</italic><sup>−αs</sup>, where 1/<italic>α &gt;</italic> 0 is the mean advantage. After a mutation with advantage <italic>s</italic> has occurred, the mean advantage of the next mutation would be reduced to 1/[<italic>α</italic>(1 + <italic>gs</italic>)], where <italic>g</italic> &gt; 0 is the "diminishing returns parameter." Wiser and colleagues estimate <italic>g</italic> ≈ 6. This model quantitatively fits the fitness dynamics of evolving <italic>E</italic>. <italic>coli</italic> populations.</p>
<p>Based on the above experimental and theoretical literature, we modeled epistasis on <italic>f</italic><sub><italic>P</italic></sub> in the following manner. Let the relative mutation effect on current <italic>f</italic><sub><italic>P</italic></sub> be <italic>Δf</italic><sub><italic>P</italic></sub> = (<italic>f</italic><sub><italic>P</italic>,<italic>mut</italic></sub> − <italic>f</italic><sub><italic>P</italic></sub>)/<italic>f</italic><sub><italic>P</italic></sub> (note <italic>Δf</italic><sub><italic>P</italic></sub> ≥ −1). Then, <italic>μ</italic>(<italic>Δf</italic><sub><italic>P</italic></sub>, <italic>f</italic><sub><italic>P</italic></sub>), the PDF of <italic>Δf</italic><sub><italic>P</italic></sub> at the current <italic>f</italic><sub><italic>P</italic></sub> value, is described by a form similar to <xref ref-type="disp-formula" rid="pbio.3000295.e147">Eq 19</xref>:
<disp-formula id="pbio.3000295.e148">
<alternatives>
<graphic id="pbio.3000295.e148g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e148" xlink:type="simple"/>
<mml:math display="block" id="M148">
<mml:mi>μ</mml:mi><mml:mo>(</mml:mo><mml:mi>Δ</mml:mi><mml:msub><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow></mml:msub><mml:mo>,</mml:mo><mml:msub><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow></mml:msub><mml:mo>)</mml:mo><mml:mo>=</mml:mo><mml:mrow><mml:mo>(</mml:mo><mml:mtable><mml:mtr><mml:mtd><mml:mfrac><mml:mrow><mml:mn>1</mml:mn></mml:mrow><mml:mrow><mml:msub><mml:mrow><mml:mi>s</mml:mi></mml:mrow><mml:mrow><mml:mo>+</mml:mo></mml:mrow></mml:msub><mml:mo>(</mml:mo><mml:msub><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow></mml:msub><mml:mo>)</mml:mo><mml:mo>+</mml:mo><mml:msub><mml:mrow><mml:mi>s</mml:mi></mml:mrow><mml:mrow><mml:mo>-</mml:mo></mml:mrow></mml:msub><mml:mo>(</mml:mo><mml:msub><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow></mml:msub><mml:mo>)</mml:mo><mml:mo>(</mml:mo><mml:mn>1</mml:mn><mml:mo>-</mml:mo><mml:msup><mml:mrow><mml:mi>e</mml:mi></mml:mrow><mml:mrow><mml:mo>-</mml:mo><mml:mn>1</mml:mn><mml:mo>/</mml:mo><mml:msub><mml:mrow><mml:mi>s</mml:mi></mml:mrow><mml:mrow><mml:mo>-</mml:mo></mml:mrow></mml:msub><mml:mo>(</mml:mo><mml:msub><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow></mml:msub><mml:mo>)</mml:mo></mml:mrow></mml:msup><mml:mo>)</mml:mo></mml:mrow></mml:mfrac><mml:msup><mml:mrow><mml:mi>e</mml:mi></mml:mrow><mml:mrow><mml:mo>-</mml:mo><mml:mi>Δ</mml:mi><mml:msub><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow></mml:msub><mml:mo>/</mml:mo><mml:msub><mml:mrow><mml:mi>s</mml:mi></mml:mrow><mml:mrow><mml:mo>+</mml:mo></mml:mrow></mml:msub><mml:mo>(</mml:mo><mml:msub><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow></mml:msub><mml:mo>)</mml:mo></mml:mrow></mml:msup></mml:mtd><mml:mtd><mml:mtext>if</mml:mtext><mml:mi mathvariant="normal">​</mml:mi><mml:mspace width="4pt"/><mml:mi>Δ</mml:mi><mml:msub><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow></mml:msub><mml:mo>≥</mml:mo><mml:mn>0</mml:mn></mml:mtd></mml:mtr><mml:mtr><mml:mtd><mml:mfrac><mml:mrow><mml:mn>1</mml:mn></mml:mrow><mml:mrow><mml:msub><mml:mrow><mml:mi>s</mml:mi></mml:mrow><mml:mrow><mml:mo>+</mml:mo></mml:mrow></mml:msub><mml:mo>(</mml:mo><mml:msub><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow></mml:msub><mml:mo>)</mml:mo><mml:mo>+</mml:mo><mml:msub><mml:mrow><mml:mi>s</mml:mi></mml:mrow><mml:mrow><mml:mo>-</mml:mo></mml:mrow></mml:msub><mml:mo>(</mml:mo><mml:msub><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow></mml:msub><mml:mo>)</mml:mo><mml:mo>(</mml:mo><mml:mn>1</mml:mn><mml:mo>-</mml:mo><mml:msup><mml:mrow><mml:mi>e</mml:mi></mml:mrow><mml:mrow><mml:mo>-</mml:mo><mml:mn>1</mml:mn><mml:mo>/</mml:mo><mml:msub><mml:mrow><mml:mi>s</mml:mi></mml:mrow><mml:mrow><mml:mo>-</mml:mo></mml:mrow></mml:msub><mml:mo>(</mml:mo><mml:msub><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow></mml:msub><mml:mo>)</mml:mo></mml:mrow></mml:msup><mml:mo>)</mml:mo></mml:mrow></mml:mfrac><mml:msup><mml:mrow><mml:mi>e</mml:mi></mml:mrow><mml:mrow><mml:mi>Δ</mml:mi><mml:msub><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow></mml:msub><mml:mo>/</mml:mo><mml:msub><mml:mrow><mml:mi>s</mml:mi></mml:mrow><mml:mrow><mml:mo>-</mml:mo></mml:mrow></mml:msub><mml:mo>(</mml:mo><mml:msub><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow></mml:msub><mml:mo>)</mml:mo></mml:mrow></mml:msup></mml:mtd><mml:mtd><mml:mtext>if</mml:mtext><mml:mi mathvariant="normal">​</mml:mi><mml:mo>-</mml:mo><mml:mn>1</mml:mn><mml:mo>&lt;</mml:mo><mml:mo>Δ</mml:mo><mml:msub><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow></mml:msub><mml:mo>&lt;</mml:mo><mml:mn>0</mml:mn></mml:mtd></mml:mtr></mml:mtable></mml:mrow>
</mml:math>
</alternatives>
<label>(20)</label>
</disp-formula></p>
<p>Here, <italic>s</italic><sub>+</sub>(<italic>f</italic><sub><italic>P</italic></sub>) and <italic>s</italic><sub>−</sub>(<italic>f</italic><sub><italic>P</italic></sub>) are, respectively, the mean <italic>Δf</italic><sub><italic>P</italic></sub> for enhancing and diminishing mutations at current <italic>f</italic><sub><italic>P</italic></sub>. We assigned <italic>s</italic><sub>+</sub>(<italic>f</italic><sub><italic>P</italic></sub>) = <italic>s</italic><sub>+<italic>init</italic></sub>/(1 + <italic>g</italic> × (<italic>f</italic><sub><italic>P</italic></sub>/<italic>f</italic><sub><italic>P</italic>,<italic>init</italic></sub> − 1)), where <italic>f</italic><sub><italic>P</italic>,<italic>init</italic></sub> is the <italic>f</italic><sub><italic>P</italic></sub> of the initial background in a community selection simulation (<inline-formula id="pbio.3000295.e149"><alternatives><graphic id="pbio.3000295.e149g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e149" xlink:type="simple"/><mml:math display="inline" id="M149"><mml:msub><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>P</mml:mi><mml:mo>,</mml:mo><mml:mi>​</mml:mi><mml:mi>i</mml:mi><mml:mi>n</mml:mi><mml:mi>i</mml:mi><mml:mi>t</mml:mi></mml:mrow></mml:msub><mml:mo>=</mml:mo><mml:msubsup><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>P</mml:mi><mml:mo>,</mml:mo><mml:mi>​</mml:mi><mml:mi>M</mml:mi><mml:mi>o</mml:mi><mml:mi>n</mml:mi><mml:mi>o</mml:mi></mml:mrow><mml:mrow><mml:mi>*</mml:mi></mml:mrow></mml:msubsup><mml:mo>=</mml:mo><mml:mn>0.13</mml:mn></mml:math></alternatives></inline-formula>), <italic>s</italic><sub>+<italic>init</italic></sub> is the mean enhancing <italic>Δf</italic><sub><italic>P</italic></sub> occurring in the initial background, and 0 &lt; <italic>g</italic> &lt; 1 is the epistatic factor. Similarly, <italic>s</italic><sub>−</sub>(<italic>f</italic><sub><italic>P</italic></sub>) = <italic>s</italic><sub><italic>−init</italic></sub> × (1 + <italic>g</italic> × (<italic>f</italic><sub><italic>P</italic></sub>/<italic>f</italic><sub><italic>P</italic>,<italic>init</italic></sub> − 1)) is the mean |<italic>Δf</italic><sub><italic>P</italic></sub>| for diminishing mutations at current <italic>f</italic><sub><italic>P</italic></sub>. In the initial background, because <italic>f</italic><sub><italic>P</italic></sub> = <italic>f</italic><sub><italic>P</italic>,<italic>init</italic></sub>, we have <italic>s</italic><sub>+</sub>(<italic>f</italic><sub><italic>P</italic></sub>) = <italic>s</italic><sub>+<italic>init</italic></sub> and <italic>s</italic><sub>−</sub>(<italic>f</italic><sub><italic>P</italic></sub>) = <italic>s</italic><sub><italic>−init</italic></sub>(<italic>s</italic><sub>+<italic>init</italic></sub> = 0.050 and <italic>s</italic><sub><italic>−init</italic></sub> = 0.067 in <xref ref-type="supplementary-material" rid="pbio.3000295.s006">S6 Fig</xref>). Consistent with the diminishing returns principle, for subsequent mutations that alter <italic>f</italic><sub><italic>P</italic></sub>, if current <italic>f</italic><sub><italic>P</italic></sub> &gt; <italic>f</italic><sub><italic>P</italic>,<italic>init</italic></sub>, then a new enhancing mutation became less likely and its mean effect smaller, while a new diminishing mutation became more likely and its mean effect bigger (ensured by <italic>g</italic> &gt; 0; <xref ref-type="supplementary-material" rid="pbio.3000295.s020">S20 Fig</xref> right panel). Similarly, if current <italic>f</italic><sub><italic>P</italic></sub> &lt; <italic>f</italic><sub><italic>P</italic>,<italic>init</italic></sub>, then a new enhancing mutation became more likely and its mean effect bigger, while a diminishing mutation became less likely and its mean effect smaller (ensured by 0 &lt; <italic>g</italic> &lt; 1; <xref ref-type="supplementary-material" rid="pbio.3000295.s020">S20 Fig</xref> left panel). In summary, our model captured not only diminishing returns epistasis, but also our understanding of mutational effects on protein stability [<xref ref-type="bibr" rid="pbio.3000295.ref086">86</xref>].</p>
</sec>
<sec id="sec026">
<title>6. Simulation code of community selection</title>
<p>As described in the main text, our simulations tracked the biomass and phenotypes of individual cells as well as the amounts of Resource, Byproduct, and Product in each community throughout community selection. Cell biomass growth, cell division, and changes in chemical concentrations were calculated deterministically. Stochastic processes, including cell death, mutation, and the partitioning of cells of a chosen Adult community into Newborn communities were simulated using the Monte Carlo method.</p>
<p>Specifically, each simulation was initialized with a total of <italic>n</italic><sub><italic>tot</italic></sub> = 100 Newborn communities with identical configuration:</p>
<list list-type="bullet">
<list-item><p>Each community had 100 cells of biomass 1. Thus, total biomass <italic>BM</italic>(0) = 100.</p></list-item>
<list-item><p>Each community had 40 H cells and 60 M cells with identical <italic>f</italic><sub><italic>P</italic></sub> and biomass of 1 per cell. Thus, M biomass <italic>M</italic>(0) = 60 and fraction of M biomass <italic>ϕ</italic><sub><italic>M</italic></sub>(0) = 0.6.</p></list-item>
</list>
<p>Our community selection simulations did not consider mutations arising during pregrowth prior to inoculating Newborns of the first cycle, because incorporating pregrowth had little impact on evolution dynamics (<xref ref-type="supplementary-material" rid="pbio.3000295.s030">S30 Fig</xref>). Thus, initially, all M cells have the same phenotype, and all H cells have the same phenotype.</p>
<p>At the beginning of each selection cycle, a random number was used to seed the random number generator for each Newborn community. This number was saved so that the maturation of each Newborn community can be replayed. In most simulations, the initial amount of Resource was 1 unit of <inline-formula id="pbio.3000295.e150"><alternatives><graphic id="pbio.3000295.e150g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e150" xlink:type="simple"/><mml:math display="inline" id="M150"><mml:mover><mml:mrow><mml:mi>R</mml:mi></mml:mrow><mml:mrow><mml:mo>~</mml:mo></mml:mrow></mml:mover><mml:mo>(</mml:mo><mml:mn>0</mml:mn><mml:mo>)</mml:mo></mml:math></alternatives></inline-formula> unless otherwise specified, the initial Byproduct was <italic>B</italic>(0) = 0, and the initial Product was <italic>P</italic>(0) = 0.</p>
<p>The maturation time <italic>T</italic> was divided into time steps of <italic>Δτ</italic> = 0.05. Resource <italic>R</italic>(<italic>t</italic>) and Byproduct <italic>B</italic>(<italic>t</italic>) during each time interval [<italic>τ</italic>, <italic>τ</italic> + <italic>Δτ</italic>] were calculated by solving the following equations (similar to Eqs <xref ref-type="disp-formula" rid="pbio.3000295.e081">9</xref>–<xref ref-type="disp-formula" rid="pbio.3000295.e082">10</xref>) using the initial condition <italic>R</italic>(<italic>τ</italic>) and <italic>B</italic>(<italic>τ</italic>) via the ode23s solver in Matlab (MathWorks; <ext-link ext-link-type="uri" xlink:href="http://www.mathworks.com" xlink:type="simple">www.mathworks.com</ext-link>):
<disp-formula id="pbio.3000295.e151">
<alternatives>
<graphic id="pbio.3000295.e151g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e151" xlink:type="simple"/>
<mml:math display="block" id="M151">
<mml:mfrac><mml:mrow><mml:mi>d</mml:mi><mml:mi>R</mml:mi></mml:mrow><mml:mrow><mml:mi>d</mml:mi><mml:mi>t</mml:mi></mml:mrow></mml:mfrac><mml:mo>=</mml:mo><mml:mo>-</mml:mo><mml:msub><mml:mrow><mml:mi>c</mml:mi></mml:mrow><mml:mrow><mml:mi>R</mml:mi><mml:mi>M</mml:mi></mml:mrow></mml:msub><mml:msub><mml:mrow><mml:mi>g</mml:mi></mml:mrow><mml:mrow><mml:mi>M</mml:mi></mml:mrow></mml:msub><mml:mo>(</mml:mo><mml:mi>R</mml:mi><mml:mo>,</mml:mo><mml:mi mathvariant="normal">​</mml:mi><mml:mi>B</mml:mi><mml:mo>)</mml:mo><mml:mi>M</mml:mi><mml:mo>(</mml:mo><mml:mi>τ</mml:mi><mml:mo>)</mml:mo><mml:mo>-</mml:mo><mml:msub><mml:mrow><mml:mi>c</mml:mi></mml:mrow><mml:mrow><mml:mi>R</mml:mi><mml:mi>H</mml:mi></mml:mrow></mml:msub><mml:msub><mml:mrow><mml:mi>g</mml:mi></mml:mrow><mml:mrow><mml:mi>H</mml:mi></mml:mrow></mml:msub><mml:mo>(</mml:mo><mml:mi>R</mml:mi><mml:mo>)</mml:mo><mml:mi>H</mml:mi><mml:mo>(</mml:mo><mml:mi>τ</mml:mi><mml:mo>)</mml:mo>
</mml:math>
</alternatives>
<label>(21)</label>
</disp-formula>
<disp-formula id="pbio.3000295.e152">
<alternatives>
<graphic id="pbio.3000295.e152g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e152" xlink:type="simple"/>
<mml:math display="block" id="M152">
<mml:mfrac><mml:mrow><mml:mi>d</mml:mi><mml:mi>B</mml:mi></mml:mrow><mml:mrow><mml:mi>d</mml:mi><mml:mi>t</mml:mi></mml:mrow></mml:mfrac><mml:mo>=</mml:mo><mml:msub><mml:mrow><mml:mi>g</mml:mi></mml:mrow><mml:mrow><mml:mi>H</mml:mi></mml:mrow></mml:msub><mml:mo>(</mml:mo><mml:mi>R</mml:mi><mml:mo>)</mml:mo><mml:mi>H</mml:mi><mml:mo>(</mml:mo><mml:mi>τ</mml:mi><mml:mo>)</mml:mo><mml:mo>-</mml:mo><mml:msub><mml:mrow><mml:mi>c</mml:mi></mml:mrow><mml:mrow><mml:mi>B</mml:mi><mml:mi>M</mml:mi></mml:mrow></mml:msub><mml:msub><mml:mrow><mml:mi>g</mml:mi></mml:mrow><mml:mrow><mml:mi>M</mml:mi></mml:mrow></mml:msub><mml:mo>(</mml:mo><mml:mi>R</mml:mi><mml:mo>,</mml:mo><mml:mi>​</mml:mi><mml:mi>B</mml:mi><mml:mo>)</mml:mo><mml:mi>M</mml:mi><mml:mo>(</mml:mo><mml:mi>τ</mml:mi><mml:mo>)</mml:mo>
</mml:math>
</alternatives>
<label>(22)</label>
</disp-formula>
where <italic>M</italic>(<italic>τ</italic>) and <italic>H</italic>(<italic>τ</italic>) were the biomass of M and H at time <italic>τ</italic> (treated as constants during time interval [<italic>τ</italic>, <italic>τ</italic> + <italic>Δτ</italic>], respectively. The solutions from Eqs <xref ref-type="disp-formula" rid="pbio.3000295.e151">21</xref>–<xref ref-type="disp-formula" rid="pbio.3000295.e152">22</xref> were used in the integrals below to calculate the biomass growth of H and M cells.</p>
<p>Suppose that H and M were rod-shaped organisms with a fixed diameter. Thus, the biomass of an H cell at time <italic>τ</italic> could be written as the length variable <italic>L</italic><sub><italic>H</italic></sub>(<italic>τ</italic>). The continuous growth of <italic>L</italic><sub><italic>H</italic></sub> between <italic>τ</italic> and <italic>τ</italic> + <italic>Δτ</italic> could be described as
<disp-formula id="pbio.3000295.e153">
<alternatives>
<graphic id="pbio.3000295.e153g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e153" xlink:type="simple"/>
<mml:math display="block" id="M153">
<mml:mfrac><mml:mrow><mml:mi>d</mml:mi><mml:msub><mml:mrow><mml:mi>L</mml:mi></mml:mrow><mml:mrow><mml:mi>H</mml:mi></mml:mrow></mml:msub></mml:mrow><mml:mrow><mml:mi>d</mml:mi><mml:mi>t</mml:mi></mml:mrow></mml:mfrac><mml:mo>=</mml:mo><mml:msub><mml:mrow><mml:mi>g</mml:mi></mml:mrow><mml:mrow><mml:mi>H</mml:mi></mml:mrow></mml:msub><mml:mo>(</mml:mo><mml:mi>R</mml:mi><mml:mo>)</mml:mo><mml:msub><mml:mrow><mml:mi>L</mml:mi></mml:mrow><mml:mrow><mml:mi>H</mml:mi></mml:mrow></mml:msub>
</mml:math>
</alternatives>
</disp-formula>
or
<disp-formula id="pbio.3000295.e154">
<alternatives>
<graphic id="pbio.3000295.e154g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e154" xlink:type="simple"/>
<mml:math display="block" id="M154">
<mml:mrow><mml:mrow><mml:mtext>ln</mml:mtext></mml:mrow><mml:mrow><mml:mfrac><mml:mrow><mml:msub><mml:mrow><mml:mi>L</mml:mi></mml:mrow><mml:mrow><mml:mi>H</mml:mi></mml:mrow></mml:msub><mml:mo>(</mml:mo><mml:mi>τ</mml:mi><mml:mo>+</mml:mo><mml:mi>Δ</mml:mi><mml:mi>τ</mml:mi><mml:mo>)</mml:mo></mml:mrow><mml:mrow><mml:msub><mml:mrow><mml:mi>L</mml:mi></mml:mrow><mml:mrow><mml:mi>H</mml:mi></mml:mrow></mml:msub><mml:mo>(</mml:mo><mml:mi>τ</mml:mi><mml:mo>)</mml:mo></mml:mrow></mml:mfrac></mml:mrow></mml:mrow><mml:mo>=</mml:mo><mml:mrow><mml:msubsup><mml:mo stretchy="false">∫</mml:mo><mml:mrow><mml:mi>τ</mml:mi></mml:mrow><mml:mrow><mml:mi>τ</mml:mi><mml:mo>+</mml:mo><mml:mi>Δ</mml:mi><mml:mi>τ</mml:mi></mml:mrow></mml:msubsup><mml:mrow><mml:msub><mml:mrow><mml:mi>g</mml:mi></mml:mrow><mml:mrow><mml:mi>H</mml:mi></mml:mrow></mml:msub><mml:mo>(</mml:mo><mml:mi>R</mml:mi><mml:mo>)</mml:mo><mml:mi>d</mml:mi><mml:mi>t</mml:mi><mml:mo>.</mml:mo></mml:mrow></mml:mrow>
</mml:math>
</alternatives>
</disp-formula></p>
<p>Thus,
<disp-formula id="pbio.3000295.e155">
<alternatives>
<graphic id="pbio.3000295.e155g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e155" xlink:type="simple"/>
<mml:math display="block" id="M155">
<mml:msub><mml:mrow><mml:mi>L</mml:mi></mml:mrow><mml:mrow><mml:mi>H</mml:mi></mml:mrow></mml:msub><mml:mo>(</mml:mo><mml:mi>τ</mml:mi><mml:mo>+</mml:mo><mml:mi>Δ</mml:mi><mml:mi>τ</mml:mi><mml:mo>)</mml:mo><mml:mo>=</mml:mo><mml:msub><mml:mrow><mml:mi>L</mml:mi></mml:mrow><mml:mrow><mml:mi>H</mml:mi></mml:mrow></mml:msub><mml:mo>(</mml:mo><mml:mi>τ</mml:mi><mml:mo>)</mml:mo><mml:mrow><mml:mrow><mml:mtext>exp</mml:mtext></mml:mrow><mml:mrow><mml:mo>(</mml:mo><mml:mrow><mml:mrow><mml:msubsup><mml:mo stretchy="false">∫</mml:mo><mml:mrow><mml:mi>τ</mml:mi></mml:mrow><mml:mrow><mml:mi>τ</mml:mi><mml:mo>+</mml:mo><mml:mi>Δ</mml:mi><mml:mi>τ</mml:mi></mml:mrow></mml:msubsup><mml:mrow><mml:msub><mml:mrow><mml:mi>g</mml:mi></mml:mrow><mml:mrow><mml:mi>H</mml:mi></mml:mrow></mml:msub><mml:mo>(</mml:mo><mml:mi>R</mml:mi><mml:mo>)</mml:mo><mml:mi>d</mml:mi><mml:mi>t</mml:mi></mml:mrow></mml:mrow></mml:mrow><mml:mo>)</mml:mo></mml:mrow></mml:mrow><mml:mo>.</mml:mo>
</mml:math>
</alternatives>
<label>(23)</label>
</disp-formula></p>
<p>Similarly, let the length of an M cell be <italic>L</italic><sub><italic>M</italic></sub>(<italic>τ</italic>). The continuous growth of M could be described as
<disp-formula id="pbio.3000295.e156">
<alternatives>
<graphic id="pbio.3000295.e156g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e156" xlink:type="simple"/>
<mml:math display="block" id="M156">
<mml:mfrac><mml:mrow><mml:mi>d</mml:mi><mml:msub><mml:mrow><mml:mi>L</mml:mi></mml:mrow><mml:mrow><mml:mi>M</mml:mi></mml:mrow></mml:msub></mml:mrow><mml:mrow><mml:mi>d</mml:mi><mml:mi>t</mml:mi></mml:mrow></mml:mfrac><mml:mo>=</mml:mo><mml:mo>(</mml:mo><mml:mn>1</mml:mn><mml:mo>-</mml:mo><mml:msub><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow></mml:msub><mml:mo>)</mml:mo><mml:msub><mml:mrow><mml:mi>g</mml:mi></mml:mrow><mml:mrow><mml:mi>M</mml:mi></mml:mrow></mml:msub><mml:mo>(</mml:mo><mml:mi>R</mml:mi><mml:mo>,</mml:mo><mml:mi mathvariant="normal">​</mml:mi><mml:mi>B</mml:mi><mml:mo>)</mml:mo><mml:msub><mml:mrow><mml:mi>L</mml:mi></mml:mrow><mml:mrow><mml:mi>M</mml:mi></mml:mrow></mml:msub><mml:mo>.</mml:mo>
</mml:math>
</alternatives>
</disp-formula></p>
<p>Thus for an M cell, its length <italic>L</italic><sub><italic>M</italic></sub>(<italic>τ</italic> + <italic>Δτ</italic>) could be described as
<disp-formula id="pbio.3000295.e157">
<alternatives>
<graphic id="pbio.3000295.e157g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e157" xlink:type="simple"/>
<mml:math display="block" id="M157">
<mml:msub><mml:mrow><mml:mi>L</mml:mi></mml:mrow><mml:mrow><mml:mi>M</mml:mi></mml:mrow></mml:msub><mml:mo>(</mml:mo><mml:mi>τ</mml:mi><mml:mo>+</mml:mo><mml:mi>Δ</mml:mi><mml:mi>τ</mml:mi><mml:mo>)</mml:mo><mml:mo>=</mml:mo><mml:msub><mml:mrow><mml:mi>L</mml:mi></mml:mrow><mml:mrow><mml:mi>M</mml:mi></mml:mrow></mml:msub><mml:mo>(</mml:mo><mml:mi>τ</mml:mi><mml:mo>)</mml:mo><mml:mrow><mml:mrow><mml:mtext>exp</mml:mtext></mml:mrow><mml:mrow><mml:mo>(</mml:mo><mml:mrow><mml:mrow><mml:msubsup><mml:mo stretchy="false">∫</mml:mo><mml:mrow><mml:mi>τ</mml:mi></mml:mrow><mml:mrow><mml:mi>τ</mml:mi><mml:mo>+</mml:mo><mml:mi>Δ</mml:mi><mml:mi>τ</mml:mi></mml:mrow></mml:msubsup><mml:mrow><mml:mo>(</mml:mo><mml:mn>1</mml:mn><mml:mo>-</mml:mo><mml:msub><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow></mml:msub><mml:mo>)</mml:mo><mml:msub><mml:mrow><mml:mi>g</mml:mi></mml:mrow><mml:mrow><mml:mi>M</mml:mi></mml:mrow></mml:msub><mml:mo>(</mml:mo><mml:mi>R</mml:mi><mml:mo>,</mml:mo><mml:mi mathvariant="normal">​</mml:mi><mml:mi>B</mml:mi><mml:mo>)</mml:mo><mml:mi>d</mml:mi><mml:mi>t</mml:mi></mml:mrow></mml:mrow></mml:mrow><mml:mo>)</mml:mo></mml:mrow></mml:mrow><mml:mo>.</mml:mo>
</mml:math>
</alternatives>
<label>(24)</label>
</disp-formula></p>
<p>From Eqs <xref ref-type="disp-formula" rid="pbio.3000295.e079">7</xref>–<xref ref-type="disp-formula" rid="pbio.3000295.e080">8</xref>, within <italic>Δτ</italic>,
<disp-formula id="pbio.3000295.e158">
<alternatives>
<graphic id="pbio.3000295.e158g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e158" xlink:type="simple"/>
<mml:math display="block" id="M158">
<mml:mrow><mml:mtable columnalign="left"><mml:mtr columnalign="left"><mml:mtd columnalign="left"><mml:mrow><mml:mfrac><mml:mrow><mml:mi>d</mml:mi><mml:mi>P</mml:mi></mml:mrow><mml:mrow><mml:mi>d</mml:mi><mml:mi>t</mml:mi></mml:mrow></mml:mfrac></mml:mrow></mml:mtd><mml:mtd columnalign="left"><mml:mrow><mml:mo>=</mml:mo><mml:msub><mml:mi>f</mml:mi><mml:mi>P</mml:mi></mml:msub><mml:msub><mml:mi>g</mml:mi><mml:mi>M</mml:mi></mml:msub><mml:mrow><mml:mo>(</mml:mo><mml:mrow><mml:mi>R</mml:mi><mml:mo>,</mml:mo><mml:mi>B</mml:mi></mml:mrow><mml:mo>)</mml:mo></mml:mrow><mml:mi>M</mml:mi></mml:mrow></mml:mtd></mml:mtr><mml:mtr columnalign="left"><mml:mtd columnalign="left"><mml:mrow/></mml:mtd><mml:mtd columnalign="left"><mml:mrow><mml:mo>≈</mml:mo><mml:mfrac><mml:mrow><mml:msub><mml:mi>f</mml:mi><mml:mi>P</mml:mi></mml:msub></mml:mrow><mml:mrow><mml:mn>1</mml:mn><mml:mo>−</mml:mo><mml:msub><mml:mi>f</mml:mi><mml:mi>P</mml:mi></mml:msub></mml:mrow></mml:mfrac><mml:mfrac><mml:mrow><mml:mi>d</mml:mi><mml:mi>M</mml:mi></mml:mrow><mml:mrow><mml:mi>d</mml:mi><mml:mi>t</mml:mi></mml:mrow></mml:mfrac></mml:mrow></mml:mtd></mml:mtr></mml:mtable></mml:mrow>
</mml:math>
</alternatives>
</disp-formula>
and therefore
<disp-formula id="pbio.3000295.e159">
<alternatives>
<graphic id="pbio.3000295.e159g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e159" xlink:type="simple"/>
<mml:math display="block" id="M159">
<mml:mi>P</mml:mi><mml:mo>(</mml:mo><mml:mi>τ</mml:mi><mml:mo>+</mml:mo><mml:mi>Δ</mml:mi><mml:mi>τ</mml:mi><mml:mo>)</mml:mo><mml:mo>=</mml:mo><mml:mi>P</mml:mi><mml:mo>(</mml:mo><mml:mi>τ</mml:mi><mml:mo>)</mml:mo><mml:mo>+</mml:mo><mml:mfrac><mml:mrow><mml:msub><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow></mml:msub></mml:mrow><mml:mrow><mml:mn>1</mml:mn><mml:mo>-</mml:mo><mml:msub><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow></mml:msub></mml:mrow></mml:mfrac><mml:mo>(</mml:mo><mml:mrow><mml:mi>M</mml:mi><mml:mo>(</mml:mo><mml:mi>τ</mml:mi><mml:mo>+</mml:mo><mml:mi>Δ</mml:mi><mml:mi>τ</mml:mi><mml:mo>)</mml:mo><mml:mo>-</mml:mo><mml:mi>M</mml:mi><mml:mo>(</mml:mo><mml:mi>τ</mml:mi><mml:mo>)</mml:mo></mml:mrow><mml:mo>)</mml:mo>
</mml:math>
</alternatives>
<label>(25)</label>
</disp-formula>
where <italic>M</italic>(<italic>τ</italic> + <italic>Δτ</italic>) = Σ<italic>L</italic><sub><italic>M</italic></sub>(<italic>τ</italic> + <italic>Δτ</italic>) represented the sum of the biomass (or lengths) of all M cells at <italic>τ</italic> + <italic>Δτ</italic>.</p>
<p>At the end of each <italic>Δτ</italic>, each H and M cell had a probability of <italic>δ</italic><sub><italic>H</italic></sub><italic>Δτ</italic> and <italic>δ</italic><sub><italic>M</italic></sub><italic>Δτ</italic> to die, respectively. This was simulated by assigning a random number between 0 and 1 for each cell. Cells assigned with a random number less than <italic>δ</italic><sub><italic>H</italic></sub><italic>Δτ</italic> or <italic>δ</italic><sub><italic>M</italic></sub><italic>Δτ</italic> then got eliminated. For surviving cells, if a cell’s length ≥ 2, this cell would divide into 2 cells with half the original length.</p>
<p>After division, each mutable phenotype of each cell had a probability of <italic>P</italic><sub><italic>mut</italic></sub> to be modified by a mutation (<xref ref-type="sec" rid="sec020">Methods</xref>, Section 4). As an example, let’s consider mutations in <italic>f</italic><sub><italic>P</italic></sub>. If a mutation occurred, then <italic>f</italic><sub><italic>P</italic></sub> would be multiplied by (1 + <italic>Δf</italic><sub><italic>P</italic></sub>), where <italic>Δf</italic><sub><italic>P</italic></sub> was determined as below.</p>
<p>First, a uniform random number <italic>u</italic><sub>1</sub> between 0 and 1 was generated. If <italic>u</italic><sub>1</sub> ≤ 0.5, <italic>Δf</italic><sub><italic>P</italic></sub> = −1, which represented 50% chance of a null mutation (<italic>f</italic><sub><italic>P</italic></sub> = 0). If 0.5 &lt; <italic>u</italic><sub>1</sub> ≤ 1, <italic>Δf</italic><sub><italic>P</italic></sub> followed the distribution defined by <xref ref-type="disp-formula" rid="pbio.3000295.e148">Eq 20</xref> with <italic>s</italic><sub>+</sub>(<italic>f</italic><sub><italic>P</italic></sub>) = 0.05 for <italic>f</italic><sub><italic>P</italic></sub>-enhancing mutations and <italic>s</italic><sub>−</sub>(<italic>f</italic><sub><italic>P</italic></sub>) = 0.067 for <italic>f</italic><sub><italic>P</italic></sub>-diminishing mutations when epistasis was not considered (<xref ref-type="sec" rid="sec020">Methods</xref>, Section 4). In the simulation, <italic>Δf</italic><sub><italic>P</italic></sub> was generated via inverse transform sampling. Specifically, <italic>C</italic>(<italic>Δf</italic><sub><italic>P</italic></sub>), the cumulative distribution function (CDF) of <italic>Δf</italic><sub><italic>P</italic></sub>, could be found by integrating <xref ref-type="disp-formula" rid="pbio.3000295.e147">Eq 19</xref> from −1 to <italic>Δf</italic><sub><italic>P</italic></sub>:
<disp-formula id="pbio.3000295.e160">
<alternatives>
<graphic id="pbio.3000295.e160g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e160" xlink:type="simple"/>
<mml:math display="block" id="M160">
<mml:mrow><mml:mtable columnalign="left"><mml:mtr columnalign="left"><mml:mtd columnalign="left"><mml:mrow><mml:mi>C</mml:mi><mml:mrow><mml:mo>(</mml:mo><mml:mrow><mml:mi>Δ</mml:mi><mml:msub><mml:mi>f</mml:mi><mml:mi>P</mml:mi></mml:msub></mml:mrow><mml:mo>)</mml:mo></mml:mrow></mml:mrow></mml:mtd><mml:mtd columnalign="left"><mml:mrow><mml:mo>=</mml:mo><mml:msubsup><mml:mstyle displaystyle="true" mathsize="140%"><mml:mo>∫</mml:mo></mml:mstyle><mml:mrow><mml:mo>−</mml:mo><mml:mn>1</mml:mn></mml:mrow><mml:mrow><mml:mi>Δ</mml:mi><mml:msub><mml:mi>f</mml:mi><mml:mi>P</mml:mi></mml:msub></mml:mrow></mml:msubsup><mml:msub><mml:mi>μ</mml:mi><mml:mrow><mml:mi>Δ</mml:mi><mml:mi>s</mml:mi></mml:mrow></mml:msub><mml:mrow><mml:mo>(</mml:mo><mml:mi>x</mml:mi><mml:mo>)</mml:mo></mml:mrow><mml:mi>d</mml:mi><mml:mi>x</mml:mi></mml:mrow></mml:mtd></mml:mtr><mml:mtr columnalign="left"><mml:mtd columnalign="left"><mml:mrow/></mml:mtd><mml:mtd columnalign="left"><mml:mrow><mml:mo>=</mml:mo><mml:mrow><mml:mo>(</mml:mo><mml:mrow><mml:mtable><mml:mtr><mml:mtd><mml:mrow><mml:mfrac><mml:mrow><mml:msub><mml:mi>s</mml:mi><mml:mo>−</mml:mo></mml:msub></mml:mrow><mml:mrow><mml:msub><mml:mi>s</mml:mi><mml:mo>+</mml:mo></mml:msub><mml:mo>+</mml:mo><mml:msub><mml:mi>s</mml:mi><mml:mo>−</mml:mo></mml:msub><mml:mrow><mml:mo>(</mml:mo><mml:mrow><mml:mn>1</mml:mn><mml:mo>−</mml:mo><mml:msup><mml:mi>e</mml:mi><mml:mrow><mml:mo>−</mml:mo><mml:mn>1</mml:mn><mml:mo>/</mml:mo><mml:msub><mml:mi>s</mml:mi><mml:mo>−</mml:mo></mml:msub></mml:mrow></mml:msup></mml:mrow><mml:mo>)</mml:mo></mml:mrow></mml:mrow></mml:mfrac><mml:mrow><mml:mo>(</mml:mo><mml:mrow><mml:msup><mml:mi>e</mml:mi><mml:mrow><mml:mi>Δ</mml:mi><mml:msub><mml:mi>f</mml:mi><mml:mi>P</mml:mi></mml:msub><mml:mo>/</mml:mo><mml:msub><mml:mi>s</mml:mi><mml:mo>−</mml:mo></mml:msub></mml:mrow></mml:msup><mml:mo>−</mml:mo><mml:msup><mml:mi>e</mml:mi><mml:mrow><mml:mo>−</mml:mo><mml:mn>1</mml:mn><mml:mo>/</mml:mo><mml:msub><mml:mi>s</mml:mi><mml:mo>−</mml:mo></mml:msub></mml:mrow></mml:msup></mml:mrow><mml:mo>)</mml:mo></mml:mrow></mml:mrow></mml:mtd><mml:mtd><mml:mrow><mml:mtext>if</mml:mtext><mml:mspace width="4pt"/><mml:mo>Δ</mml:mo><mml:msub><mml:mi>f</mml:mi><mml:mi>P</mml:mi></mml:msub><mml:mo>≤</mml:mo><mml:mn>0</mml:mn></mml:mrow></mml:mtd></mml:mtr><mml:mtr><mml:mtd><mml:mrow><mml:mn>1</mml:mn><mml:mo>−</mml:mo><mml:mfrac><mml:mrow><mml:msub><mml:mi>s</mml:mi><mml:mo>+</mml:mo></mml:msub></mml:mrow><mml:mrow><mml:msub><mml:mi>s</mml:mi><mml:mo>+</mml:mo></mml:msub><mml:mo>+</mml:mo><mml:msub><mml:mi>s</mml:mi><mml:mo>−</mml:mo></mml:msub><mml:mrow><mml:mo>(</mml:mo><mml:mrow><mml:mn>1</mml:mn><mml:mo>−</mml:mo><mml:msup><mml:mi>e</mml:mi><mml:mrow><mml:mo>−</mml:mo><mml:mn>1</mml:mn><mml:mo>/</mml:mo><mml:msub><mml:mi>s</mml:mi><mml:mo>−</mml:mo></mml:msub></mml:mrow></mml:msup></mml:mrow><mml:mo>)</mml:mo></mml:mrow></mml:mrow></mml:mfrac><mml:msup><mml:mi>e</mml:mi><mml:mrow><mml:mo>−</mml:mo><mml:mi>Δ</mml:mi><mml:msub><mml:mi>f</mml:mi><mml:mi>P</mml:mi></mml:msub><mml:mo>/</mml:mo><mml:msub><mml:mi>s</mml:mi><mml:mo>+</mml:mo></mml:msub></mml:mrow></mml:msup></mml:mrow></mml:mtd><mml:mtd><mml:mrow><mml:mtext>if</mml:mtext><mml:mo>Δ</mml:mo><mml:msub><mml:mi>f</mml:mi><mml:mi>P</mml:mi></mml:msub><mml:mo>≥</mml:mo><mml:mn>0</mml:mn></mml:mrow></mml:mtd></mml:mtr></mml:mtable></mml:mrow></mml:mrow></mml:mrow></mml:mtd></mml:mtr></mml:mtable></mml:mrow>
</mml:math>
</alternatives>
<label>(26)</label>
</disp-formula></p>
<p>The 2 parts of <xref ref-type="disp-formula" rid="pbio.3000295.e160">Eq 26</xref> overlap at <inline-formula id="pbio.3000295.e161"><alternatives><graphic id="pbio.3000295.e161g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e161" xlink:type="simple"/><mml:math display="inline" id="M161"><mml:mi>C</mml:mi><mml:mo>(</mml:mo><mml:mi>Δ</mml:mi><mml:msub><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow></mml:msub><mml:mo>=</mml:mo><mml:mn>0</mml:mn><mml:mo>)</mml:mo><mml:mo>=</mml:mo><mml:msub><mml:mrow><mml:mi>s</mml:mi></mml:mrow><mml:mrow><mml:mo>-</mml:mo></mml:mrow></mml:msub><mml:mo>(</mml:mo><mml:mn>1</mml:mn><mml:mo>-</mml:mo><mml:msup><mml:mrow><mml:mi>e</mml:mi></mml:mrow><mml:mrow><mml:mo>-</mml:mo><mml:mn>1</mml:mn><mml:mo>/</mml:mo><mml:msub><mml:mrow><mml:mi>s</mml:mi></mml:mrow><mml:mrow><mml:mo>-</mml:mo></mml:mrow></mml:msub></mml:mrow></mml:msup><mml:mo>)</mml:mo><mml:mo>/</mml:mo><mml:mo>[</mml:mo><mml:mrow><mml:msub><mml:mrow><mml:mi>s</mml:mi></mml:mrow><mml:mrow><mml:mo>+</mml:mo></mml:mrow></mml:msub><mml:mo>+</mml:mo><mml:msub><mml:mrow><mml:mi>s</mml:mi></mml:mrow><mml:mrow><mml:mo>-</mml:mo></mml:mrow></mml:msub><mml:mo>(</mml:mo><mml:mn>1</mml:mn><mml:mo>-</mml:mo><mml:msup><mml:mrow><mml:mi>e</mml:mi></mml:mrow><mml:mrow><mml:mo>-</mml:mo><mml:mn>1</mml:mn><mml:mo>/</mml:mo><mml:msub><mml:mrow><mml:mi>s</mml:mi></mml:mrow><mml:mrow><mml:mo>-</mml:mo></mml:mrow></mml:msub></mml:mrow></mml:msup><mml:mo>)</mml:mo></mml:mrow><mml:mo>]</mml:mo></mml:math></alternatives></inline-formula>.</p>
<p>In order to generate <italic>Δf</italic><sub><italic>P</italic></sub> satisfying the distribution in <xref ref-type="disp-formula" rid="pbio.3000295.e147">Eq 19</xref>, a uniform random number <italic>u</italic><sub>2</sub> between 0 and 1 was generated, and we set <italic>C</italic>(<italic>Δf</italic><sub><italic>P</italic></sub>) = <italic>u</italic><sub>2</sub>. Inverting <xref ref-type="disp-formula" rid="pbio.3000295.e160">Eq 26</xref> yielded
<disp-formula id="pbio.3000295.e162">
<alternatives>
<graphic id="pbio.3000295.e162g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e162" xlink:type="simple"/>
<mml:math display="block" id="M162">
<mml:mi>Δ</mml:mi><mml:msub><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow></mml:msub><mml:mo>=</mml:mo><mml:mo>(</mml:mo><mml:mrow><mml:mtable><mml:mtr><mml:mtd><mml:msub><mml:mrow><mml:mi>s</mml:mi></mml:mrow><mml:mrow><mml:mo>-</mml:mo></mml:mrow></mml:msub><mml:mrow><mml:mrow><mml:mtext>ln</mml:mtext></mml:mrow><mml:mrow><mml:mo>(</mml:mo><mml:mrow><mml:msub><mml:mrow><mml:mi>u</mml:mi></mml:mrow><mml:mrow><mml:mn>2</mml:mn></mml:mrow></mml:msub><mml:mo>(</mml:mo><mml:msub><mml:mrow><mml:mi>s</mml:mi></mml:mrow><mml:mrow><mml:mo>+</mml:mo></mml:mrow></mml:msub><mml:mo>+</mml:mo><mml:msub><mml:mrow><mml:mi>s</mml:mi></mml:mrow><mml:mrow><mml:mo>-</mml:mo></mml:mrow></mml:msub><mml:mo>(</mml:mo><mml:mn>1</mml:mn><mml:mo>-</mml:mo><mml:msup><mml:mrow><mml:mi>e</mml:mi></mml:mrow><mml:mrow><mml:mo>-</mml:mo><mml:mn>1</mml:mn><mml:mo>/</mml:mo><mml:msub><mml:mrow><mml:mi>s</mml:mi></mml:mrow><mml:mrow><mml:mo>-</mml:mo></mml:mrow></mml:msub></mml:mrow></mml:msup><mml:mo>)</mml:mo><mml:mo>)</mml:mo><mml:mo>/</mml:mo><mml:msub><mml:mrow><mml:mi>s</mml:mi></mml:mrow><mml:mrow><mml:mo>-</mml:mo></mml:mrow></mml:msub><mml:mo>+</mml:mo><mml:msup><mml:mrow><mml:mi>e</mml:mi></mml:mrow><mml:mrow><mml:mo>-</mml:mo><mml:mn>1</mml:mn><mml:mo>/</mml:mo><mml:msub><mml:mrow><mml:mi>s</mml:mi></mml:mrow><mml:mrow><mml:mo>-</mml:mo></mml:mrow></mml:msub></mml:mrow></mml:msup></mml:mrow><mml:mo>)</mml:mo></mml:mrow></mml:mrow></mml:mtd><mml:mtd><mml:msub><mml:mrow><mml:mi>u</mml:mi></mml:mrow><mml:mrow><mml:mn>2</mml:mn></mml:mrow></mml:msub><mml:mo>≤</mml:mo><mml:mfrac><mml:mrow><mml:msub><mml:mrow><mml:mi>s</mml:mi></mml:mrow><mml:mrow><mml:mo>-</mml:mo></mml:mrow></mml:msub><mml:mo>(</mml:mo><mml:mn>1</mml:mn><mml:mo>-</mml:mo><mml:msup><mml:mrow><mml:mi>e</mml:mi></mml:mrow><mml:mrow><mml:mo>-</mml:mo><mml:mn>1</mml:mn><mml:mo>/</mml:mo><mml:msub><mml:mrow><mml:mi>s</mml:mi></mml:mrow><mml:mrow><mml:mo>-</mml:mo></mml:mrow></mml:msub></mml:mrow></mml:msup><mml:mo>)</mml:mo></mml:mrow><mml:mrow><mml:msub><mml:mrow><mml:mi>s</mml:mi></mml:mrow><mml:mrow><mml:mo>+</mml:mo></mml:mrow></mml:msub><mml:mo>+</mml:mo><mml:msub><mml:mrow><mml:mi>s</mml:mi></mml:mrow><mml:mrow><mml:mo>-</mml:mo></mml:mrow></mml:msub><mml:mo>(</mml:mo><mml:mn>1</mml:mn><mml:mo>-</mml:mo><mml:msup><mml:mrow><mml:mi>e</mml:mi></mml:mrow><mml:mrow><mml:mo>-</mml:mo><mml:mn>1</mml:mn><mml:mo>/</mml:mo><mml:msub><mml:mrow><mml:mi>s</mml:mi></mml:mrow><mml:mrow><mml:mo>-</mml:mo></mml:mrow></mml:msub></mml:mrow></mml:msup><mml:mo>)</mml:mo></mml:mrow></mml:mfrac></mml:mtd></mml:mtr><mml:mtr><mml:mtd><mml:mo>-</mml:mo><mml:msub><mml:mrow><mml:mi>s</mml:mi></mml:mrow><mml:mrow><mml:mo>+</mml:mo></mml:mrow></mml:msub><mml:mrow><mml:mrow><mml:mtext>ln</mml:mtext></mml:mrow><mml:mrow><mml:mo>(</mml:mo><mml:mrow><mml:mo>(</mml:mo><mml:mn>1</mml:mn><mml:mo>-</mml:mo><mml:msub><mml:mrow><mml:mi>u</mml:mi></mml:mrow><mml:mrow><mml:mn>2</mml:mn></mml:mrow></mml:msub><mml:mo>)</mml:mo><mml:mo>(</mml:mo><mml:msub><mml:mrow><mml:mi>s</mml:mi></mml:mrow><mml:mrow><mml:mo>+</mml:mo></mml:mrow></mml:msub><mml:mo>+</mml:mo><mml:msub><mml:mrow><mml:mi>s</mml:mi></mml:mrow><mml:mrow><mml:mo>-</mml:mo></mml:mrow></mml:msub><mml:mo>(</mml:mo><mml:mn>1</mml:mn><mml:mo>-</mml:mo><mml:msup><mml:mrow><mml:mi>e</mml:mi></mml:mrow><mml:mrow><mml:mo>-</mml:mo><mml:mn>1</mml:mn><mml:mo>/</mml:mo><mml:msub><mml:mrow><mml:mi>s</mml:mi></mml:mrow><mml:mrow><mml:mo>-</mml:mo></mml:mrow></mml:msub></mml:mrow></mml:msup><mml:mo>)</mml:mo><mml:mo>)</mml:mo><mml:mo>/</mml:mo><mml:msub><mml:mrow><mml:mi>s</mml:mi></mml:mrow><mml:mrow><mml:mo>+</mml:mo></mml:mrow></mml:msub></mml:mrow><mml:mo>)</mml:mo></mml:mrow></mml:mrow></mml:mtd><mml:mtd><mml:msub><mml:mrow><mml:mi>u</mml:mi></mml:mrow><mml:mrow><mml:mn>2</mml:mn></mml:mrow></mml:msub><mml:mo>&gt;</mml:mo><mml:mfrac><mml:mrow><mml:msub><mml:mrow><mml:mi>s</mml:mi></mml:mrow><mml:mrow><mml:mo>-</mml:mo></mml:mrow></mml:msub><mml:mo>(</mml:mo><mml:mn>1</mml:mn><mml:mo>-</mml:mo><mml:msup><mml:mrow><mml:mi>e</mml:mi></mml:mrow><mml:mrow><mml:mo>-</mml:mo><mml:mn>1</mml:mn><mml:mo>/</mml:mo><mml:msub><mml:mrow><mml:mi>s</mml:mi></mml:mrow><mml:mrow><mml:mo>-</mml:mo></mml:mrow></mml:msub></mml:mrow></mml:msup><mml:mo>)</mml:mo></mml:mrow><mml:mrow><mml:msub><mml:mrow><mml:mi>s</mml:mi></mml:mrow><mml:mrow><mml:mo>+</mml:mo></mml:mrow></mml:msub><mml:mo>+</mml:mo><mml:msub><mml:mrow><mml:mi>s</mml:mi></mml:mrow><mml:mrow><mml:mo>-</mml:mo></mml:mrow></mml:msub><mml:mo>(</mml:mo><mml:mn>1</mml:mn><mml:mo>-</mml:mo><mml:msup><mml:mrow><mml:mi>e</mml:mi></mml:mrow><mml:mrow><mml:mo>-</mml:mo><mml:mn>1</mml:mn><mml:mo>/</mml:mo><mml:msub><mml:mrow><mml:mi>s</mml:mi></mml:mrow><mml:mrow><mml:mo>-</mml:mo></mml:mrow></mml:msub></mml:mrow></mml:msup><mml:mo>)</mml:mo></mml:mrow></mml:mfrac></mml:mtd></mml:mtr></mml:mtable></mml:mrow>
</mml:math>
</alternatives>
<label>(27)</label>
</disp-formula></p>
<p>When <italic>s</italic><sub>+</sub>, <italic>s</italic><sub>−</sub> ≪ 1, the above equation can be simplified as
<disp-formula id="pbio.3000295.e163">
<alternatives>
<graphic id="pbio.3000295.e163g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e163" xlink:type="simple"/>
<mml:math display="block" id="M163">
<mml:mi>Δ</mml:mi><mml:msub><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow></mml:msub><mml:mo>≈</mml:mo><mml:mrow><mml:mo>(</mml:mo><mml:mtable><mml:mtr><mml:mtd><mml:msub><mml:mrow><mml:mi>s</mml:mi></mml:mrow><mml:mrow><mml:mo>-</mml:mo></mml:mrow></mml:msub><mml:mrow><mml:mrow><mml:mtext>ln</mml:mtext></mml:mrow><mml:mrow><mml:mo>(</mml:mo><mml:mrow><mml:msub><mml:mrow><mml:mi>u</mml:mi></mml:mrow><mml:mrow><mml:mn>2</mml:mn></mml:mrow></mml:msub><mml:mo>(</mml:mo><mml:msub><mml:mrow><mml:mi>s</mml:mi></mml:mrow><mml:mrow><mml:mo>+</mml:mo></mml:mrow></mml:msub><mml:mo>+</mml:mo><mml:msub><mml:mrow><mml:mi>s</mml:mi></mml:mrow><mml:mrow><mml:mo>-</mml:mo></mml:mrow></mml:msub><mml:mo>)</mml:mo><mml:mo>/</mml:mo><mml:msub><mml:mrow><mml:mi>s</mml:mi></mml:mrow><mml:mrow><mml:mo>-</mml:mo></mml:mrow></mml:msub></mml:mrow><mml:mo>)</mml:mo></mml:mrow></mml:mrow></mml:mtd><mml:mtd><mml:msub><mml:mrow><mml:mi>u</mml:mi></mml:mrow><mml:mrow><mml:mn>2</mml:mn></mml:mrow></mml:msub><mml:mo>≤</mml:mo><mml:mfrac><mml:mrow><mml:msub><mml:mrow><mml:mi>s</mml:mi></mml:mrow><mml:mrow><mml:mo>-</mml:mo></mml:mrow></mml:msub></mml:mrow><mml:mrow><mml:msub><mml:mrow><mml:mi>s</mml:mi></mml:mrow><mml:mrow><mml:mo>+</mml:mo></mml:mrow></mml:msub><mml:mo>+</mml:mo><mml:msub><mml:mrow><mml:mi>s</mml:mi></mml:mrow><mml:mrow><mml:mo>-</mml:mo></mml:mrow></mml:msub></mml:mrow></mml:mfrac></mml:mtd></mml:mtr><mml:mtr><mml:mtd><mml:mo>-</mml:mo><mml:msub><mml:mrow><mml:mi>s</mml:mi></mml:mrow><mml:mrow><mml:mo>+</mml:mo></mml:mrow></mml:msub><mml:mrow><mml:mrow><mml:mtext>ln</mml:mtext></mml:mrow><mml:mrow><mml:mo>(</mml:mo><mml:mrow><mml:mo>(</mml:mo><mml:mn>1</mml:mn><mml:mo>-</mml:mo><mml:msub><mml:mrow><mml:mi>u</mml:mi></mml:mrow><mml:mrow><mml:mn>2</mml:mn></mml:mrow></mml:msub><mml:mo>)</mml:mo><mml:mo>(</mml:mo><mml:msub><mml:mrow><mml:mi>s</mml:mi></mml:mrow><mml:mrow><mml:mo>+</mml:mo></mml:mrow></mml:msub><mml:mo>+</mml:mo><mml:msub><mml:mrow><mml:mi>s</mml:mi></mml:mrow><mml:mrow><mml:mo>-</mml:mo></mml:mrow></mml:msub><mml:mo>)</mml:mo><mml:mo>/</mml:mo><mml:msub><mml:mrow><mml:mi>s</mml:mi></mml:mrow><mml:mrow><mml:mo>+</mml:mo></mml:mrow></mml:msub></mml:mrow><mml:mo>)</mml:mo></mml:mrow></mml:mrow></mml:mtd><mml:mtd><mml:msub><mml:mrow><mml:mi>u</mml:mi></mml:mrow><mml:mrow><mml:mn>2</mml:mn></mml:mrow></mml:msub><mml:mo>&gt;</mml:mo><mml:mfrac><mml:mrow><mml:msub><mml:mrow><mml:mi>s</mml:mi></mml:mrow><mml:mrow><mml:mo>-</mml:mo></mml:mrow></mml:msub></mml:mrow><mml:mrow><mml:msub><mml:mrow><mml:mi>s</mml:mi></mml:mrow><mml:mrow><mml:mo>+</mml:mo></mml:mrow></mml:msub><mml:mo>+</mml:mo><mml:msub><mml:mrow><mml:mi>s</mml:mi></mml:mrow><mml:mrow><mml:mo>-</mml:mo></mml:mrow></mml:msub></mml:mrow></mml:mfrac></mml:mtd></mml:mtr></mml:mtable></mml:mrow><mml:mo>.</mml:mo>
</mml:math>
</alternatives>
</disp-formula></p>
<p>When epistasis was considered, <italic>s</italic><sub>+</sub>(<italic>f</italic><sub><italic>P</italic></sub>) = <italic>s</italic><sub>+<italic>init</italic></sub>/(1 + <italic>g</italic> × (<italic>f</italic><sub><italic>P</italic></sub>/<italic>f</italic><sub><italic>P</italic>,<italic>init</italic></sub> −1)) and <italic>s</italic><sub>−</sub>(<italic>f</italic><sub><italic>P</italic></sub>) = <italic>s</italic><sub>−<italic>init</italic></sub> × (1 + <italic>g</italic> × (<italic>f</italic><sub><italic>P</italic></sub>/<italic>f</italic><sub><italic>P</italic>,<italic>init</italic></sub> −1)) were used in <xref ref-type="disp-formula" rid="pbio.3000295.e162">Eq 27</xref> to calculate <italic>Δf</italic><sub><italic>P</italic></sub> for each cell (<xref ref-type="sec" rid="sec020">Methods</xref> Section 5).</p>
<p>If a mutation increased or decreased the phenotypic parameter beyond its bound (<xref ref-type="table" rid="pbio.3000295.t001">Table 1</xref>), the phenotypic parameter was set to the bound value.</p>
<p>The above growth, death, division, and mutation cycle was repeated from time 0 to <italic>T</italic>. Note that because the size of each M and H cell is larger than 1, the integer numbers of M and H cells, <italic>I</italic><sub><italic>M</italic></sub> and <italic>I</italic><sub><italic>H</italic></sub>, are generally smaller than the numerical values of biomass <italic>M</italic> and <italic>H</italic>, respectively. At the end of <italic>T</italic>, Adult communities were sorted according to their <italic>P</italic>(<italic>T</italic>) values. The Adult communities with the highest <italic>P</italic>(<italic>T</italic>) (or a randomly chosen Adult in control simulations in <xref ref-type="supplementary-material" rid="pbio.3000295.s009">S9 Fig</xref>) were chosen for reproduction. Adult communities were not mixed.</p>
<p>In the top-dog strategy, we started with the Adult with the highest community function. We first calculated the fold by which this Adult would be diluted as <inline-formula id="pbio.3000295.e164"><alternatives><graphic id="pbio.3000295.e164g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e164" xlink:type="simple"/><mml:math display="inline" id="M164"><mml:msub><mml:mrow><mml:mi>n</mml:mi></mml:mrow><mml:mrow><mml:mi>D</mml:mi></mml:mrow></mml:msub><mml:mo>=</mml:mo><mml:mo>⌊</mml:mo><mml:mrow><mml:mfrac><mml:mrow><mml:mi>M</mml:mi><mml:mo>(</mml:mo><mml:mrow><mml:mi>T</mml:mi></mml:mrow><mml:mo>)</mml:mo><mml:mo>+</mml:mo><mml:mi>H</mml:mi><mml:mo>(</mml:mo><mml:mrow><mml:mi>T</mml:mi></mml:mrow><mml:mo>)</mml:mo></mml:mrow><mml:mrow><mml:mi>B</mml:mi><mml:msub><mml:mrow><mml:mi>M</mml:mi></mml:mrow><mml:mrow><mml:mi>t</mml:mi><mml:mi>a</mml:mi><mml:mi>r</mml:mi><mml:mi>g</mml:mi><mml:mi>e</mml:mi><mml:mi>t</mml:mi></mml:mrow></mml:msub></mml:mrow></mml:mfrac></mml:mrow><mml:mo>⌋</mml:mo></mml:math></alternatives></inline-formula>. Here, <italic>BM</italic><sub><italic>target</italic></sub> = 100 was the preset target for Newborn total biomass, and ⌊<italic>x</italic>⌋ is the floor (round down) function that generates the largest integer that is smaller than <italic>x</italic>. Note that rounding down causes negligible errors. For example, with 7,000 total biomass in an Adult, fold dilution <inline-formula id="pbio.3000295.e165"><alternatives><graphic id="pbio.3000295.e165g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e165" xlink:type="simple"/><mml:math display="inline" id="M165"><mml:msub><mml:mrow><mml:mi>n</mml:mi></mml:mrow><mml:mrow><mml:mi>D</mml:mi></mml:mrow></mml:msub><mml:mo>=</mml:mo><mml:mfrac><mml:mrow><mml:mn>7000</mml:mn></mml:mrow><mml:mrow><mml:mn>100</mml:mn></mml:mrow></mml:mfrac><mml:mo>=</mml:mo><mml:mn>70</mml:mn></mml:math></alternatives></inline-formula> and each Newborn would have an average 100 total biomass. In comparison, with 6999 total biomass in an Adult, <italic>n</italic><sub><italic>D</italic></sub> = 69 and each Newborn would have an average 101.4 total biomass. This difference of 1% is much smaller than stochastic fluctuations caused by pippetting. If <italic>n</italic><sub><italic>D</italic></sub> was less than <italic>n</italic><sub><italic>tot</italic></sub>, the total number of communities within a cycle, then all <italic>n</italic><sub><italic>D</italic></sub> Newborn communities were kept, and the Adult with the next highest function was partitioned to obtain an additional batch of Newborns. From the last batch of Newborns, we would randomly choose enough to obtain <italic>n</italic><sub><italic>tot</italic></sub> Newborns. The next cycle then began.</p>
<p>During reproduction of the top-tier strategy, <italic>n</italic><sub><italic>chosen</italic></sub> Adults with the highest functions would each contribute <italic>n</italic><sub><italic>tot</italic></sub>/<italic>n</italic><sub><italic>chosen</italic></sub> Newborns for the next cycle. We have always picked <italic>n</italic><sub><italic>chosen</italic></sub> so that <italic>n</italic><sub><italic>tot</italic></sub>/<italic>n</italic><sub><italic>chosen</italic></sub> is an integer.</p>
<p>Before community reproduction, the current random number generator state was saved so that the random partitioning of Adult communities could be replayed.</p>
<p>To mimic partitioning Adult communities via pipetting into Newborn communities with an average total biomass of <italic>BM</italic><sub><italic>target</italic></sub>, we first calculated the fold of dilution <italic>n</italic><sub><italic>D</italic></sub> as described above. If the Adult community had <italic>I</italic><sub><italic>H</italic></sub>(<italic>T</italic>) H cells and <italic>I</italic><sub><italic>M</italic></sub>(<italic>T</italic>) cells, <italic>I</italic><sub><italic>H</italic></sub>(<italic>T</italic>) + <italic>I</italic><sub><italic>M</italic></sub>(<italic>T</italic>) random integers between 1 and <italic>n</italic><sub><italic>D</italic></sub> were uniformly generated so that each M and H cell was assigned a random integer between 1 and <italic>n</italic><sub><italic>D</italic></sub>. All cells assigned with the same random integer were then assigned to the same Newborn, generating <italic>n</italic><sub><italic>D</italic></sub> Newborn communities. This partition regimen can be experimentally implemented by pipetting 1/<italic>n</italic><sub><italic>D</italic></sub> volume of an Adult community into a new well.</p>
<p>To fix <italic>BM</italic>(0) to <italic>BM</italic><sub><italic>target</italic></sub> and <italic>ϕ</italic><sub><italic>M</italic></sub>(0) to <italic>ϕ</italic><sub><italic>M</italic></sub>(<italic>T</italic>) of the parent Adult (cell sorting), the code randomly assigned M cells from the chosen Adult until the total biomass of M came closest to <italic>BM</italic><sub><italic>target</italic></sub><italic>ϕ</italic><sub><italic>M</italic></sub>(<italic>T</italic>) without exceeding it. H cells were assigned similarly. Because each M and H cells had a length between 1 and 2, the biomass of M could vary between <italic>BM</italic><sub><italic>target</italic></sub><italic>ϕ</italic><sub><italic>M</italic></sub>(<italic>T</italic>)−2 and <italic>BM</italic><sub><italic>target</italic></sub><italic>ϕ</italic><sub><italic>M</italic></sub>(<italic>T</italic>), and the biomass of H could vary between <italic>BM</italic><sub><italic>target</italic></sub>(1 − <italic>ϕ</italic><sub><italic>M</italic></sub>(<italic>T</italic>))−2 and <italic>BM</italic><sub><italic>target</italic></sub>(1 − <italic>ϕ</italic><sub><italic>M</italic></sub>(<italic>T</italic>)). Variations in <italic>BM</italic>(0) and <italic>ϕ</italic><sub><italic>M</italic></sub>(0) were sufficiently small so that community selection improved <inline-formula id="pbio.3000295.e166"><alternatives><graphic id="pbio.3000295.e166g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e166" xlink:type="simple"/><mml:math display="inline" id="M166"><mml:msub><mml:mrow><mml:mover accent="false"><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mo>¯</mml:mo></mml:mover></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow></mml:msub><mml:mo>(</mml:mo><mml:mi>T</mml:mi><mml:mo>)</mml:mo></mml:math></alternatives></inline-formula> (<xref ref-type="fig" rid="pbio.3000295.g003">Fig 3D and 3E</xref>). We also simulated sorting cells such that H and M cell numbers (instead of biomass) were fixed in Newborns. Specifically, ⌊<italic>BM</italic><sub><italic>target</italic></sub><italic>φ</italic><sub><italic>M</italic></sub>(<italic>T</italic>)/1.5⌋ M cells and ⌊<italic>BM</italic><sub><italic>target</italic></sub>(1 − <italic>φ</italic><sub><italic>M</italic></sub>(<italic>T</italic>))/1.5⌋ H cells were sorted into each Newborn community, where we assumed that the average biomass of a cell was 1.5, and <italic>φ</italic><sub><italic>M</italic></sub>(<italic>T</italic>) = <italic>I</italic><sub><italic>M</italic></sub>(<italic>T</italic>)/(<italic>I</italic><sub><italic>M</italic></sub>(<italic>T</italic>) + <italic>I</italic><sub><italic>H</italic></sub>(<italic>T</italic>)) was calculated from cell numbers in the parent Adult community. We obtained the same conclusion (<xref ref-type="supplementary-material" rid="pbio.3000295.s013">S13C Fig</xref>).</p>
<p>To fix Newborn total biomass <italic>BM</italic>(0) to the target total biomass <italic>BM</italic><sub><italic>target</italic></sub> while allowing <italic>ϕ</italic><sub><italic>M</italic></sub>(0) to fluctuate (<xref ref-type="supplementary-material" rid="pbio.3000295.s012">S12 Fig</xref> first and third column), H and M cells were randomly assigned to a Newborn community until <italic>BM</italic>(0) came closest to <italic>BM</italic><sub><italic>target</italic></sub> without exceeding it (otherwise, <italic>P</italic>(<italic>T</italic>) might exceed the theoretical maximum). For example, suppose that a certain number of M and H cells had been sorted into a Newborn so that the total biomass was 98.6. If the next cell, either M or H, had a biomass of 1.3, this cell would go into the community so that the total biomass would be 98.6 + 1.3 = 99.9. However, if a cell of mass 1.6 happened to be picked, this cell would not go into this community so that this Newborn had a total biomass of 98.6 and the cell of mass 1.6 would go to the next Newborn. Thus, each Newborn might not have exactly the biomass of <italic>BM</italic><sub><italic>target</italic></sub>, but rather between <italic>BM</italic><sub><italic>target</italic></sub> −2 and <italic>BM</italic><sub><italic>target</italic></sub>. Experimentally, total biomass can be determined from the optical density, or from the total fluorescence if cells are fluorescently labeled [<xref ref-type="bibr" rid="pbio.3000295.ref061">61</xref>]. To fix the total cell number (instead of total biomass) in a Newborn, the code randomly assigned a total of ⌊<italic>BM</italic><sub><italic>target</italic></sub>/1.5⌋ cells into each Newborn, assuming an average cell biomass of 1.5. We obtained the same conclusion, as shown in <xref ref-type="supplementary-material" rid="pbio.3000295.s013">S13A Fig</xref>.</p>
<p>To fix <italic>ϕ</italic><sub><italic>M</italic></sub>(0) to <italic>ϕ</italic><sub><italic>M</italic></sub>(<italic>T</italic>) of the chosen Adult community from the previous cycle while allowing <italic>BM</italic>(0) to fluctuate (<xref ref-type="supplementary-material" rid="pbio.3000295.s012">S12 Fig</xref> second and fourth column), the code first calculated dilution fold <italic>n</italic><sub><italic>D</italic></sub> in the same fashion as mentioned above. If the Adult community had <italic>I</italic><sub><italic>H</italic></sub>(<italic>T</italic>) H cells and <italic>I</italic><sub><italic>M</italic></sub>(<italic>T</italic>) cells, <italic>I</italic><sub><italic>M</italic></sub>(<italic>T</italic>) random integers between [1, <italic>n</italic><sub><italic>D</italic></sub>] were then generated for each M cell. All M cells assigned the same random integer joined the same Newborn community. The code then randomly dispensed H cells into each Newborn until the total biomass of H came closest to <italic>M</italic>(0)(1 − <italic>ϕ</italic><sub><italic>M</italic></sub>(<italic>T</italic>))/<italic>ϕ</italic><sub><italic>M</italic></sub>(<italic>T</italic>) without exceeding it, where <italic>M</italic>(0) was the biomass of all M cells in this Newborn community. Again, because each M and H had a biomass (or length) between 1 and 2, <italic>ϕ</italic><sub><italic>M</italic></sub>(0) of each Newborn community might not be exactly <italic>ϕ</italic><sub><italic>M</italic></sub>(<italic>T</italic>) of the chosen Adult community. We also performed simulations in which the ratio between M and H cell numbers in the Newborn community, <italic>I</italic><sub><italic>M</italic></sub>(0)/<italic>I</italic><sub><italic>H</italic></sub>(0), was set to <italic>I</italic><sub><italic>M</italic></sub>(<italic>T</italic>)/<italic>I</italic><sub><italic>H</italic></sub>(<italic>T</italic>) of the Adult community and obtained the same conclusion (<xref ref-type="supplementary-material" rid="pbio.3000295.s013">S13B Fig</xref>).</p>
</sec>
<sec id="sec027">
<title>7. Problems associated with an alternative definition of community function and an alternative method of reproducing Adults</title>
<p>Here, we describe problems associated with an alternative definition of community function and an alternative method of community reproduction.</p>
<p>An alternative definition of community function is Product per M biomass in an Adult community: <italic>P</italic>(<italic>T</italic>)/<italic>M</italic>(<italic>T</italic>). To illustrate problems with this definition, let’s calculate <italic>P</italic>(<italic>T</italic>)/<italic>M</italic>(<italic>T</italic>) assuming that cell death is negligible. From Eqs <xref ref-type="disp-formula" rid="pbio.3000295.e079">7</xref> and <xref ref-type="disp-formula" rid="pbio.3000295.e080">8</xref>,
<disp-formula id="pbio.3000295.e167">
<alternatives>
<graphic id="pbio.3000295.e167g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e167" xlink:type="simple"/>
<mml:math display="block" id="M167">
<mml:mfrac><mml:mrow><mml:mi>d</mml:mi><mml:mi>M</mml:mi></mml:mrow><mml:mrow><mml:mi>d</mml:mi><mml:mi>t</mml:mi></mml:mrow></mml:mfrac><mml:mo>=</mml:mo><mml:mo>(</mml:mo><mml:mn>1</mml:mn><mml:mo>-</mml:mo><mml:msub><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow></mml:msub><mml:mo>)</mml:mo><mml:msub><mml:mrow><mml:mi>g</mml:mi></mml:mrow><mml:mrow><mml:mi>M</mml:mi></mml:mrow></mml:msub><mml:mi>M</mml:mi>
</mml:math>
</alternatives>
</disp-formula>
<disp-formula id="pbio.3000295.e168">
<alternatives>
<graphic id="pbio.3000295.e168g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e168" xlink:type="simple"/>
<mml:math display="block" id="M168">
<mml:mfrac><mml:mrow><mml:mi>d</mml:mi><mml:mi>P</mml:mi></mml:mrow><mml:mrow><mml:mi>d</mml:mi><mml:mi>t</mml:mi></mml:mrow></mml:mfrac><mml:mo>=</mml:mo><mml:msub><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow></mml:msub><mml:msub><mml:mrow><mml:mi>g</mml:mi></mml:mrow><mml:mrow><mml:mi>M</mml:mi></mml:mrow></mml:msub><mml:mi>M</mml:mi>
</mml:math>
</alternatives>
</disp-formula>
where biomass growth rate <italic>g</italic><sub><italic>M</italic></sub> is a function of <italic>B</italic> and <italic>R</italic>. Thus,
<disp-formula id="pbio.3000295.e169">
<alternatives>
<graphic id="pbio.3000295.e169g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e169" xlink:type="simple"/>
<mml:math display="block" id="M169">
<mml:mfrac><mml:mrow><mml:mi>d</mml:mi><mml:mi>M</mml:mi></mml:mrow><mml:mrow><mml:mo>(</mml:mo><mml:mn>1</mml:mn><mml:mo>-</mml:mo><mml:msub><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow></mml:msub><mml:mo>)</mml:mo><mml:mi>d</mml:mi><mml:mi>t</mml:mi></mml:mrow></mml:mfrac><mml:mo>=</mml:mo><mml:mfrac><mml:mrow><mml:mi>d</mml:mi><mml:mi>P</mml:mi></mml:mrow><mml:mrow><mml:msub><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow></mml:msub><mml:mi>d</mml:mi><mml:mi>t</mml:mi></mml:mrow></mml:mfrac>
</mml:math>
</alternatives>
</disp-formula>
and we have
<disp-formula id="pbio.3000295.e170">
<alternatives>
<graphic id="pbio.3000295.e170g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e170" xlink:type="simple"/>
<mml:math display="block" id="M170">
<mml:mi>P</mml:mi><mml:mo>(</mml:mo><mml:mi>T</mml:mi><mml:mo>)</mml:mo><mml:mo>=</mml:mo><mml:mfrac><mml:mrow><mml:msub><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow></mml:msub></mml:mrow><mml:mrow><mml:mn>1</mml:mn><mml:mo>-</mml:mo><mml:msub><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow></mml:msub></mml:mrow></mml:mfrac><mml:mo>(</mml:mo><mml:mrow><mml:mi>M</mml:mi><mml:mo>(</mml:mo><mml:mi>T</mml:mi><mml:mo>)</mml:mo><mml:mo>-</mml:mo><mml:mi>M</mml:mi><mml:mo>(</mml:mo><mml:mn>0</mml:mn><mml:mo>)</mml:mo></mml:mrow><mml:mo>)</mml:mo><mml:mo>≈</mml:mo><mml:mfrac><mml:mrow><mml:msub><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow></mml:msub></mml:mrow><mml:mrow><mml:mn>1</mml:mn><mml:mo>-</mml:mo><mml:msub><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow></mml:msub></mml:mrow></mml:mfrac><mml:mi>M</mml:mi><mml:mo>(</mml:mo><mml:mi>T</mml:mi><mml:mo>)</mml:mo>
</mml:math>
</alternatives>
</disp-formula>
if <italic>M</italic>(<italic>T</italic>) ≫ <italic>M</italic>(0) (true if <italic>T</italic> is long enough for cells to double at least 3 or 4 times). In this case,
<disp-formula id="pbio.3000295.e171">
<alternatives>
<graphic id="pbio.3000295.e171g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e171" xlink:type="simple"/>
<mml:math display="block" id="M171">
<mml:mi>P</mml:mi><mml:mo>(</mml:mo><mml:mi>T</mml:mi><mml:mo>)</mml:mo><mml:mo>≈</mml:mo><mml:mfrac><mml:mrow><mml:msub><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow></mml:msub></mml:mrow><mml:mrow><mml:mn>1</mml:mn><mml:mo>-</mml:mo><mml:msub><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow></mml:msub></mml:mrow></mml:mfrac><mml:mi>M</mml:mi><mml:mo>(</mml:mo><mml:mn>0</mml:mn><mml:mo>)</mml:mo><mml:mrow><mml:mrow><mml:mtext>exp</mml:mtext></mml:mrow><mml:mrow><mml:mo>(</mml:mo><mml:mrow><mml:mo>(</mml:mo><mml:mn>1</mml:mn><mml:mo>-</mml:mo><mml:msub><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow></mml:msub><mml:mo>)</mml:mo><mml:mrow><mml:msub><mml:mo stretchy="false">∫</mml:mo><mml:mrow><mml:mi>T</mml:mi></mml:mrow></mml:msub><mml:mrow><mml:msub><mml:mrow><mml:mi>g</mml:mi></mml:mrow><mml:mrow><mml:mi>M</mml:mi></mml:mrow></mml:msub><mml:mi>d</mml:mi><mml:mi>t</mml:mi></mml:mrow></mml:mrow></mml:mrow><mml:mo>)</mml:mo></mml:mrow></mml:mrow>
</mml:math>
</alternatives>
<label>(28)</label>
</disp-formula></p>
<p>If we define community function as <inline-formula id="pbio.3000295.e172"><alternatives><graphic id="pbio.3000295.e172g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e172" xlink:type="simple"/><mml:math display="inline" id="M172"><mml:mi>P</mml:mi><mml:mo>(</mml:mo><mml:mi>T</mml:mi><mml:mo>)</mml:mo><mml:mo>/</mml:mo><mml:mi>M</mml:mi><mml:mo>(</mml:mo><mml:mi>T</mml:mi><mml:mo>)</mml:mo><mml:mo>≈</mml:mo><mml:mfrac><mml:mrow><mml:msub><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow></mml:msub></mml:mrow><mml:mrow><mml:mn>1</mml:mn><mml:mo>-</mml:mo><mml:msub><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow></mml:msub></mml:mrow></mml:mfrac></mml:math></alternatives></inline-formula>, then higher community function requires higher <inline-formula id="pbio.3000295.e173"><alternatives><graphic id="pbio.3000295.e173g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e173" xlink:type="simple"/><mml:math display="inline" id="M173"><mml:mfrac><mml:mrow><mml:msub><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow></mml:msub></mml:mrow><mml:mrow><mml:mn>1</mml:mn><mml:mo>-</mml:mo><mml:msub><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow></mml:msub></mml:mrow></mml:mfrac></mml:math></alternatives></inline-formula> or higher <italic>f</italic><sub><italic>P</italic></sub>. However, if we select for very high <italic>f</italic><sub><italic>P</italic></sub>, then M can go extinct (<xref ref-type="fig" rid="pbio.3000295.g002">Fig 2</xref> and <xref ref-type="supplementary-material" rid="pbio.3000295.s002">S2 Fig</xref>).</p>
<p>In our community selection scheme, the average total biomass of Newborn communities was set to a constant <italic>BM</italic><sub><italic>target</italic></sub>. Alternatively, each Adult community can be partitioned into a constant number of Newborn communities (i.e., fixed-fold dilution). If Resource is not limiting, then there is no competition between H and M, and <italic>P</italic>(<italic>T</italic>) increases as <italic>M</italic>(0) and <italic>H</italic>(0) increase. Therefore, selection for higher <italic>P</italic>(<italic>T</italic>) results in selection for higher Newborn total biomass (instead of higher <italic>f</italic><sub><italic>P</italic></sub>, <xref ref-type="supplementary-material" rid="pbio.3000295.s023">S23 Fig</xref>). This will continue until Resource becomes limiting, and then communities will get into the stationary phase.</p>
</sec>
<sec id="sec028">
<title>8. <inline-formula id="pbio.3000295.e174"><alternatives><graphic id="pbio.3000295.e174g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e174" xlink:type="simple"/><mml:math display="inline" id="M174"><mml:msubsup><mml:mrow><mml:mi mathvariant="bold-italic">f</mml:mi></mml:mrow><mml:mrow><mml:mi mathvariant="bold-italic">P</mml:mi></mml:mrow><mml:mrow><mml:mi>*</mml:mi></mml:mrow></mml:msubsup></mml:math></alternatives></inline-formula> is smaller for M group than for H-M community</title>
<p>For groups or communities with a certain <italic>∫</italic><sub><italic>T</italic></sub> <italic>g</italic><sub><italic>M</italic></sub><italic>dt</italic>, we can calculate <italic>f</italic><sub><italic>P</italic></sub> optimal for community function from <xref ref-type="disp-formula" rid="pbio.3000295.e171">Eq 28</xref> by setting
<disp-formula id="pbio.3000295.e175">
<alternatives>
<graphic id="pbio.3000295.e175g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e175" xlink:type="simple"/>
<mml:math display="block" id="M175">
<mml:mfrac><mml:mrow><mml:mi>d</mml:mi><mml:mi>P</mml:mi><mml:mo>(</mml:mo><mml:mi>T</mml:mi><mml:mo>)</mml:mo></mml:mrow><mml:mrow><mml:mi>d</mml:mi><mml:msub><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>p</mml:mi></mml:mrow></mml:msub></mml:mrow></mml:mfrac><mml:mo>=</mml:mo><mml:mi>M</mml:mi><mml:mo>(</mml:mo><mml:mn>0</mml:mn><mml:mo>)</mml:mo><mml:mfrac><mml:mrow><mml:mi>d</mml:mi></mml:mrow><mml:mrow><mml:mi>d</mml:mi><mml:msub><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>p</mml:mi></mml:mrow></mml:msub></mml:mrow></mml:mfrac><mml:mrow><mml:mo>[</mml:mo><mml:mfrac><mml:mrow><mml:msub><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow></mml:msub></mml:mrow><mml:mrow><mml:mn>1</mml:mn><mml:mo>-</mml:mo><mml:msub><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow></mml:msub></mml:mrow></mml:mfrac><mml:mrow><mml:mrow><mml:mtext>exp</mml:mtext></mml:mrow><mml:mrow><mml:mo>(</mml:mo><mml:mrow><mml:mo>(</mml:mo><mml:mrow><mml:mn>1</mml:mn><mml:mo>-</mml:mo><mml:msub><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow></mml:msub></mml:mrow><mml:mo>)</mml:mo><mml:mrow><mml:msub><mml:mo stretchy="false">∫</mml:mo><mml:mrow><mml:mi>T</mml:mi></mml:mrow></mml:msub><mml:mrow><mml:msub><mml:mrow><mml:mi>g</mml:mi></mml:mrow><mml:mrow><mml:mi>M</mml:mi></mml:mrow></mml:msub><mml:mi>d</mml:mi><mml:mi>t</mml:mi></mml:mrow></mml:mrow></mml:mrow><mml:mo>)</mml:mo></mml:mrow></mml:mrow><mml:mo>]</mml:mo></mml:mrow><mml:mo>=</mml:mo><mml:mn>0</mml:mn><mml:mo>.</mml:mo>
</mml:math>
</alternatives>
</disp-formula></p>
<p>We have
<disp-formula id="pbio.3000295.e176">
<alternatives>
<graphic id="pbio.3000295.e176g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e176" xlink:type="simple"/>
<mml:math display="block" id="M176">
<mml:mfrac><mml:mrow><mml:mn>1</mml:mn></mml:mrow><mml:mrow><mml:mo>(</mml:mo><mml:mn>1</mml:mn><mml:mo>-</mml:mo><mml:msub><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow></mml:msub><mml:msup><mml:mrow><mml:mo>)</mml:mo></mml:mrow><mml:mrow><mml:mn>2</mml:mn></mml:mrow></mml:msup></mml:mrow></mml:mfrac><mml:mrow><mml:mrow><mml:mtext>exp</mml:mtext></mml:mrow><mml:mrow><mml:mo>(</mml:mo><mml:mrow><mml:mo>(</mml:mo><mml:mn>1</mml:mn><mml:mo>-</mml:mo><mml:msub><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow></mml:msub><mml:mo>)</mml:mo><mml:mrow><mml:msub><mml:mo stretchy="false">∫</mml:mo><mml:mrow><mml:mi>T</mml:mi></mml:mrow></mml:msub><mml:mrow><mml:msub><mml:mrow><mml:mi>g</mml:mi></mml:mrow><mml:mrow><mml:mi>M</mml:mi></mml:mrow></mml:msub><mml:mi>d</mml:mi><mml:mi>t</mml:mi></mml:mrow></mml:mrow></mml:mrow><mml:mo>)</mml:mo></mml:mrow></mml:mrow><mml:mo>-</mml:mo><mml:mfrac><mml:mrow><mml:msub><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow></mml:msub></mml:mrow><mml:mrow><mml:mn>1</mml:mn><mml:mo>-</mml:mo><mml:msub><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow></mml:msub></mml:mrow></mml:mfrac><mml:mrow><mml:msub><mml:mo stretchy="false">∫</mml:mo><mml:mrow><mml:mi>T</mml:mi></mml:mrow></mml:msub><mml:mrow><mml:msub><mml:mrow><mml:mi>g</mml:mi></mml:mrow><mml:mrow><mml:mi>M</mml:mi></mml:mrow></mml:msub><mml:mi>d</mml:mi><mml:mi>t</mml:mi></mml:mrow></mml:mrow><mml:mrow><mml:mrow><mml:mtext>exp</mml:mtext></mml:mrow><mml:mrow><mml:mo>(</mml:mo><mml:mrow><mml:mo>(</mml:mo><mml:mn>1</mml:mn><mml:mo>-</mml:mo><mml:msub><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow></mml:msub><mml:mo>)</mml:mo><mml:mrow><mml:msub><mml:mo stretchy="false">∫</mml:mo><mml:mrow><mml:mi>T</mml:mi></mml:mrow></mml:msub><mml:mrow><mml:msub><mml:mrow><mml:mi>g</mml:mi></mml:mrow><mml:mrow><mml:mi>M</mml:mi></mml:mrow></mml:msub><mml:mi>d</mml:mi><mml:mi>t</mml:mi></mml:mrow></mml:mrow></mml:mrow><mml:mo>)</mml:mo></mml:mrow></mml:mrow><mml:mo>=</mml:mo><mml:mn>0</mml:mn>
</mml:math>
</alternatives>
</disp-formula>
or
<disp-formula id="pbio.3000295.e177">
<alternatives>
<graphic id="pbio.3000295.e177g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e177" xlink:type="simple"/>
<mml:math display="block" id="M177">
<mml:mn>1</mml:mn><mml:mo>/</mml:mo><mml:mrow><mml:msub><mml:mo stretchy="false">∫</mml:mo><mml:mrow><mml:mi>T</mml:mi></mml:mrow></mml:msub><mml:mrow><mml:msub><mml:mrow><mml:mi>g</mml:mi></mml:mrow><mml:mrow><mml:mi>M</mml:mi></mml:mrow></mml:msub><mml:mi>d</mml:mi><mml:mi>t</mml:mi></mml:mrow></mml:mrow><mml:mo>=</mml:mo><mml:msub><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow></mml:msub><mml:mo>(</mml:mo><mml:mn>1</mml:mn><mml:mo>-</mml:mo><mml:msub><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow></mml:msub><mml:mo>)</mml:mo><mml:mo>.</mml:mo>
</mml:math>
</alternatives>
</disp-formula></p>
<p>If <italic>∫</italic><sub><italic>T</italic></sub> <italic>g</italic><sub><italic>M</italic></sub><italic>dt</italic> ≫ 1, <italic>f</italic><sub><italic>P</italic></sub> is very small, then the optimal <italic>f</italic><sub><italic>P</italic></sub> for <italic>P</italic>(<italic>T</italic>) is
<disp-formula id="pbio.3000295.e178">
<alternatives>
<graphic id="pbio.3000295.e178g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e178" xlink:type="simple"/>
<mml:math display="block" id="M178">
<mml:msubsup><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow><mml:mrow><mml:mi>*</mml:mi></mml:mrow></mml:msubsup><mml:mo>≈</mml:mo><mml:msup><mml:mrow><mml:mo>(</mml:mo><mml:mrow><mml:mrow><mml:msub><mml:mo stretchy="false">∫</mml:mo><mml:mrow><mml:mi>T</mml:mi></mml:mrow></mml:msub><mml:mrow><mml:msub><mml:mrow><mml:mi>g</mml:mi></mml:mrow><mml:mrow><mml:mi>M</mml:mi></mml:mrow></mml:msub><mml:mi>d</mml:mi><mml:mi>t</mml:mi></mml:mrow></mml:mrow></mml:mrow><mml:mo>)</mml:mo></mml:mrow><mml:mrow><mml:mo>-</mml:mo><mml:mn>1</mml:mn></mml:mrow></mml:msup><mml:mo>.</mml:mo>
</mml:math>
</alternatives>
<label>(29)</label>
</disp-formula></p>
<p><italic>∫</italic><sub><italic>T</italic></sub> <italic>g</italic><sub><italic>M</italic></sub><italic>dt</italic> is larger in monoculture than in community because M grows faster in monoculture than in community. This is because B is supplied in excess in monoculture, whereas in community, H-supplied Byproduct is initially limiting. Thus, according to <xref ref-type="disp-formula" rid="pbio.3000295.e178">Eq 29</xref>, <inline-formula id="pbio.3000295.e179"><alternatives><graphic id="pbio.3000295.e179g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e179" xlink:type="simple"/><mml:math display="inline" id="M179"><mml:msubsup><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow><mml:mrow><mml:mi>*</mml:mi></mml:mrow></mml:msubsup><mml:mo>≈</mml:mo><mml:mn>1</mml:mn><mml:mo>/</mml:mo><mml:mrow><mml:msub><mml:mo stretchy="false">∫</mml:mo><mml:mrow><mml:mi>T</mml:mi></mml:mrow></mml:msub><mml:mrow><mml:msub><mml:mrow><mml:mi>g</mml:mi></mml:mrow><mml:mrow><mml:mi>M</mml:mi></mml:mrow></mml:msub><mml:mi>d</mml:mi><mml:mi>t</mml:mi></mml:mrow></mml:mrow></mml:math></alternatives></inline-formula> is smaller for monoculture than for community.</p>
</sec>
<sec id="sec029">
<title>9. Stochastic fluctuations during community reproduction</title>
<p>The total number of cells in a Newborn community is approximately <inline-formula id="pbio.3000295.e180"><alternatives><graphic id="pbio.3000295.e180g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e180" xlink:type="simple"/><mml:math display="inline" id="M180"><mml:mi>B</mml:mi><mml:mi>M</mml:mi><mml:mo>(</mml:mo><mml:mn>0</mml:mn><mml:mo>)</mml:mo><mml:mo>/</mml:mo><mml:mover accent="false"><mml:mrow><mml:mi>L</mml:mi></mml:mrow><mml:mo>¯</mml:mo></mml:mover></mml:math></alternatives></inline-formula>, where <inline-formula id="pbio.3000295.e181"><alternatives><graphic id="pbio.3000295.e181g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e181" xlink:type="simple"/><mml:math display="inline" id="M181"><mml:mover accent="false"><mml:mrow><mml:mi>L</mml:mi></mml:mrow><mml:mo>¯</mml:mo></mml:mover></mml:math></alternatives></inline-formula> is the average biomass (or length) of M and H cells. This number fluctuates in a Poissonian fashion with a standard deviation of <inline-formula id="pbio.3000295.e182"><alternatives><graphic id="pbio.3000295.e182g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e182" xlink:type="simple"/><mml:math display="inline" id="M182"><mml:msqrt><mml:mi>B</mml:mi><mml:msub><mml:mrow><mml:mi>M</mml:mi></mml:mrow><mml:mrow><mml:mi>t</mml:mi><mml:mi>a</mml:mi><mml:mi>r</mml:mi><mml:mi>g</mml:mi><mml:mi>e</mml:mi><mml:mi>t</mml:mi></mml:mrow></mml:msub><mml:mo>/</mml:mo><mml:mover accent="false"><mml:mrow><mml:mi>L</mml:mi></mml:mrow><mml:mo>¯</mml:mo></mml:mover></mml:msqrt></mml:math></alternatives></inline-formula>. As a result, the biomass of a Newborn communities fluctuates around <italic>BM</italic><sub><italic>target</italic></sub> with a standard deviation of <inline-formula id="pbio.3000295.e183"><alternatives><graphic id="pbio.3000295.e183g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e183" xlink:type="simple"/><mml:math display="inline" id="M183"><mml:msqrt><mml:mi>B</mml:mi><mml:msub><mml:mrow><mml:mi>M</mml:mi></mml:mrow><mml:mrow><mml:mi>t</mml:mi><mml:mi>a</mml:mi><mml:mi>r</mml:mi><mml:mi>g</mml:mi><mml:mi>e</mml:mi><mml:mi>t</mml:mi></mml:mrow></mml:msub><mml:mo>/</mml:mo><mml:mover accent="false"><mml:mrow><mml:mi>L</mml:mi></mml:mrow><mml:mo>¯</mml:mo></mml:mover></mml:msqrt><mml:mo>×</mml:mo><mml:mover accent="false"><mml:mrow><mml:mi>L</mml:mi></mml:mrow><mml:mo>¯</mml:mo></mml:mover><mml:mo>=</mml:mo><mml:msqrt><mml:mi>B</mml:mi><mml:msub><mml:mrow><mml:mi>M</mml:mi></mml:mrow><mml:mrow><mml:mi>t</mml:mi><mml:mi>a</mml:mi><mml:mi>r</mml:mi><mml:mi>g</mml:mi><mml:mi>e</mml:mi><mml:mi>t</mml:mi></mml:mrow></mml:msub><mml:mover accent="false"><mml:mrow><mml:mi>L</mml:mi></mml:mrow><mml:mo>¯</mml:mo></mml:mover></mml:msqrt></mml:math></alternatives></inline-formula>.</p>
<p>Similarly, <italic>M</italic>(0) and <italic>H</italic>(0) fluctuate independently with a standard deviation of <inline-formula id="pbio.3000295.e184"><alternatives><graphic id="pbio.3000295.e184g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e184" xlink:type="simple"/><mml:math display="inline" id="M184"><mml:msqrt><mml:mi mathvariant="normal">E</mml:mi><mml:mo>[</mml:mo><mml:mi>M</mml:mi><mml:mo>(</mml:mo><mml:mn>0</mml:mn><mml:mo>)</mml:mo><mml:mo>]</mml:mo><mml:mover accent="false"><mml:mrow><mml:mi>L</mml:mi></mml:mrow><mml:mo>¯</mml:mo></mml:mover></mml:msqrt><mml:mo>=</mml:mo><mml:msqrt><mml:mi>B</mml:mi><mml:msub><mml:mrow><mml:mi>M</mml:mi></mml:mrow><mml:mrow><mml:mi>t</mml:mi><mml:mi>a</mml:mi><mml:mi>r</mml:mi><mml:mi>g</mml:mi><mml:mi>e</mml:mi><mml:mi>t</mml:mi></mml:mrow></mml:msub><mml:msub><mml:mrow><mml:mi>ϕ</mml:mi></mml:mrow><mml:mrow><mml:mi>M</mml:mi></mml:mrow></mml:msub><mml:mo>(</mml:mo><mml:mi>T</mml:mi><mml:mo>)</mml:mo><mml:mover accent="false"><mml:mrow><mml:mi>L</mml:mi></mml:mrow><mml:mo>¯</mml:mo></mml:mover></mml:msqrt></mml:math></alternatives></inline-formula> and <inline-formula id="pbio.3000295.e185"><alternatives><graphic id="pbio.3000295.e185g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e185" xlink:type="simple"/><mml:math display="inline" id="M185"><mml:msqrt><mml:mi mathvariant="normal">E</mml:mi><mml:mo>[</mml:mo><mml:mi>H</mml:mi><mml:mo>(</mml:mo><mml:mn>0</mml:mn><mml:mo>)</mml:mo><mml:mo>]</mml:mo><mml:mover accent="false"><mml:mrow><mml:mi>L</mml:mi></mml:mrow><mml:mo>¯</mml:mo></mml:mover></mml:msqrt><mml:mo>=</mml:mo><mml:msqrt><mml:mi>B</mml:mi><mml:msub><mml:mrow><mml:mi>M</mml:mi></mml:mrow><mml:mrow><mml:mi>t</mml:mi><mml:mi>a</mml:mi><mml:mi>r</mml:mi><mml:mi>g</mml:mi><mml:mi>e</mml:mi><mml:mi>t</mml:mi></mml:mrow></mml:msub><mml:mo>(</mml:mo><mml:mn>1</mml:mn><mml:mo>-</mml:mo><mml:msub><mml:mrow><mml:mi>ϕ</mml:mi></mml:mrow><mml:mrow><mml:mi>M</mml:mi></mml:mrow></mml:msub><mml:mo>(</mml:mo><mml:mi>T</mml:mi><mml:mo>)</mml:mo><mml:mo>)</mml:mo><mml:mover accent="false"><mml:mrow><mml:mi>L</mml:mi></mml:mrow><mml:mo>¯</mml:mo></mml:mover></mml:msqrt></mml:math></alternatives></inline-formula>, respectively, where “E” means the expected value and <italic>ϕ</italic><sub><italic>M</italic></sub>(<italic>T</italic>) is the fraction of M biomass in the parent Adult community. Therefore, <italic>M</italic>(0)/<italic>H</italic>(0) fluctuates with a variance of
<disp-formula id="pbio.3000295.e186">
<alternatives>
<graphic id="pbio.3000295.e186g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e186" xlink:type="simple"/>
<mml:math display="block" id="M186">
<mml:mtext>Var</mml:mtext><mml:mo>[</mml:mo><mml:mi>M</mml:mi><mml:mo>(</mml:mo><mml:mn>0</mml:mn><mml:mo>)</mml:mo><mml:mo>/</mml:mo><mml:mi>H</mml:mi><mml:mo>(</mml:mo><mml:mn>0</mml:mn><mml:mo>)</mml:mo><mml:mo>]</mml:mo><mml:mo>=</mml:mo><mml:msup><mml:mrow><mml:mo>(</mml:mo><mml:mrow><mml:mfrac><mml:mrow><mml:mi mathvariant="normal">E</mml:mi><mml:mo>[</mml:mo><mml:mi>M</mml:mi><mml:mo>(</mml:mo><mml:mn>0</mml:mn><mml:mo>)</mml:mo><mml:mo>]</mml:mo></mml:mrow><mml:mrow><mml:mi mathvariant="normal">E</mml:mi><mml:mo>[</mml:mo><mml:mi>H</mml:mi><mml:mo>(</mml:mo><mml:mn>0</mml:mn><mml:mo>)</mml:mo><mml:mo>]</mml:mo></mml:mrow></mml:mfrac></mml:mrow><mml:mo>)</mml:mo></mml:mrow><mml:mrow><mml:mn>2</mml:mn></mml:mrow></mml:msup><mml:mrow><mml:mo>[</mml:mo><mml:mfrac><mml:mrow><mml:mtext>Var</mml:mtext><mml:mo>[</mml:mo><mml:mi>M</mml:mi><mml:mo>(</mml:mo><mml:mn>0</mml:mn><mml:mo>)</mml:mo><mml:mo>]</mml:mo></mml:mrow><mml:mrow><mml:mo>(</mml:mo><mml:mi mathvariant="normal">E</mml:mi><mml:mo>[</mml:mo><mml:mi>M</mml:mi><mml:mo>(</mml:mo><mml:mn>0</mml:mn><mml:mo>)</mml:mo><mml:mo>]</mml:mo><mml:msup><mml:mrow><mml:mo>)</mml:mo></mml:mrow><mml:mrow><mml:mn>2</mml:mn></mml:mrow></mml:msup></mml:mrow></mml:mfrac><mml:mo>-</mml:mo><mml:mn>2</mml:mn><mml:mfrac><mml:mrow><mml:mtext>Cov</mml:mtext><mml:mo>[</mml:mo><mml:mi>M</mml:mi><mml:mo>(</mml:mo><mml:mn>0</mml:mn><mml:mo>)</mml:mo><mml:mo>,</mml:mo><mml:mi mathvariant="normal">​</mml:mi><mml:mi>H</mml:mi><mml:mo>(</mml:mo><mml:mn>0</mml:mn><mml:mo>)</mml:mo><mml:mo>]</mml:mo></mml:mrow><mml:mrow><mml:mi mathvariant="normal">E</mml:mi><mml:mo>[</mml:mo><mml:mi>M</mml:mi><mml:mo>(</mml:mo><mml:mn>0</mml:mn><mml:mo>)</mml:mo><mml:mo>]</mml:mo><mml:mi mathvariant="normal">E</mml:mi><mml:mo>[</mml:mo><mml:mi>H</mml:mi><mml:mo>(</mml:mo><mml:mn>0</mml:mn><mml:mo>)</mml:mo><mml:mo>]</mml:mo></mml:mrow></mml:mfrac><mml:mo>+</mml:mo><mml:mfrac><mml:mrow><mml:mtext>Var</mml:mtext><mml:mo>[</mml:mo><mml:mi>H</mml:mi><mml:mo>(</mml:mo><mml:mn>0</mml:mn><mml:mo>)</mml:mo><mml:mo>]</mml:mo></mml:mrow><mml:mrow><mml:mo>(</mml:mo><mml:mi mathvariant="normal">E</mml:mi><mml:mo>[</mml:mo><mml:mi>H</mml:mi><mml:mo>(</mml:mo><mml:mn>0</mml:mn><mml:mo>)</mml:mo><mml:mo>]</mml:mo><mml:msup><mml:mrow><mml:mo>)</mml:mo></mml:mrow><mml:mrow><mml:mn>2</mml:mn></mml:mrow></mml:msup></mml:mrow></mml:mfrac><mml:mo>]</mml:mo></mml:mrow></mml:math>
</alternatives>
</disp-formula>
<disp-formula id="pbio.3000295.e187">
<alternatives>
<graphic id="pbio.3000295.e187g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e187" xlink:type="simple"/>
<mml:math display="block" id="M187">
<mml:mo>=</mml:mo><mml:mfrac><mml:mrow><mml:msub><mml:mrow><mml:mi>ϕ</mml:mi></mml:mrow><mml:mrow><mml:mi>M</mml:mi></mml:mrow></mml:msub><mml:mo>(</mml:mo><mml:mi>T</mml:mi><mml:mo>)</mml:mo></mml:mrow><mml:mrow><mml:mo>(</mml:mo><mml:mn>1</mml:mn><mml:mo>-</mml:mo><mml:msub><mml:mrow><mml:mi>ϕ</mml:mi></mml:mrow><mml:mrow><mml:mi>M</mml:mi></mml:mrow></mml:msub><mml:mo>(</mml:mo><mml:mi>T</mml:mi><mml:mo>)</mml:mo><mml:msup><mml:mrow><mml:mo>)</mml:mo></mml:mrow><mml:mrow><mml:mn>3</mml:mn></mml:mrow></mml:msup></mml:mrow></mml:mfrac><mml:mfrac><mml:mrow><mml:mover accent="false"><mml:mrow><mml:mi>L</mml:mi></mml:mrow><mml:mo>¯</mml:mo></mml:mover></mml:mrow><mml:mrow><mml:mi>B</mml:mi><mml:msub><mml:mrow><mml:mi>M</mml:mi></mml:mrow><mml:mrow><mml:mi>t</mml:mi><mml:mi>a</mml:mi><mml:mi>r</mml:mi><mml:mi>g</mml:mi><mml:mi>e</mml:mi><mml:mi>t</mml:mi></mml:mrow></mml:msub></mml:mrow></mml:mfrac>
</mml:math>
</alternatives>
</disp-formula>
where "Cov" means covariance (equal to zero) and "Var" means variance.</p>
</sec>
<sec id="sec030">
<title>10. Mutualistic H-M community</title>
<p>In the mutualistic H-M community, Byproduct inhibits the growth of H. According to Luli and colleagues [<xref ref-type="bibr" rid="pbio.3000295.ref110">110</xref>], the growth rate of <italic>E</italic>. <italic>coli</italic> decreases exponentially as the exogenously added acetate concentration increases. Thus, we only need to modify the growth of H by a factor of exp(−<italic>B</italic>/<italic>B</italic><sub>0</sub>) where <italic>B</italic> is the concentration of Byproduct and <italic>B</italic><sub>0</sub> is the concentration of Byproduct at which H’s growth rate is reduced by <italic>e</italic><sup>−1</sup>~0.37:
<disp-formula id="pbio.3000295.e188">
<alternatives>
<graphic id="pbio.3000295.e188g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e188" xlink:type="simple"/>
<mml:math display="block" id="M188">
<mml:mfrac><mml:mrow><mml:mi>d</mml:mi><mml:mi>H</mml:mi></mml:mrow><mml:mrow><mml:mi>d</mml:mi><mml:mi>t</mml:mi></mml:mrow></mml:mfrac><mml:mo>=</mml:mo><mml:mrow><mml:mrow><mml:mtext>exp</mml:mtext></mml:mrow><mml:mrow><mml:mo>(</mml:mo><mml:mrow><mml:mo>-</mml:mo><mml:mfrac><mml:mrow><mml:mi>B</mml:mi></mml:mrow><mml:mrow><mml:msub><mml:mrow><mml:mi>B</mml:mi></mml:mrow><mml:mrow><mml:mn>0</mml:mn></mml:mrow></mml:msub></mml:mrow></mml:mfrac></mml:mrow><mml:mo>)</mml:mo></mml:mrow></mml:mrow><mml:mfrac><mml:mrow><mml:msub><mml:mrow><mml:mi>g</mml:mi></mml:mrow><mml:mrow><mml:mi>H</mml:mi><mml:mi>m</mml:mi><mml:mi>a</mml:mi><mml:mi>x</mml:mi></mml:mrow></mml:msub><mml:mi>R</mml:mi></mml:mrow><mml:mrow><mml:mi>R</mml:mi><mml:mo>+</mml:mo><mml:msub><mml:mrow><mml:mi>K</mml:mi></mml:mrow><mml:mrow><mml:mi>H</mml:mi><mml:mi>R</mml:mi></mml:mrow></mml:msub></mml:mrow></mml:mfrac><mml:mi>H</mml:mi><mml:mo>-</mml:mo><mml:msub><mml:mrow><mml:mi>δ</mml:mi></mml:mrow><mml:mrow><mml:mi>H</mml:mi></mml:mrow></mml:msub><mml:mi>H</mml:mi><mml:mo>.</mml:mo>
</mml:math>
</alternatives>
</disp-formula></p>
<p>The larger <italic>B</italic><sub>0</sub>, the less inhibitory effect Byproduct has on H, and when <italic>B</italic><sub>0</sub> → +∞, Byproduct does not inhibit the growth of H. For simulations in <xref ref-type="supplementary-material" rid="pbio.3000295.s022">S22 Fig</xref>, we set <italic>B</italic><sub>0</sub> = 2<italic>K</italic><sub><italic>MB</italic></sub>.</p>
</sec>
</sec>
<sec id="sec031">
<title>Supporting information</title>
<supplementary-material id="pbio.3000295.s001" mimetype="image/tiff" position="float" xlink:href="info:doi/10.1371/journal.pbio.3000295.s001" xlink:type="simple">
<label>S1 Fig</label>
<caption>
<title>Artificial selection is more challenging for multispecies communities than for individuals or monospecies groups.</title>
<p>Artificial selection can be applied to any population of entities [<xref ref-type="bibr" rid="pbio.3000295.ref111">111</xref>]. An entity can be an individual (A), a monospecies group (B), or a multispecies community (C). Unlike natural selection, which selects for fastest-growing cells, artificial selection generally selects for traits that are costly to individuals. In each selection cycle, a population of "Newborn" entities grow for maturation time <italic>T</italic> to become "Adults." Adults expressing a higher level of the trait of interest (darker shade) are chosen by the experimentalist to reproduce. An individual reproduces by making copies of itself, while an Adult group or community can reproduce by randomly splitting into multiple Newborns of the next selection cycle. Successful artificial selection requires that (i) entities display trait variations; (ii) trait variations can be selected to result in differential entity survival and reproduction; and (iii) entity trait is sufficiently heritable from one selection cycle to the next [<xref ref-type="bibr" rid="pbio.3000295.ref112">112</xref>]. In all 3 types of selection, entity variations can be introduced by mutations and recombinations in individuals. However, heredity can be low in community selection. (A) Artificial selection of individuals has been successful [<xref ref-type="bibr" rid="pbio.3000295.ref021">21</xref>, <xref ref-type="bibr" rid="pbio.3000295.ref022">22</xref>, <xref ref-type="bibr" rid="pbio.3000295.ref023">23</xref>, <xref ref-type="bibr" rid="pbio.3000295.ref113">113</xref>, <xref ref-type="bibr" rid="pbio.3000295.ref114">114</xref>], since a trait is largely heritable so long as mutation and recombination are sufficiently rare. (B, C) In group selection and community selection, if maturation time <italic>T</italic> is small so that newly arising genotypes cannot rise to high frequencies within a selection cycle, then Adult trait is mostly determined by Newborn composition (the biomass of each genotype in each member species). In this case, variation can be defined as the dissimilarity in Newborn compositions within a selection cycle, while heredity can be defined as the similarity of compositions between Newborns connected through lineage across consecutive selection cycles (tubes with same-colored outlines in <xref ref-type="fig" rid="pbio.3000295.g004">Fig 4A</xref>). (B) Artificial selection of monospecies groups has been successful [<xref ref-type="bibr" rid="pbio.3000295.ref018">18</xref>, <xref ref-type="bibr" rid="pbio.3000295.ref046">46</xref>, <xref ref-type="bibr" rid="pbio.3000295.ref048">48</xref>]. Suppose cooperators but not cheaters pay a fitness cost to generate a product (shade). Artificial selection for groups producing high total product favors cooperator-dominated groups, although within a group, cheaters grow faster than cooperators. If a Newborn group has a large number of cells (top), all Newborns will harbor similar fractions of cheaters, and thus intergroup variation will be small [<xref ref-type="bibr" rid="pbio.3000295.ref071">71</xref>]. During maturation, cheater frequency will increase, thereby diminishing heredity. Low variation and low heredity interfere with group selection. In contrast, when Newborn groups are initiated at a small size such as one individual (bottom), a Newborn group will comprise either a cooperator or a cheater, thereby ensuring variation. Furthermore, even if cheaters were to arise during maturation of the group, a fraction of Newborns of the next cycle will by chance inherit a cooperator, thereby ensuring some level of heredity. Thus, group selection can work when Newborn size is small. (C) Artificial selection of multispecies communities may be hindered by insufficient heredity. During maturation, the relative abundance of genotypes and species can rapidly change due to ecological interactions and evolution, which compromises heredity. During community reproduction, stochastic fluctuations in Newborn composition further reduce heredity.</p>
<p>(TIFF)</p>
</caption>
</supplementary-material>
<supplementary-material id="pbio.3000295.s002" mimetype="image/tiff" position="float" xlink:href="info:doi/10.1371/journal.pbio.3000295.s002" xlink:type="simple">
<label>S2 Fig</label>
<caption>
<title>Problems of defining community function as <italic>P</italic>(<italic>T</italic>)/<italic>M</italic>(<italic>T</italic>).</title>
<p>When community function was defined by <italic>P</italic>(<italic>T</italic>)/<italic>M</italic>(<italic>T</italic>), average <italic>f</italic><sub><italic>P</italic></sub> of the chosen communities rapidly increased to such a high level that M was outcompeted by H, as demonstrated by <xref ref-type="fig" rid="pbio.3000295.g002">Fig 2A</xref> bottom panel. Consequently, selection abruptly came to a stop. Black, cyan, and gray curves are independent simulation trials. <inline-formula id="pbio.3000295.e189"><alternatives><graphic id="pbio.3000295.e189g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e189" xlink:type="simple"/><mml:math display="inline" id="M189"><mml:mover accent="false"><mml:mrow><mml:mi>P</mml:mi></mml:mrow><mml:mo>¯</mml:mo></mml:mover><mml:mo>(</mml:mo><mml:mi>T</mml:mi><mml:mo>)</mml:mo></mml:math></alternatives></inline-formula> was averaged across chosen Adults. <inline-formula id="pbio.3000295.e190"><alternatives><graphic id="pbio.3000295.e190g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e190" xlink:type="simple"/><mml:math display="inline" id="M190"><mml:msub><mml:mrow><mml:mover accent="false"><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mo>¯</mml:mo></mml:mover></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow></mml:msub><mml:mo>(</mml:mo><mml:mi>T</mml:mi><mml:mo>)</mml:mo></mml:math></alternatives></inline-formula> was obtained by first averaging among M within each chosen Adult, and then averaging across all chosen Adults. The simulation codes can be found in <xref ref-type="supplementary-material" rid="pbio.3000295.s035">S5 Code</xref>, and the data can be found in <xref ref-type="supplementary-material" rid="pbio.3000295.s061">S4 Data</xref>.</p>
<p>(TIF)</p>
</caption>
</supplementary-material>
<supplementary-material id="pbio.3000295.s003" mimetype="image/tiff" position="float" xlink:href="info:doi/10.1371/journal.pbio.3000295.s003" xlink:type="simple">
<label>S3 Fig</label>
<caption>
<title>Growth models of H and M.</title>
<p>(A) <italic>H</italic> growth follows Monod kinetics, reaching half maximal growth rate when <italic>R</italic> = <italic>K</italic><sub><italic>HR</italic></sub>. (B) <italic>M</italic> growth follows dual-substrate Mankad-Bungay kinetics. When Resource <italic>R</italic> is in great excess (<italic>R</italic><sub><italic>M</italic></sub> ≫ <italic>B</italic><sub><italic>M</italic></sub>) or Byproduct <italic>B</italic> is in great excess (<italic>B</italic><sub><italic>M</italic></sub> ≫ <italic>R</italic><sub><italic>M</italic></sub>), we recover monosubstrate Monod kinetics (panel A). Here, for simplicity, symbols represent absolute quantities.</p>
<p>(TIF)</p>
</caption>
</supplementary-material>
<supplementary-material id="pbio.3000295.s004" mimetype="image/tiff" position="float" xlink:href="info:doi/10.1371/journal.pbio.3000295.s004" xlink:type="simple">
<label>S4 Fig</label>
<caption>
<title>A comparison of dual-substrate models.</title>
<p>Suppose that cell growth rate depends on each substrate S<sub>1</sub> and S<sub>2</sub> in a Monod-like, saturable fashion. When S<sub>2</sub> is in excess, the <italic>S</italic><sub>1</sub> at which half maximal growth rate is achieved is <italic>K</italic><sub>1</sub>. When S<sub>1</sub> is in excess, the <italic>S</italic><sub>2</sub> at which half maximal growth rate is achieved is <italic>K</italic><sub>2</sub>. (A) In the "Double Monod" model, growth rate depends on the 2 limiting substrates in a multiplicative fashion. (B) In the model proposed by Mankad and Bungay, growth rate takes a different form. In both models, when one substrate is in excess, growth rate depends on the other substrate in a Monod-like fashion. However, when <inline-formula id="pbio.3000295.e191"><alternatives><graphic id="pbio.3000295.e191g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e191" xlink:type="simple"/><mml:math display="inline" id="M191"><mml:mfrac><mml:mrow><mml:msub><mml:mrow><mml:mi>S</mml:mi></mml:mrow><mml:mrow><mml:mn>1</mml:mn></mml:mrow></mml:msub></mml:mrow><mml:mrow><mml:msub><mml:mrow><mml:mi>K</mml:mi></mml:mrow><mml:mrow><mml:mn>1</mml:mn></mml:mrow></mml:msub></mml:mrow></mml:mfrac><mml:mo>=</mml:mo><mml:mfrac><mml:mrow><mml:msub><mml:mrow><mml:mi>S</mml:mi></mml:mrow><mml:mrow><mml:mn>2</mml:mn></mml:mrow></mml:msub></mml:mrow><mml:mrow><mml:msub><mml:mrow><mml:mi>K</mml:mi></mml:mrow><mml:mrow><mml:mn>2</mml:mn></mml:mrow></mml:msub></mml:mrow></mml:mfrac><mml:mo>=</mml:mo><mml:mn>1</mml:mn></mml:math></alternatives></inline-formula>, the growth rate is predicted to be <italic>g</italic><sub><italic>max</italic></sub>/2 by the Mankad and Bunday model, and <italic>g</italic><sub><italic>max</italic></sub>/4 by the Double Monod model. The Mankad and Bungay model outperforms the Double Monod model in describing experimental data of <italic>S</italic>. <italic>cerevisiae</italic> and <italic>E</italic>. <italic>coli</italic> growing on low glucose and low nitrogen. The figures are plotted using data from reference [<xref ref-type="bibr" rid="pbio.3000295.ref030">30</xref>].</p>
<p>(TIF)</p>
</caption>
</supplementary-material>
<supplementary-material id="pbio.3000295.s005" mimetype="image/tiff" position="float" xlink:href="info:doi/10.1371/journal.pbio.3000295.s005" xlink:type="simple">
<label>S5 Fig</label>
<caption>
<title>A comparison of different simulations of exponential cell growth in excess metabolites.</title>
<p>Thick black line: analytical solution with biomass growth rate (0.7/time unit). Gray dashed line: simulation assuming that biomass increases exponentially at 0.7/time unit and that cell division occurs upon reaching a biomass threshold, an assumption used in our model. Colored dotted lines: simulations assuming that cell birth is discrete and occurs at a probability equal to the birth rate multiplied with the length of simulation time step (Δ<italic>τ</italic> = 0.05 time unit). When a cell birth occurs, biomass increases discretely by 1, resulting in step-wise increase in colored dotted lines at early time. The Matlab codes can be found in <xref ref-type="supplementary-material" rid="pbio.3000295.s036">S6 Code</xref>.</p>
<p>(TIF)</p>
</caption>
</supplementary-material>
<supplementary-material id="pbio.3000295.s006" mimetype="image/tiff" position="float" xlink:href="info:doi/10.1371/journal.pbio.3000295.s006" xlink:type="simple">
<label>S6 Fig</label>
<caption>
<title>PDFs of changes in relative fitness due to mutations (<italic>μ</italic><sub><italic>Δs</italic></sub>(<italic>Δs</italic>)).</title>
<p>We derived <bold><italic>μ</italic></bold><sub><bold><italic>Δs</italic></bold></sub>(<bold><italic>Δs</italic></bold>) from the Dunham lab data [<xref ref-type="bibr" rid="pbio.3000295.ref039">39</xref>] where bar-coded mutant strains were competed under sulfate limitation (red), carbon limitation (blue), or phosphate limitation (black). Error bars represent uncertainty <italic>δμ</italic><sub><italic>Δs</italic></sub> (the lower error bar is omitted if the lower estimate is negative). In the leftmost panel, green lines show nonlinear least squared fitting of data to <xref ref-type="disp-formula" rid="pbio.3000295.e147">Eq 19</xref> using all 3 sets of data. Note that data with larger uncertainty are given less weight and thus deviate more from the fitting. For an exponentially distributed PDF <italic>p</italic>(<italic>x</italic>) = exp(−<italic>x</italic>/<italic>r</italic>)/<italic>r</italic> where <italic>x</italic>, <italic>r</italic> &gt; 0, and the average of <italic>x</italic> is <italic>r</italic>. When plotted on a semi-log scale, we get a straight line with slope −1/<italic>r</italic>, which gets us the average effect <italic>r</italic>. From the green line on the right side, we obtain the average effect of enhancing mutations <italic>s</italic><sub>+</sub> = 0.050 ± 0.002, and from the green line on the left side, we obtain the average effect of diminishing mutations <italic>s</italic><sub>−</sub> = 0.067 ± 0.003. The probability of a mutation altering a phenotype by ±<italic>α</italic> is the area of the hatched region drawn in the leftmost panel. The Matlab codes can be found in <xref ref-type="supplementary-material" rid="pbio.3000295.s037">S7 Code</xref>. PDF, probability density function.</p>
<p>(TIF)</p>
</caption>
</supplementary-material>
<supplementary-material id="pbio.3000295.s007" mimetype="image/tiff" position="float" xlink:href="info:doi/10.1371/journal.pbio.3000295.s007" xlink:type="simple">
<label>S7 Fig</label>
<caption>
<title>Large Newborn group size or long maturation time allows noncontributors to accumulate in all groups, thereby reducing intergroup variation.</title>
<p>For simplicity, we modeled the growth of Newborn groups of M cells. Both wild-type and mutant cells followed exponential growth. The growth rate of wild-type cells was 0.87 times that of mutants. From a Newborn biomass <italic>BM</italic>(0) of 10<sup>2</sup> (top panels) or 10<sup>4</sup> (bottom panels) wild-type M cells, M population multiplied for 6 (left panels) or 100 (right panels) generations. Immediately following cell division, wild-type daughter cells mutated to noncontributors with a probability of 10<sup>−3</sup>. The fraction of biomass made up by mutants at each wild-type doubling is shown. The simulation codes can be found in <xref ref-type="supplementary-material" rid="pbio.3000295.s038">S8 Code</xref>.</p>
<p>(TIF)</p>
</caption>
</supplementary-material>
<supplementary-material id="pbio.3000295.s008" mimetype="image/tiff" position="float" xlink:href="info:doi/10.1371/journal.pbio.3000295.s008" xlink:type="simple">
<label>S8 Fig</label>
<caption>
<title>Improved individual growth can promote community function.</title>
<p>Here, we allowed mutations to alter M’s <italic>f</italic><sub><italic>P</italic></sub> and H and M’s growth parameters. Communities are chosen using the top-dog strategy. (A–C) Community reproduction via pipetting (i.e., Newborn biomass and species composition can fluctuate). Community function <italic>P</italic>(<italic>T</italic>) increased upon community selection (A). Since <italic>f</italic><sub><italic>P</italic></sub> remained unchanged (panel B), this increase in <italic>P</italic>(<italic>T</italic>) must be due to improved growth parameters (panel C). (D–F) Community reproduction via biomass sorting (i.e., fixed Newborn total biomass and species composition). Community function improved to a much higher level (panel D). In both strategies, the 5 growth parameters increased to their respective evolutionary upper bounds (green dashed lines). Magenta dashed lines: optimal <italic>f</italic><sub><italic>P</italic></sub> for community function and maximal community function <italic>P</italic>(<italic>T</italic>) when all 5 growth parameters are fixed at their evolutionary upper bounds and <italic>ϕ</italic><sub><italic>M</italic></sub>(0) is also optimal for <italic>P</italic>(<italic>T</italic>). Black, cyan, and gray curves show independent simulations. <inline-formula id="pbio.3000295.e192"><alternatives><graphic id="pbio.3000295.e192g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e192" xlink:type="simple"/><mml:math display="inline" id="M192"><mml:mover accent="false"><mml:mrow><mml:mi>P</mml:mi></mml:mrow><mml:mo>¯</mml:mo></mml:mover><mml:mo>(</mml:mo><mml:mi>T</mml:mi><mml:mo>)</mml:mo></mml:math></alternatives></inline-formula> is averaged across chosen Adults. <inline-formula id="pbio.3000295.e193"><alternatives><graphic id="pbio.3000295.e193g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e193" xlink:type="simple"/><mml:math display="inline" id="M193"><mml:msub><mml:mrow><mml:mover accent="true"><mml:mrow><mml:mi>g</mml:mi></mml:mrow><mml:mo>¯</mml:mo></mml:mover></mml:mrow><mml:mrow><mml:mi>M</mml:mi><mml:mi>m</mml:mi><mml:mi>a</mml:mi><mml:mi>x</mml:mi></mml:mrow></mml:msub><mml:mo>,</mml:mo><mml:msub><mml:mrow><mml:mover accent="true"><mml:mrow><mml:mi>g</mml:mi></mml:mrow><mml:mo>¯</mml:mo></mml:mover></mml:mrow><mml:mrow><mml:mi>H</mml:mi><mml:mi>m</mml:mi><mml:mi>a</mml:mi><mml:mi>x</mml:mi></mml:mrow></mml:msub></mml:math></alternatives></inline-formula>, and <inline-formula id="pbio.3000295.e194"><alternatives><graphic id="pbio.3000295.e194g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e194" xlink:type="simple"/><mml:math display="inline" id="M194"><mml:msub><mml:mrow><mml:mover accent="false"><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mo>¯</mml:mo></mml:mover></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow></mml:msub></mml:math></alternatives></inline-formula> are obtained by averaging within each chosen Adult and then averaging across chosen Adults. <italic>K</italic><sub><italic>SpeciesMetabolite</italic></sub> are averaged within each chosen Adult, then averaged across chosen Adults, and finally inverted to represent average affinity. Note different horizontal axis scales. The maximal growth rates (<italic>g</italic><sub><italic>Mmax</italic></sub> and <italic>g</italic><sub><italic>Hmax</italic></sub>) have the unit of 1/time. Affinity for Resource (1/<italic>K</italic><sub><italic>MR</italic></sub>, 1/<italic>K</italic><sub><italic>HR</italic></sub>) has the unit of <inline-formula id="pbio.3000295.e195"><alternatives><graphic id="pbio.3000295.e195g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e195" xlink:type="simple"/><mml:math display="inline" id="M195"><mml:mn>1</mml:mn><mml:mo>/</mml:mo><mml:mover accent="true"><mml:mrow><mml:mi>R</mml:mi></mml:mrow><mml:mo>~</mml:mo></mml:mover><mml:mo>(</mml:mo><mml:mn>0</mml:mn><mml:mo>)</mml:mo></mml:math></alternatives></inline-formula>, where <inline-formula id="pbio.3000295.e196"><alternatives><graphic id="pbio.3000295.e196g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e196" xlink:type="simple"/><mml:math display="inline" id="M196"><mml:mover accent="true"><mml:mrow><mml:mi>R</mml:mi></mml:mrow><mml:mo>~</mml:mo></mml:mover><mml:mo>(</mml:mo><mml:mn>0</mml:mn><mml:mo>)</mml:mo></mml:math></alternatives></inline-formula> is the initial amount of Resource in Newborn. Affinity for Byproduct (1/<italic>K</italic><sub><italic>MB</italic></sub>) has the unit of <inline-formula id="pbio.3000295.e197"><alternatives><graphic id="pbio.3000295.e197g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e197" xlink:type="simple"/><mml:math display="inline" id="M197"><mml:mn>1</mml:mn><mml:mo>/</mml:mo><mml:msub><mml:mrow><mml:mover accent="true"><mml:mrow><mml:mi>r</mml:mi></mml:mrow><mml:mo>~</mml:mo></mml:mover></mml:mrow><mml:mrow><mml:mi>B</mml:mi></mml:mrow></mml:msub></mml:math></alternatives></inline-formula>, where <inline-formula id="pbio.3000295.e198"><alternatives><graphic id="pbio.3000295.e198g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e198" xlink:type="simple"/><mml:math display="inline" id="M198"><mml:msub><mml:mrow><mml:mover accent="true"><mml:mrow><mml:mi>r</mml:mi></mml:mrow><mml:mo>~</mml:mo></mml:mover></mml:mrow><mml:mrow><mml:mi>B</mml:mi></mml:mrow></mml:msub></mml:math></alternatives></inline-formula> is the amount of Byproduct released per H biomass produced. Product P has the unit of <inline-formula id="pbio.3000295.e199"><alternatives><graphic id="pbio.3000295.e199g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e199" xlink:type="simple"/><mml:math display="inline" id="M199"><mml:msub><mml:mrow><mml:mover accent="true"><mml:mrow><mml:mi>r</mml:mi></mml:mrow><mml:mo>~</mml:mo></mml:mover></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow></mml:msub></mml:math></alternatives></inline-formula>, the amount of Product released at the cost of 1 M biomass. More details on parameters and variables can be found in Tables <xref ref-type="table" rid="pbio.3000295.t001">1</xref> and <xref ref-type="table" rid="pbio.3000295.t002">2</xref>. The simulation codes can be found in <xref ref-type="supplementary-material" rid="pbio.3000295.s039">S9 Code</xref>, and the data can be found in <xref ref-type="supplementary-material" rid="pbio.3000295.s062">S5 Data</xref>.</p>
<p>(TIF)</p>
</caption>
</supplementary-material>
<supplementary-material id="pbio.3000295.s009" mimetype="image/tiff" position="float" xlink:href="info:doi/10.1371/journal.pbio.3000295.s009" xlink:type="simple">
<label>S9 Fig</label>
<caption>
<title>Community function declines to zero in the absence of intercommunity selection for higher community function.</title>
<p>An Adult was randomly chosen to reproduce as many Newborns as possible, and a second Adult was randomly chosen to reproduce more Newborns until 100 Newborns were obtained. Natural selection favored zero <italic>f</italic><sub><italic>P</italic></sub> (panel A). Consequently, <italic>P</italic>(<italic>T</italic>) decreased to zero (panel B). Here, reproduction was done by pipetting. Black, cyan, and gray curves are independent simulation trials. <inline-formula id="pbio.3000295.e200"><alternatives><graphic id="pbio.3000295.e200g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e200" xlink:type="simple"/><mml:math display="inline" id="M200"><mml:mover accent="false"><mml:mrow><mml:mi>P</mml:mi></mml:mrow><mml:mo>¯</mml:mo></mml:mover><mml:mo>(</mml:mo><mml:mi>T</mml:mi><mml:mo>)</mml:mo></mml:math></alternatives></inline-formula> was averaged across the randomly chosen Adults. <inline-formula id="pbio.3000295.e201"><alternatives><graphic id="pbio.3000295.e201g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e201" xlink:type="simple"/><mml:math display="inline" id="M201"><mml:msub><mml:mrow><mml:mover accent="false"><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mo>¯</mml:mo></mml:mover></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow></mml:msub><mml:mo>(</mml:mo><mml:mi>T</mml:mi><mml:mo>)</mml:mo></mml:math></alternatives></inline-formula> was obtained by first averaging among M within each randomly chosen Adult and then averaging across the chosen Adults. The simulation codes can be found in <xref ref-type="supplementary-material" rid="pbio.3000295.s040">S10 Code</xref>, and the data can be found in <xref ref-type="supplementary-material" rid="pbio.3000295.s063">S6 Data</xref>.</p>
<p>(TIF)</p>
</caption>
</supplementary-material>
<supplementary-material id="pbio.3000295.s010" mimetype="image/tiff" position="float" xlink:href="info:doi/10.1371/journal.pbio.3000295.s010" xlink:type="simple">
<label>S10 Fig</label>
<caption>
<title><italic>P</italic>*(<italic>T</italic>) is a local optimum because it cannot be further improved by small changes.</title>
<p>We started each Newborn community with total biomass <italic>BM</italic>(0) = 100, all 5 growth parameters at their evolutionary upper bounds, and <inline-formula id="pbio.3000295.e202"><alternatives><graphic id="pbio.3000295.e202g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e202" xlink:type="simple"/><mml:math display="inline" id="M202"><mml:msubsup><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow><mml:mrow><mml:mi>*</mml:mi></mml:mrow></mml:msubsup><mml:mo>=</mml:mo><mml:mn>0.41</mml:mn></mml:math></alternatives></inline-formula> and <inline-formula id="pbio.3000295.e203"><alternatives><graphic id="pbio.3000295.e203g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e203" xlink:type="simple"/><mml:math display="inline" id="M203"><mml:msubsup><mml:mrow><mml:mi>ϕ</mml:mi></mml:mrow><mml:mrow><mml:mi>M</mml:mi></mml:mrow><mml:mrow><mml:mi>*</mml:mi></mml:mrow></mml:msubsup><mml:mo>(</mml:mo><mml:mn>0</mml:mn><mml:mo>)</mml:mo><mml:mo>=</mml:mo><mml:mn>0.54</mml:mn></mml:math></alternatives></inline-formula> to achieve <italic>P</italic>*(<italic>T</italic>). We then allowed all 5 growth parameters and <italic>f</italic><sub><italic>P</italic></sub> to mutate while applying community selection. To ensure effective community selection (<xref ref-type="fig" rid="pbio.3000295.g003">Fig 3D–3F</xref>), the strategy of top-dog with cell sorting was implemented. We found that all 5 growth parameters remained at their respective evolutionary upper bounds. At the end of the first cycle (Cycle = 1 in insets), even though <inline-formula id="pbio.3000295.e204"><alternatives><graphic id="pbio.3000295.e204g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e204" xlink:type="simple"/><mml:math display="inline" id="M204"><mml:msub><mml:mrow><mml:mover accent="false"><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mo>¯</mml:mo></mml:mover></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow></mml:msub></mml:math></alternatives></inline-formula> did not change, <inline-formula id="pbio.3000295.e205"><alternatives><graphic id="pbio.3000295.e205g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e205" xlink:type="simple"/><mml:math display="inline" id="M205"><mml:mover accent="false"><mml:mrow><mml:mi>P</mml:mi></mml:mrow><mml:mo>¯</mml:mo></mml:mover><mml:mo>(</mml:mo><mml:mi>T</mml:mi><mml:mo>)</mml:mo></mml:math></alternatives></inline-formula> had already declined from the original magenta dashed line. This is because species interactions have driven <italic>ϕ</italic><sub><italic>M</italic></sub>(0) from the optimal <inline-formula id="pbio.3000295.e206"><alternatives><graphic id="pbio.3000295.e206g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e206" xlink:type="simple"/><mml:math display="inline" id="M206"><mml:msubsup><mml:mrow><mml:mi>ϕ</mml:mi></mml:mrow><mml:mrow><mml:mi>M</mml:mi></mml:mrow><mml:mrow><mml:mi>*</mml:mi></mml:mrow></mml:msubsup><mml:mo>(</mml:mo><mml:mn>0</mml:mn><mml:mo>)</mml:mo></mml:math></alternatives></inline-formula> (= 0.54) to near the steady-state value (<italic>ϕ</italic><sub><italic>M</italic></sub> = 0.64, compare with <italic>ϕ</italic><sub><italic>M</italic>,<italic>SS</italic></sub> represented by the blue dashed line in <xref ref-type="fig" rid="pbio.3000295.g002">Fig 2A</xref> top panel). Later, over hundreds of cycles, <inline-formula id="pbio.3000295.e207"><alternatives><graphic id="pbio.3000295.e207g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e207" xlink:type="simple"/><mml:math display="inline" id="M207"><mml:msub><mml:mrow><mml:mover accent="false"><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mo>¯</mml:mo></mml:mover></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow></mml:msub></mml:math></alternatives></inline-formula> gradually increased, while <inline-formula id="pbio.3000295.e208"><alternatives><graphic id="pbio.3000295.e208g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e208" xlink:type="simple"/><mml:math display="inline" id="M208"><mml:mover accent="false"><mml:mrow><mml:mi>P</mml:mi></mml:mrow><mml:mo>¯</mml:mo></mml:mover><mml:mo>(</mml:mo><mml:mi>T</mml:mi><mml:mo>)</mml:mo></mml:math></alternatives></inline-formula> was still below maximal. This is because species composition gravitated toward steady-state <italic>ϕ</italic><sub><italic>M</italic>,<italic>SS</italic></sub>, which deviated from the optimal <inline-formula id="pbio.3000295.e209"><alternatives><graphic id="pbio.3000295.e209g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e209" xlink:type="simple"/><mml:math display="inline" id="M209"><mml:msubsup><mml:mrow><mml:mi>ϕ</mml:mi></mml:mrow><mml:mrow><mml:mi>M</mml:mi></mml:mrow><mml:mrow><mml:mi>*</mml:mi></mml:mrow></mml:msubsup><mml:mo>(</mml:mo><mml:mn>0</mml:mn><mml:mo>)</mml:mo></mml:math></alternatives></inline-formula>. Other legends are the same as <xref ref-type="supplementary-material" rid="pbio.3000295.s008">S8 Fig</xref>. The simulation codes can be found in <xref ref-type="supplementary-material" rid="pbio.3000295.s041">S11 Code</xref>, and the data can be found in <xref ref-type="supplementary-material" rid="pbio.3000295.s064">S7 Data</xref>.</p>
<p>(TIF)</p>
</caption>
</supplementary-material>
<supplementary-material id="pbio.3000295.s011" mimetype="image/tiff" position="float" xlink:href="info:doi/10.1371/journal.pbio.3000295.s011" xlink:type="simple">
<label>S11 Fig</label>
<caption>
<title>Variations in community function can arise from nonheritable variations in Newborn compositions.</title>
<p>An average Newborn community (solid lines) has a total biomass of 100 with 75% M. (A) A "lucky" Newborn community (dotted lines), by stochastic fluctuations, has a higher total biomass of 130 and the average 75% M. Even though the lucky and the average communities share identical <italic>f</italic><sub><italic>P</italic></sub> = 0.1, biomass of M in the lucky Newborn can grow to a higher value (left), deplete more Resource (middle), and make more Product (right) by the end of short <italic>T</italic> (<italic>T</italic> = 17). (B) A "lucky" Newborn community (dotted lines), by stochastic fluctuations, has 65% (instead of 75%) M and the average total biomass of 100. Even though the lucky and the average communities share identical <italic>f</italic><sub><italic>P</italic></sub> = 0.1, higher fraction of Helper H biomass in the lucky community results in faster accumulation of Byproduct. Consequently, M can enjoy a shorter growth lag, grow to a larger size (left), deplete more Resource (middle), and make more Product (right) by the end of short <italic>T</italic> (<italic>T</italic> = 17). In both cases, the difference between the lucky (dotted) and the average (solid) communities diminished at longer <italic>T</italic> (<italic>T</italic> = 20) compared to shorter <italic>T</italic> (<italic>T</italic> = 17, dash dot line). The Matlab codes can be found in <xref ref-type="supplementary-material" rid="pbio.3000295.s042">S12 Code</xref>.</p>
<p>(TIF)</p>
</caption>
</supplementary-material>
<supplementary-material id="pbio.3000295.s012" mimetype="image/tiff" position="float" xlink:href="info:doi/10.1371/journal.pbio.3000295.s012" xlink:type="simple">
<label>S12 Fig</label>
<caption>
<title>Fixing either Newborn total biomass or Newborn species composition did not significantly improve community selection compared to fixing neither.</title>
<p>When using the top-dog strategy (A) or the top 10% strategy (B), fixing only Newborn total biomass (<italic>BM</italic>(0)) or fixing only Newborn species composition (<italic>ϕ</italic><sub><italic>M</italic></sub>(0)) yielded similar dynamics as fixing neither (pipetting; <xref ref-type="fig" rid="pbio.3000295.g003">Fig 3A–3C</xref> and <xref ref-type="fig" rid="pbio.3000295.g003">Fig 3G–3I</xref>, respectively). Black, cyan, and gray curves are 3 independent simulation trials. <inline-formula id="pbio.3000295.e210"><alternatives><graphic id="pbio.3000295.e210g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e210" xlink:type="simple"/><mml:math display="inline" id="M210"><mml:mover accent="false"><mml:mrow><mml:mi>P</mml:mi></mml:mrow><mml:mo>¯</mml:mo></mml:mover><mml:mo>(</mml:mo><mml:mi>T</mml:mi><mml:mo>)</mml:mo></mml:math></alternatives></inline-formula> was averaged across all chosen Adults. <inline-formula id="pbio.3000295.e211"><alternatives><graphic id="pbio.3000295.e211g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e211" xlink:type="simple"/><mml:math display="inline" id="M211"><mml:msub><mml:mrow><mml:mover accent="false"><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mo>¯</mml:mo></mml:mover></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow></mml:msub><mml:mo>(</mml:mo><mml:mi>T</mml:mi><mml:mo>)</mml:mo></mml:math></alternatives></inline-formula> was obtained by first averaging among M within each chosen Adult and then averaging across all chosen Adults. The simulation codes can be found in <xref ref-type="supplementary-material" rid="pbio.3000295.s032">S2 Code</xref>, and the data can be found in <xref ref-type="supplementary-material" rid="pbio.3000295.s065">S8 Data</xref>.</p>
<p>(TIF)</p>
</caption>
</supplementary-material>
<supplementary-material id="pbio.3000295.s013" mimetype="image/tiff" position="float" xlink:href="info:doi/10.1371/journal.pbio.3000295.s013" xlink:type="simple">
<label>S13 Fig</label>
<caption>
<title>Fixing H and M cell numbers (instead of biomass) during community reproduction improves community function.</title>
<p>(A) The total cell number in Newborn communities was fixed to ⌊<italic>BM</italic><sub><italic>target</italic></sub>/1.5⌋ where ⌊<italic>x</italic>⌋ means rounding down <italic>x</italic> to the nearest integer. (B) The ratio between M and H cell numbers in Newborn communities were fixed to <italic>I</italic><sub><italic>M</italic></sub>(<italic>T</italic>)/<italic>I</italic><sub><italic>H</italic></sub>(<italic>T</italic>), where <italic>I</italic><sub><italic>M</italic></sub>(<italic>T</italic>) and <italic>I</italic><sub><italic>H</italic></sub>(<italic>T</italic>) were the number of M and H cells in the chosen Adult community from the previous cycle, respectively. (C) The total cell numbers of Newborn communities were fixed to ⌊<italic>BM</italic><sub><italic>target</italic></sub>/1.5⌋, and the ratio between M and H cell numbers were fixed to <italic>I</italic><sub><italic>M</italic></sub>(<italic>T</italic>)/<italic>I</italic><sub><italic>H</italic></sub>(<italic>T</italic>). See <xref ref-type="sec" rid="sec020">Methods</xref> Section 6 for details of simulating community reproduction. Black, cyan, and gray curves are independent simulation trials. <inline-formula id="pbio.3000295.e212"><alternatives><graphic id="pbio.3000295.e212g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e212" xlink:type="simple"/><mml:math display="inline" id="M212"><mml:mover accent="false"><mml:mrow><mml:mi>P</mml:mi></mml:mrow><mml:mo>¯</mml:mo></mml:mover><mml:mo>(</mml:mo><mml:mi>T</mml:mi><mml:mo>)</mml:mo></mml:math></alternatives></inline-formula> was averaged across the 2 chosen Adults. <inline-formula id="pbio.3000295.e213"><alternatives><graphic id="pbio.3000295.e213g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e213" xlink:type="simple"/><mml:math display="inline" id="M213"><mml:msub><mml:mrow><mml:mover accent="false"><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mo>¯</mml:mo></mml:mover></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow></mml:msub><mml:mo>(</mml:mo><mml:mi>T</mml:mi><mml:mo>)</mml:mo></mml:math></alternatives></inline-formula> was obtained by first averaging among M within each chosen Adult and then averaging across the 2 chosen Adults. The simulation codes can be found in <xref ref-type="supplementary-material" rid="pbio.3000295.s043">S13 Code</xref>, and the data can be found in <xref ref-type="supplementary-material" rid="pbio.3000295.s066">S9 Data</xref>.</p>
<p>(TIF)</p>
</caption>
</supplementary-material>
<supplementary-material id="pbio.3000295.s014" mimetype="image/tiff" position="float" xlink:href="info:doi/10.1371/journal.pbio.3000295.s014" xlink:type="simple">
<label>S14 Fig</label>
<caption>
<title>Long-term selection dynamics of the top 10% strategy with pipetting.</title>
<p>Simulation setup was identical to that in <xref ref-type="fig" rid="pbio.3000295.g003">Fig 3G–3H</xref>, except that selection here lasted more cycles. Compared to <xref ref-type="fig" rid="pbio.3000295.g003">Fig 3A–3C</xref> (top-dog, pipetting), the top 10% strategy was more effective. However, compared to <xref ref-type="fig" rid="pbio.3000295.g003">Fig 3D–3F</xref> (top-dog, cell sorting), the top 10% strategy was less effective, even over 10<sup>4</sup> cycles. Black, cyan, and gray curves are independent simulation trials. <inline-formula id="pbio.3000295.e214"><alternatives><graphic id="pbio.3000295.e214g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e214" xlink:type="simple"/><mml:math display="inline" id="M214"><mml:mover accent="false"><mml:mrow><mml:mi>P</mml:mi></mml:mrow><mml:mo>¯</mml:mo></mml:mover><mml:mo>(</mml:mo><mml:mi>T</mml:mi><mml:mo>)</mml:mo></mml:math></alternatives></inline-formula> was averaged across the chosen Adults. <inline-formula id="pbio.3000295.e215"><alternatives><graphic id="pbio.3000295.e215g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e215" xlink:type="simple"/><mml:math display="inline" id="M215"><mml:msub><mml:mrow><mml:mover accent="false"><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mo>¯</mml:mo></mml:mover></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow></mml:msub><mml:mo>(</mml:mo><mml:mi>T</mml:mi><mml:mo>)</mml:mo></mml:math></alternatives></inline-formula> was obtained by first averaging among M within each chosen Adult and then averaging across all chosen Adults. The simulation codes can be found in <xref ref-type="supplementary-material" rid="pbio.3000295.s032">S2 Code</xref>, and the data can be found in <xref ref-type="supplementary-material" rid="pbio.3000295.s058">S1 Data</xref>.</p>
<p>(TIF)</p>
</caption>
</supplementary-material>
<supplementary-material id="pbio.3000295.s015" mimetype="image/tiff" position="float" xlink:href="info:doi/10.1371/journal.pbio.3000295.s015" xlink:type="simple">
<label>S15 Fig</label>
<caption>
<title>Top-tier strategies promoted community selection under a wide range of selection strengths.</title>
<p>In a top-tier strategy (“top 2%” to “top 50%”), top <italic>n</italic><sub><italic>chosen</italic></sub> Adults each contributed 100/<italic>n</italic><sub><italic>chosen</italic></sub> Newborns into the next cycle. Here, Adults were reproduced (split) into Newborns as if via pipetting. Note that “top 2%” yielded qualitatively similar results as “top-dog”. Note also that when all Adults contributed one Newborn each (“all 100%”), intercommunity selection strength was zero, and thus natural selection quickly reduced average cost <italic>f</italic><sub><italic>P</italic></sub> and community function to zero. Black, cyan, and gray curves are independent simulation trials. <inline-formula id="pbio.3000295.e216"><alternatives><graphic id="pbio.3000295.e216g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e216" xlink:type="simple"/><mml:math display="inline" id="M216"><mml:mover accent="false"><mml:mrow><mml:mi>P</mml:mi></mml:mrow><mml:mo>¯</mml:mo></mml:mover><mml:mo>(</mml:mo><mml:mi>T</mml:mi><mml:mo>)</mml:mo></mml:math></alternatives></inline-formula> was averaged across the chosen Adults. <inline-formula id="pbio.3000295.e217"><alternatives><graphic id="pbio.3000295.e217g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e217" xlink:type="simple"/><mml:math display="inline" id="M217"><mml:msub><mml:mrow><mml:mover accent="false"><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mo>¯</mml:mo></mml:mover></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow></mml:msub><mml:mo>(</mml:mo><mml:mi>T</mml:mi><mml:mo>)</mml:mo></mml:math></alternatives></inline-formula> was obtained by first averaging among M within each chosen Adult and then averaging across all chosen Adults. The simulation codes can be found in <xref ref-type="supplementary-material" rid="pbio.3000295.s032">S2 Code</xref>, and the data can be found in <xref ref-type="supplementary-material" rid="pbio.3000295.s067">S10 Data</xref>.</p>
<p>(TIF)</p>
</caption>
</supplementary-material>
<supplementary-material id="pbio.3000295.s016" mimetype="image/tiff" position="float" xlink:href="info:doi/10.1371/journal.pbio.3000295.s016" xlink:type="simple">
<label>S16 Fig</label>
<caption>
<title>The top-dog strategy is superior to the top 10% strategy when nonheritable variation in community function is low.</title>
<p>Twenty replicas of selection simulations were performed using either the top-dog strategy (black curves) or the top-tier strategy (top 10 Adults chosen to reproduce; red curves). Community reproduction was through cell sorting. Community functions improved slightly faster and to a slightly higher level using the top-dog strategy. Thus, when nonheritable variations in community function were suppressed, the top-dog strategy was superior to the top-tier strategy. The simulation codes can be found in <xref ref-type="supplementary-material" rid="pbio.3000295.s032">S2 Code</xref>, and the data can be found in <xref ref-type="supplementary-material" rid="pbio.3000295.s068">S11 Data</xref>.</p>
<p>(TIF)</p>
</caption>
</supplementary-material>
<supplementary-material id="pbio.3000295.s017" mimetype="image/tiff" position="float" xlink:href="info:doi/10.1371/journal.pbio.3000295.s017" xlink:type="simple">
<label>S17 Fig</label>
<caption>
<title>Community function can be improved even if it is costly to both species.</title>
<p>Identical to <xref ref-type="fig" rid="pbio.3000295.g006">Fig 6</xref>, the evolutionary upper bound for <italic>g</italic><sub><italic>Hmax</italic></sub> (<inline-formula id="pbio.3000295.e218"><alternatives><graphic id="pbio.3000295.e218g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e218" xlink:type="simple"/><mml:math display="inline" id="M218"><mml:msubsup><mml:mrow><mml:mi>g</mml:mi></mml:mrow><mml:mrow><mml:mi>H</mml:mi><mml:mi>m</mml:mi><mml:mi>a</mml:mi><mml:mi>x</mml:mi></mml:mrow><mml:mrow><mml:mi>*</mml:mi></mml:mrow></mml:msubsup><mml:mo>=</mml:mo><mml:mn>0.8</mml:mn></mml:math></alternatives></inline-formula>) was larger than that of <italic>g</italic><sub><italic>Mmax</italic></sub> (<inline-formula id="pbio.3000295.e219"><alternatives><graphic id="pbio.3000295.e219g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e219" xlink:type="simple"/><mml:math display="inline" id="M219"><mml:msubsup><mml:mrow><mml:mi>g</mml:mi></mml:mrow><mml:mrow><mml:mi>M</mml:mi><mml:mi>m</mml:mi><mml:mi>a</mml:mi><mml:mi>x</mml:mi></mml:mrow><mml:mrow><mml:mi>*</mml:mi></mml:mrow></mml:msubsup><mml:mo>=</mml:mo><mml:mn>0.7</mml:mn></mml:math></alternatives></inline-formula>), opposite to that in <xref ref-type="fig" rid="pbio.3000295.g003">Fig 3</xref>. (A) When using the top-dog strategy with pipetting, <italic>g</italic><sub><italic>Hmax</italic></sub> and <italic>g</italic><sub><italic>Mmax</italic></sub> evolved to their respective upper bounds, and thus <italic>g</italic><sub><italic>Hmax</italic></sub> &gt; <italic>g</italic><sub><italic>Hmax</italic></sub> (compare i and iv). This would ordinarily lead to extinction of M. However, community selection managed to maintain M at a very low level (<xref ref-type="fig" rid="pbio.3000295.g006">Fig 6A</xref> bottom panel). (B–D) When using the top-dog strategy with cell sorting (panel B), the top 10% strategy with pipetting (panel C), or the top 10% strategy with cell sorting (panel D), community selection worked in the sense that both <inline-formula id="pbio.3000295.e220"><alternatives><graphic id="pbio.3000295.e220g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e220" xlink:type="simple"/><mml:math display="inline" id="M220"><mml:msub><mml:mrow><mml:mover accent="false"><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mo>¯</mml:mo></mml:mover></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow></mml:msub></mml:math></alternatives></inline-formula> and <italic>P</italic>(<italic>T</italic>) improved over cycles (Figs <xref ref-type="fig" rid="pbio.3000295.g006">6B</xref>–<xref ref-type="fig" rid="pbio.3000295.g003">3D</xref>). The maximal growth rate of H <italic>g</italic><sub><italic>Hmax</italic></sub> did not increase to its upper bound <inline-formula id="pbio.3000295.e221"><alternatives><graphic id="pbio.3000295.e221g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e221" xlink:type="simple"/><mml:math display="inline" id="M221"><mml:msubsup><mml:mrow><mml:mi>g</mml:mi></mml:mrow><mml:mrow><mml:mi>H</mml:mi><mml:mi>m</mml:mi><mml:mi>a</mml:mi><mml:mi>x</mml:mi></mml:mrow><mml:mrow><mml:mi>*</mml:mi></mml:mrow></mml:msubsup><mml:mo>=</mml:mo><mml:mn>0.8</mml:mn></mml:math></alternatives></inline-formula>, and H’s affinity for Resource even decreased from the ancestral level in some cases. Here, Resource supplied to Newborn communities could support 10<sup>5</sup> total biomass to accommodate faster growth rate. Other legends are the same as <xref ref-type="supplementary-material" rid="pbio.3000295.s008">S8 Fig</xref>. The simulation codes can be found in <xref ref-type="supplementary-material" rid="pbio.3000295.s034">S4 Code</xref>, and the data can be found in <xref ref-type="supplementary-material" rid="pbio.3000295.s060">S3 Data</xref>.</p>
<p>(TIF)</p>
</caption>
</supplementary-material>
<supplementary-material id="pbio.3000295.s018" mimetype="image/tiff" position="float" xlink:href="info:doi/10.1371/journal.pbio.3000295.s018" xlink:type="simple">
<label>S18 Fig</label>
<caption>
<title>Evolution dynamics of chosen Adult communities at a mutation rate of 2 × 10<sup>−5</sup> per cell per generation.</title>
<p>(A, B) At short maturation time (<italic>T = 17</italic>, Resource was not exhausted in an average community), cell sorting improved community function. The top-tier strategy with pipetting slightly improved community function. (C, D) At long maturation time (<italic>T = 20</italic>, Resource was nearly exhausted in an average community), community function improved without fixing <italic>BM</italic>(0) or <italic>ϕ</italic><sub><italic>M</italic></sub>(0) (top-dog with pipetting). At this mutation rate, because the population size of a community never exceeds 10<sup>4</sup>, a mutation occurs on average every 5 cycles, resulting in step-wise improvement in both <inline-formula id="pbio.3000295.e222"><alternatives><graphic id="pbio.3000295.e222g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e222" xlink:type="simple"/><mml:math display="inline" id="M222"><mml:msub><mml:mrow><mml:mover accent="false"><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mo>¯</mml:mo></mml:mover></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow></mml:msub><mml:mo>(</mml:mo><mml:mi>T</mml:mi><mml:mo>)</mml:mo></mml:math></alternatives></inline-formula> and <inline-formula id="pbio.3000295.e223"><alternatives><graphic id="pbio.3000295.e223g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e223" xlink:type="simple"/><mml:math display="inline" id="M223"><mml:mover accent="false"><mml:mrow><mml:mi>P</mml:mi></mml:mrow><mml:mo>¯</mml:mo></mml:mover><mml:mo>(</mml:mo><mml:mi>T</mml:mi><mml:mo>)</mml:mo></mml:math></alternatives></inline-formula>. Black, cyan, and gray curves are independent simulation trials. <inline-formula id="pbio.3000295.e224"><alternatives><graphic id="pbio.3000295.e224g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e224" xlink:type="simple"/><mml:math display="inline" id="M224"><mml:mover accent="false"><mml:mrow><mml:mi>P</mml:mi></mml:mrow><mml:mo>¯</mml:mo></mml:mover><mml:mo>(</mml:mo><mml:mi>T</mml:mi><mml:mo>)</mml:mo></mml:math></alternatives></inline-formula> was averaged across all chosen Adults. <inline-formula id="pbio.3000295.e225"><alternatives><graphic id="pbio.3000295.e225g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e225" xlink:type="simple"/><mml:math display="inline" id="M225"><mml:msub><mml:mrow><mml:mover accent="false"><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mo>¯</mml:mo></mml:mover></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow></mml:msub><mml:mo>(</mml:mo><mml:mi>T</mml:mi><mml:mo>)</mml:mo></mml:math></alternatives></inline-formula> was obtained by first averaging among M within each chosen Adult and then averaging across all chosen Adults. The simulation codes can be found in <xref ref-type="supplementary-material" rid="pbio.3000295.s032">S2 Code</xref>, and the data can be found in <xref ref-type="supplementary-material" rid="pbio.3000295.s069">S12 Data</xref>.</p>
<p>(TIF)</p>
</caption>
</supplementary-material>
<supplementary-material id="pbio.3000295.s019" mimetype="image/tiff" position="float" xlink:href="info:doi/10.1371/journal.pbio.3000295.s019" xlink:type="simple">
<label>S19 Fig</label>
<caption>
<title>Evolutionary dynamics of chosen Adult communities under different distributions of mutation effects.</title>
<p>(A) Evolutionary dynamics where half of the mutations reduced <italic>f</italic><sub><italic>P</italic></sub> to zero, and the distribution of mutation effects of the other half is specified by <xref ref-type="disp-formula" rid="pbio.3000295.e147">Eq 19</xref> in which <italic>s</italic><sub>+</sub> = <italic>s</italic><sub>−</sub> = 0.02 are constants. (B) Evolutionary dynamics when null mutations in <italic>f</italic><sub><italic>P</italic></sub> did not occur. The distribution of mutation effects is specified by <xref ref-type="disp-formula" rid="pbio.3000295.e147">Eq 19</xref> where <italic>s</italic><sub>+</sub> = 0.05 and <italic>s</italic><sub>−</sub> = 0.067. <inline-formula id="pbio.3000295.e226"><alternatives><graphic id="pbio.3000295.e226g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e226" xlink:type="simple"/><mml:math display="inline" id="M226"><mml:msub><mml:mrow><mml:mover accent="false"><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mo>¯</mml:mo></mml:mover></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow></mml:msub><mml:mo>(</mml:mo><mml:mi>T</mml:mi><mml:mo>)</mml:mo></mml:math></alternatives></inline-formula> as well as <inline-formula id="pbio.3000295.e227"><alternatives><graphic id="pbio.3000295.e227g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e227" xlink:type="simple"/><mml:math display="inline" id="M227"><mml:mover accent="false"><mml:mrow><mml:mi>P</mml:mi></mml:mrow><mml:mo>¯</mml:mo></mml:mover><mml:mo>(</mml:mo><mml:mi>T</mml:mi><mml:mo>)</mml:mo></mml:math></alternatives></inline-formula> were more stable compared to when null mutations were present (<xref ref-type="fig" rid="pbio.3000295.g003">Fig 3</xref>). Black, cyan, and gray curves are independent simulation trials. <inline-formula id="pbio.3000295.e228"><alternatives><graphic id="pbio.3000295.e228g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e228" xlink:type="simple"/><mml:math display="inline" id="M228"><mml:mover accent="false"><mml:mrow><mml:mi>P</mml:mi></mml:mrow><mml:mo>¯</mml:mo></mml:mover><mml:mo>(</mml:mo><mml:mi>T</mml:mi><mml:mo>)</mml:mo></mml:math></alternatives></inline-formula> was averaged across the chosen Adults. <inline-formula id="pbio.3000295.e229"><alternatives><graphic id="pbio.3000295.e229g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e229" xlink:type="simple"/><mml:math display="inline" id="M229"><mml:msub><mml:mrow><mml:mover accent="false"><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mo>¯</mml:mo></mml:mover></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow></mml:msub><mml:mo>(</mml:mo><mml:mi>T</mml:mi><mml:mo>)</mml:mo></mml:math></alternatives></inline-formula> was obtained by first averaging among M within each chosen Adult and then averaging across all chosen Adults. For panel A, the simulation codes can be found in <xref ref-type="supplementary-material" rid="pbio.3000295.s044">S14 Code</xref>, and the data can be found in <xref ref-type="supplementary-material" rid="pbio.3000295.s070">S13 Data</xref>. For panel B, the simulation codes can be found in <xref ref-type="supplementary-material" rid="pbio.3000295.s045">S15 Code</xref>, and the data can be found in <xref ref-type="supplementary-material" rid="pbio.3000295.s071">S14 Data</xref>.</p>
<p>(TIF)</p>
</caption>
</supplementary-material>
<supplementary-material id="pbio.3000295.s020" mimetype="image/tiff" position="float" xlink:href="info:doi/10.1371/journal.pbio.3000295.s020" xlink:type="simple">
<label>S20 Fig</label>
<caption>
<title>Mutation effects under epistasis.</title>
<p>Distribution of mutation effects at different current <italic>f</italic><sub><italic>P</italic></sub> values (marked on top) are plotted according to <xref ref-type="disp-formula" rid="pbio.3000295.e148">Eq 20</xref>. (Top) When there is no epistasis, distribution of mutational effects on <italic>f</italic><sub><italic>P</italic></sub>(<italic>Δf</italic><sub><italic>P</italic></sub>) are identical regardless of current <italic>f</italic><sub><italic>P</italic></sub>. (Middle and Bottom) With epistasis (see <xref ref-type="sec" rid="sec020">Methods</xref> Section 5 for definition of epistasis factor), mutational effects on <italic>f</italic><sub><italic>P</italic></sub> depend on the current value of <italic>f</italic><sub><italic>P</italic></sub>. If current <italic>f</italic><sub><italic>P</italic></sub> is low (left), enhancing mutations are more likely to occur (the area to the right of <italic>Δf</italic><sub><italic>P</italic></sub> = 0 becomes bigger), and their mean mutational effect (= 1/slope) becomes larger. If current <italic>f</italic><sub><italic>P</italic></sub> is high (right), the opposite is true.</p>
<p>(TIF)</p>
</caption>
</supplementary-material>
<supplementary-material id="pbio.3000295.s021" mimetype="image/tiff" position="float" xlink:href="info:doi/10.1371/journal.pbio.3000295.s021" xlink:type="simple">
<label>S21 Fig</label>
<caption>
<title>Evolutionary dynamics of chosen Adults when epistasis is considered.</title>
<p>When we incorporated different epistasis strengths (epistasis factor of 0.3 and 0.8), we obtained essentially the same conclusions as when epistasis was not considered (<xref ref-type="fig" rid="pbio.3000295.g003">Fig 3</xref>). Black, cyan, and gray curves are independent simulation trials. <inline-formula id="pbio.3000295.e230"><alternatives><graphic id="pbio.3000295.e230g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e230" xlink:type="simple"/><mml:math display="inline" id="M230"><mml:mover accent="false"><mml:mrow><mml:mi>P</mml:mi></mml:mrow><mml:mo>¯</mml:mo></mml:mover><mml:mo>(</mml:mo><mml:mi>T</mml:mi><mml:mo>)</mml:mo></mml:math></alternatives></inline-formula> was averaged across the chosen Adults. <inline-formula id="pbio.3000295.e231"><alternatives><graphic id="pbio.3000295.e231g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e231" xlink:type="simple"/><mml:math display="inline" id="M231"><mml:msub><mml:mrow><mml:mover accent="false"><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mo>¯</mml:mo></mml:mover></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow></mml:msub><mml:mo>(</mml:mo><mml:mi>T</mml:mi><mml:mo>)</mml:mo></mml:math></alternatives></inline-formula> was obtained by first averaging among M within each chosen Adult and then averaging across all chosen Adults. For panel A, the simulation codes can be found in <xref ref-type="supplementary-material" rid="pbio.3000295.s046">S16 Code</xref>, and the data can be found in <xref ref-type="supplementary-material" rid="pbio.3000295.s072">S15 Data</xref>. For panel B, the simulation codes can be found in <xref ref-type="supplementary-material" rid="pbio.3000295.s046">S16 Code</xref>, and the data can be found in <xref ref-type="supplementary-material" rid="pbio.3000295.s073">S16 Data</xref>.</p>
<p>(TIF)</p>
</caption>
</supplementary-material>
<supplementary-material id="pbio.3000295.s022" mimetype="image/tiff" position="float" xlink:href="info:doi/10.1371/journal.pbio.3000295.s022" xlink:type="simple">
<label>S22 Fig</label>
<caption>
<title>Selection dynamics of mutualistic H-M communities.</title>
<p>In the mutualistic H-M community, H generates Byproduct that is essential for M but inhibitory to H. (A) H can grow to a high density in the presence of M (top) but not in the absence of M (bottom). (B) Similar to community selection on commensal H-M communities, selection was promoted by the top 10% strategy or cell sorting at short <italic>T</italic> (<italic>T</italic> = 20), or via extending <italic>T</italic> (<italic>T</italic> = 24). Black, cyan, and gray curves are independent simulation trials. <inline-formula id="pbio.3000295.e232"><alternatives><graphic id="pbio.3000295.e232g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e232" xlink:type="simple"/><mml:math display="inline" id="M232"><mml:mover accent="false"><mml:mrow><mml:mi>P</mml:mi></mml:mrow><mml:mo>¯</mml:mo></mml:mover><mml:mo>(</mml:mo><mml:mi>T</mml:mi><mml:mo>)</mml:mo></mml:math></alternatives></inline-formula> was averaged across the chosen Adults. <inline-formula id="pbio.3000295.e233"><alternatives><graphic id="pbio.3000295.e233g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e233" xlink:type="simple"/><mml:math display="inline" id="M233"><mml:msub><mml:mrow><mml:mover accent="false"><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mo>¯</mml:mo></mml:mover></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow></mml:msub><mml:mo>(</mml:mo><mml:mi>T</mml:mi><mml:mo>)</mml:mo></mml:math></alternatives></inline-formula> was obtained by first averaging among M within each chosen Adult and then averaging across all chosen Adults. For panel A, the Matlab codes can be found in <xref ref-type="supplementary-material" rid="pbio.3000295.s047">S17 Code</xref>. For panel B, the simulation codes can be found in <xref ref-type="supplementary-material" rid="pbio.3000295.s048">S18 Code</xref>, and the data can be found in <xref ref-type="supplementary-material" rid="pbio.3000295.s074">S17 Data</xref>.</p>
<p>(TIF)</p>
</caption>
</supplementary-material>
<supplementary-material id="pbio.3000295.s023" mimetype="image/tiff" position="float" xlink:href="info:doi/10.1371/journal.pbio.3000295.s023" xlink:type="simple">
<label>S23 Fig</label>
<caption>
<title>Artificial selection in excess Resource failed under fixed-fold pipetting dilution scheme.</title>
<p>Excess Resource was supplied to each Newborn (<italic>R</italic>(0)/<italic>K</italic><sub><italic>MR</italic></sub> = 10<sup>6</sup>), and chosen Adults were reproduced via a fixed-fold (100-fold) pipetting dilution into Newborns. Because of pipetting, Newborns with larger total biomass will tend to be selected (<xref ref-type="fig" rid="pbio.3000295.g004">Fig 4F</xref>). Community function initially increased as Newborn total biomass increased exponentially (middle and bottom panels), while nonproducing M cells with <italic>f</italic><sub><italic>P</italic></sub> = 0 quickly took over (top panel; <xref ref-type="supplementary-material" rid="pbio.3000295.s007">S7B Fig</xref>). Black, cyan, and gray curves are independent simulation trials. <inline-formula id="pbio.3000295.e234"><alternatives><graphic id="pbio.3000295.e234g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e234" xlink:type="simple"/><mml:math display="inline" id="M234"><mml:mover accent="false"><mml:mrow><mml:mi>P</mml:mi></mml:mrow><mml:mo>¯</mml:mo></mml:mover><mml:mo>(</mml:mo><mml:mi>T</mml:mi><mml:mo>)</mml:mo></mml:math></alternatives></inline-formula> was averaged across chosen Adults. <inline-formula id="pbio.3000295.e235"><alternatives><graphic id="pbio.3000295.e235g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e235" xlink:type="simple"/><mml:math display="inline" id="M235"><mml:msub><mml:mrow><mml:mover accent="false"><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mo>¯</mml:mo></mml:mover></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow></mml:msub><mml:mo>(</mml:mo><mml:mi>T</mml:mi><mml:mo>)</mml:mo></mml:math></alternatives></inline-formula> was obtained by first averaging among M within each chosen Adult and then averaging across all chosen Adults. The simulation codes can be found in <xref ref-type="supplementary-material" rid="pbio.3000295.s049">S19 Code</xref>, and the data can be found in <xref ref-type="supplementary-material" rid="pbio.3000295.s075">S18 Data</xref>.</p>
<p>(TIF)</p>
</caption>
</supplementary-material>
<supplementary-material id="pbio.3000295.s024" mimetype="image/tiff" position="float" xlink:href="info:doi/10.1371/journal.pbio.3000295.s024" xlink:type="simple">
<label>S24 Fig</label>
<caption>
<title>Improving growth can improve or impair community function, depending on evolutionary upper bounds of growth parameters.</title>
<p>Plotted here are plateaued community function after 1,500 cycles when simulation did or did not allow mutations in growth parameters or <italic>f</italic><sub><italic>P</italic></sub>. The top-dog strategy and pipetting were used. (A) When evolutionary upper bound for <italic>g</italic><sub><italic>Hmax</italic></sub> (<inline-formula id="pbio.3000295.e236"><alternatives><graphic id="pbio.3000295.e236g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e236" xlink:type="simple"/><mml:math display="inline" id="M236"><mml:msubsup><mml:mrow><mml:mi>g</mml:mi></mml:mrow><mml:mrow><mml:mi>H</mml:mi><mml:mi>m</mml:mi><mml:mi>a</mml:mi><mml:mi>x</mml:mi></mml:mrow><mml:mrow><mml:mi>*</mml:mi></mml:mrow></mml:msubsup><mml:mo>=</mml:mo><mml:mn>0.3</mml:mn></mml:math></alternatives></inline-formula>) was lower than that of <italic>g</italic><sub><italic>Mmax</italic></sub> (<inline-formula id="pbio.3000295.e237"><alternatives><graphic id="pbio.3000295.e237g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e237" xlink:type="simple"/><mml:math display="inline" id="M237"><mml:msubsup><mml:mrow><mml:mi>g</mml:mi></mml:mrow><mml:mrow><mml:mi>M</mml:mi><mml:mi>m</mml:mi><mml:mi>a</mml:mi><mml:mi>x</mml:mi></mml:mrow><mml:mrow><mml:mi>*</mml:mi></mml:mrow></mml:msubsup><mml:mo>=</mml:mo><mml:mn>0.7</mml:mn></mml:math></alternatives></inline-formula>), improving growth parameters improved community function. Compared to community function where no mutations were allowed (i), community function improved when both growth parameters and <italic>f</italic><sub><italic>P</italic></sub> were allowed to mutate (ii). Preventing mutations in growth parameters diminished community function improvement (iii). In this case, improved growth of M and H resulted in higher community function. Evolutionary dynamics are shown in <xref ref-type="supplementary-material" rid="pbio.3000295.s008">S8A–S8C Fig</xref>. (B) When evolutionary upper bound for <italic>g</italic><sub><italic>Hmax</italic></sub> (<inline-formula id="pbio.3000295.e238"><alternatives><graphic id="pbio.3000295.e238g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e238" xlink:type="simple"/><mml:math display="inline" id="M238"><mml:msubsup><mml:mrow><mml:mi>g</mml:mi></mml:mrow><mml:mrow><mml:mi>H</mml:mi><mml:mi>m</mml:mi><mml:mi>a</mml:mi><mml:mi>x</mml:mi></mml:mrow><mml:mrow><mml:mi>*</mml:mi></mml:mrow></mml:msubsup><mml:mo>=</mml:mo><mml:mn>0.8</mml:mn></mml:math></alternatives></inline-formula>) was larger than that of <italic>g</italic><sub><italic>Hmax</italic></sub> (<inline-formula id="pbio.3000295.e239"><alternatives><graphic id="pbio.3000295.e239g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e239" xlink:type="simple"/><mml:math display="inline" id="M239"><mml:msubsup><mml:mrow><mml:mi>g</mml:mi></mml:mrow><mml:mrow><mml:mi>M</mml:mi><mml:mi>m</mml:mi><mml:mi>a</mml:mi><mml:mi>x</mml:mi></mml:mrow><mml:mrow><mml:mi>*</mml:mi></mml:mrow></mml:msubsup><mml:mo>=</mml:mo><mml:mn>0.7</mml:mn></mml:math></alternatives></inline-formula>), improving growth parameters could decrease community function. Compared to community function in which no mutations were allowed (i), community function decreased when both growth parameters and <italic>f</italic><sub><italic>P</italic></sub> were allowed to mutate (ii). Preventing mutations in growth parameters diminished reduction in community function (iii). In this case, improved growth of M and H resulted in lower community function. Evolutionary dynamics are shown in <xref ref-type="supplementary-material" rid="pbio.3000295.s017">S17A Fig</xref> and <xref ref-type="fig" rid="pbio.3000295.g006">Fig 6A</xref>. In panel B, Resource supplied to Newborn communities could support 10<sup>5</sup> total biomass to accommodate faster growth rate. Error bars are calculated form 3 independent selections. The simulation codes can be found in <xref ref-type="supplementary-material" rid="pbio.3000295.s032">S2</xref> and <xref ref-type="supplementary-material" rid="pbio.3000295.s034">S4</xref> Codes. The plot can be generated by <xref ref-type="supplementary-material" rid="pbio.3000295.s050">S20 Code</xref> from <xref ref-type="supplementary-material" rid="pbio.3000295.s076">S19 Data</xref>.</p>
<p>(TIF)</p>
</caption>
</supplementary-material>
<supplementary-material id="pbio.3000295.s025" mimetype="image/tiff" position="float" xlink:href="info:doi/10.1371/journal.pbio.3000295.s025" xlink:type="simple">
<label>S25 Fig</label>
<caption>
<title>Selection dynamics of M monospecies groups.</title>
<p>(A) Phenotypes averaged over chosen groups are plotted for 500 selection cycles. Because Resource is the same as in community selection while Byproduct is in excess, M’s affinity for Byproduct 1/<italic>K</italic><sub><italic>MB</italic></sub> is no longer relevant in equations (<xref ref-type="supplementary-material" rid="pbio.3000295.s003">S3B Fig</xref>, <italic>R</italic><sub><italic>M</italic></sub> ≪ <italic>B</italic><sub><italic>M</italic></sub>). Upper bounds of M’s maximal growth rate <italic>g</italic><sub><italic>Mmax</italic></sub> and M’s affinity for Resource 1/<italic>K</italic><sub><italic>MR</italic></sub> are marked with green dashed lines. Magenta lines mark <italic>f</italic><sub><italic>P</italic></sub> optimal for group function and maximal <italic>P</italic>(<italic>T</italic>) when M’s maximal growth rate <italic>g</italic><sub><italic>Mmax</italic></sub> and M’s affinity for Resource 1/<italic>K</italic><sub><italic>MR</italic></sub> are fixed at their upper bounds and when Byproduct is in excess. (B) Suppose that a Newborn M group starts with a single Manufacturer (biomass 1) supplied with excess Byproduct and the same amount of Resource as in a Newborn H-M community (Resource could support 10<sup>4</sup> M biomass). Then, maximal group function is achieved at <inline-formula id="pbio.3000295.e240"><alternatives><graphic id="pbio.3000295.e240g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e240" xlink:type="simple"/><mml:math display="inline" id="M240"><mml:msub><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow></mml:msub><mml:mo>=</mml:mo><mml:msubsup><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>P</mml:mi><mml:mo>,</mml:mo><mml:mi>​</mml:mi><mml:mi>M</mml:mi><mml:mi>o</mml:mi><mml:mi>n</mml:mi><mml:mi>o</mml:mi></mml:mrow><mml:mrow><mml:mi>*</mml:mi></mml:mrow></mml:msubsup><mml:mo>=</mml:mo><mml:mn>0.13</mml:mn></mml:math></alternatives></inline-formula> (middle panel), lower than the optimal <italic>f</italic><sub><italic>P</italic></sub> for the community function <inline-formula id="pbio.3000295.e241"><alternatives><graphic id="pbio.3000295.e241g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e241" xlink:type="simple"/><mml:math display="inline" id="M241"><mml:msubsup><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow><mml:mrow><mml:mi>*</mml:mi></mml:mrow></mml:msubsup><mml:mo>=</mml:mo><mml:mn>0.41</mml:mn></mml:math></alternatives></inline-formula> (<xref ref-type="fig" rid="pbio.3000295.g002">Fig 2B</xref>). Here, the growth parameters of M are all fixed at their evolutionary upper bounds, and <italic>P</italic>(<italic>T</italic>) has the unit of <inline-formula id="pbio.3000295.e242"><alternatives><graphic id="pbio.3000295.e242g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e242" xlink:type="simple"/><mml:math display="inline" id="M242"><mml:msub><mml:mrow><mml:mover accent="true"><mml:mrow><mml:mi>r</mml:mi></mml:mrow><mml:mo>~</mml:mo></mml:mover></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow></mml:msub></mml:math></alternatives></inline-formula>. For panel A, the simulation codes can be found in <xref ref-type="supplementary-material" rid="pbio.3000295.s051">S21 Code</xref>, and the data can be found in <xref ref-type="supplementary-material" rid="pbio.3000295.s077">S20 Data</xref>. For panel B, the Matlab codes can be found in <xref ref-type="supplementary-material" rid="pbio.3000295.s052">S22 Code</xref>.</p>
<p>(TIF)</p>
</caption>
</supplementary-material>
<supplementary-material id="pbio.3000295.s026" mimetype="image/tiff" position="float" xlink:href="info:doi/10.1371/journal.pbio.3000295.s026" xlink:type="simple">
<label>S26 Fig</label>
<caption>
<title>Comparison between the steady-state <italic>ϕ</italic><sub><italic>M</italic></sub>,<sub><italic>SS</italic></sub> calculated from Eqs <xref ref-type="disp-formula" rid="pbio.3000295.e078">6</xref>–<xref ref-type="disp-formula" rid="pbio.3000295.e082">10</xref> (black curve) and from <xref ref-type="disp-formula" rid="pbio.3000295.e110">Eq 14</xref> (red line).</title>
<p>The Matlab codes can be found in <xref ref-type="supplementary-material" rid="pbio.3000295.s053">S23 Code</xref>.</p>
<p>(TIF)</p>
</caption>
</supplementary-material>
<supplementary-material id="pbio.3000295.s027" mimetype="image/tiff" position="float" xlink:href="info:doi/10.1371/journal.pbio.3000295.s027" xlink:type="simple">
<label>S27 Fig</label>
<caption>
<title>With parameters in <xref ref-type="table" rid="pbio.3000295.t001">Table 1</xref>, improved maximal growth rates and nutrient affinities generally—But do not always—Improve individual fitness and community function.</title>
<p>In all figures, solid and dashed lines, respectively, represent calculations with <inline-formula id="pbio.3000295.e243"><alternatives><graphic id="pbio.3000295.e243g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e243" xlink:type="simple"/><mml:math display="inline" id="M243"><mml:msub><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow></mml:msub><mml:mo>=</mml:mo><mml:msubsup><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow><mml:mrow><mml:mi>*</mml:mi></mml:mrow></mml:msubsup><mml:mo>=</mml:mo><mml:mn>0.41</mml:mn></mml:math></alternatives></inline-formula> (optimal for community function; <xref ref-type="fig" rid="pbio.3000295.g002">Fig 2B</xref>) and <inline-formula id="pbio.3000295.e244"><alternatives><graphic id="pbio.3000295.e244g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e244" xlink:type="simple"/><mml:math display="inline" id="M244"><mml:msub><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow></mml:msub><mml:mo>=</mml:mo><mml:msubsup><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>P</mml:mi><mml:mo>,</mml:mo><mml:mi>​</mml:mi><mml:mi>M</mml:mi><mml:mi>o</mml:mi><mml:mi>n</mml:mi><mml:mi>o</mml:mi></mml:mrow><mml:mrow><mml:mi>*</mml:mi></mml:mrow></mml:msubsup><mml:mo>=</mml:mo><mml:mn>0.13</mml:mn></mml:math></alternatives></inline-formula> (the starting point for most of our simulations; optimal for M monoculture production when Byproduct is in excess—see <xref ref-type="supplementary-material" rid="pbio.3000295.s025">S25B Fig</xref>). Except for the growth parameter indicated on the horizontal axis, all other growth parameters were set to their respective upper bounds. (A–D) Community function increases as the indicated growth parameter increases. For example, in (A), all growth parameters except for <italic>g</italic><sub><italic>Mmax</italic></sub> were set to their upper bounds. For each <italic>g</italic><sub><italic>Mmax</italic></sub>, the steady-state <italic>ϕ</italic><sub><italic>M</italic>,<italic>SS</italic></sub> was calculated using equations in Methods Section 1. This steady-state <italic>ϕ</italic><sub><italic>M</italic>,<italic>SS</italic></sub> was then used to calculate <italic>P</italic>(<italic>T</italic>). (F–I) The ratio between mutant population (whose indicated growth parameter was 10% lower than the upper bound) and preadapted population (with all growth parameters at upper bounds) over maturation time <italic>T</italic> = 17. The decreasing ratio indicates that the mutant has a lower fitness compared to the growth-adapted cells. For example, in (F), a Newborn community had 70 M and 30 H. Among M cells, 90% were preadapted and had upper bound <italic>g</italic><sub><italic>Mmax</italic></sub> = 0.7 ("upper bound"). The remaining 10% had <italic>g</italic><sub><italic>Mmax</italic></sub> = 0.63, 10% less than the upper bound ("mutant"). The ratio between "mutant" and "upper bound" cells declined over maturation time, indicating that mutant M cells had a lower fitness. (E, J) When <italic>f</italic><sub><italic>P</italic></sub> = 0.13 (black dashed line) but not when <italic>f</italic><sub><italic>P</italic></sub> = 0.41 (magenta line), increasing M’s affinity for Resource (1/<italic>K</italic><sub><italic>MR</italic></sub>) slightly decreases individual fitness and barely affects community function. The Matlab codes can be found in <xref ref-type="supplementary-material" rid="pbio.3000295.s054">S24 Code</xref>.</p>
<p>(TIF)</p>
</caption>
</supplementary-material>
<supplementary-material id="pbio.3000295.s028" mimetype="image/tiff" position="float" xlink:href="info:doi/10.1371/journal.pbio.3000295.s028" xlink:type="simple">
<label>S28 Fig</label>
<caption>
<title>At low <italic>f</italic><sub><italic>P</italic></sub>, M’s lower affinity for Resource can increase its growth rate.</title>
<p>(A) The ratio between M<sub>LowAff</sub> (the population size of M with low affinity for Resource <inline-formula id="pbio.3000295.e245"><alternatives><graphic id="pbio.3000295.e245g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e245" xlink:type="simple"/><mml:math display="inline" id="M245"><mml:msubsup><mml:mrow><mml:mi>K</mml:mi></mml:mrow><mml:mrow><mml:mi>M</mml:mi><mml:mi>R</mml:mi></mml:mrow><mml:mrow><mml:mo>-</mml:mo><mml:mn>1</mml:mn></mml:mrow></mml:msubsup><mml:mo>=</mml:mo><mml:mn>2.5</mml:mn><mml:mover accent="true"><mml:mrow><mml:mi>R</mml:mi></mml:mrow><mml:mo>~</mml:mo></mml:mover><mml:mo>(</mml:mo><mml:mn>0</mml:mn><mml:msup><mml:mrow><mml:mo>)</mml:mo></mml:mrow><mml:mrow><mml:mo>-</mml:mo><mml:mn>1</mml:mn></mml:mrow></mml:msup></mml:math></alternatives></inline-formula>) and M<sub>HighAff</sub> (the population size of M with high affinity for Resource <inline-formula id="pbio.3000295.e246"><alternatives><graphic id="pbio.3000295.e246g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e246" xlink:type="simple"/><mml:math display="inline" id="M246"><mml:msubsup><mml:mrow><mml:mi>K</mml:mi></mml:mrow><mml:mrow><mml:mi>M</mml:mi><mml:mi>R</mml:mi></mml:mrow><mml:mrow><mml:mo>-</mml:mo><mml:mn>1</mml:mn></mml:mrow></mml:msubsup><mml:mo>=</mml:mo><mml:mn>3</mml:mn><mml:mover accent="true"><mml:mrow><mml:mi>R</mml:mi></mml:mrow><mml:mo>~</mml:mo></mml:mover><mml:mo>(</mml:mo><mml:mn>0</mml:mn><mml:msup><mml:mrow><mml:mo>)</mml:mo></mml:mrow><mml:mrow><mml:mo>-</mml:mo><mml:mn>1</mml:mn></mml:mrow></mml:msup></mml:math></alternatives></inline-formula>) are plotted over a maturation cycle when grown together in the H-M community. The <italic>f</italic><sub><italic>P</italic></sub> values of both populations equaled to 0.1 (solid line), 0.2 (dotted line), and 0.3 (dashed line). (B) <italic>P</italic>(<italic>T</italic>) improves over increasing affinity <inline-formula id="pbio.3000295.e247"><alternatives><graphic id="pbio.3000295.e247g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e247" xlink:type="simple"/><mml:math display="inline" id="M247"><mml:msubsup><mml:mrow><mml:mi>K</mml:mi></mml:mrow><mml:mrow><mml:mi>M</mml:mi><mml:mi>R</mml:mi></mml:mrow><mml:mrow><mml:mo>-</mml:mo><mml:mn>1</mml:mn></mml:mrow></mml:msubsup></mml:math></alternatives></inline-formula> when <italic>f</italic><sub><italic>P</italic></sub> is 0.1 (solid line), 0.2 (dotted line), and 0.3 (dashed line). The dependence of <italic>P</italic>(<italic>T</italic>) on affinity <inline-formula id="pbio.3000295.e248"><alternatives><graphic id="pbio.3000295.e248g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e248" xlink:type="simple"/><mml:math display="inline" id="M248"><mml:msubsup><mml:mrow><mml:mi>K</mml:mi></mml:mrow><mml:mrow><mml:mi>M</mml:mi><mml:mi>R</mml:mi></mml:mrow><mml:mrow><mml:mo>-</mml:mo><mml:mn>1</mml:mn></mml:mrow></mml:msubsup></mml:math></alternatives></inline-formula> is rather weak for low <italic>f</italic><sub><italic>P</italic></sub>. For example, when <inline-formula id="pbio.3000295.e249"><alternatives><graphic id="pbio.3000295.e249g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e249" xlink:type="simple"/><mml:math display="inline" id="M249"><mml:msubsup><mml:mrow><mml:mi>K</mml:mi></mml:mrow><mml:mrow><mml:mi>M</mml:mi><mml:mi>R</mml:mi></mml:mrow><mml:mrow><mml:mo>-</mml:mo><mml:mn>1</mml:mn></mml:mrow></mml:msubsup></mml:math></alternatives></inline-formula> increases from 1 to 3, <italic>P</italic>(<italic>T</italic>) increases by only 2% and 0.6% for <italic>f</italic><sub><italic>P</italic></sub> = 0.2 and <italic>f</italic><sub><italic>P</italic></sub> = 0.1, respectively. The Matlab codes can be found in <xref ref-type="supplementary-material" rid="pbio.3000295.s055">S25 Code</xref>.</p>
<p>(TIF)</p>
</caption>
</supplementary-material>
<supplementary-material id="pbio.3000295.s029" mimetype="image/tiff" position="float" xlink:href="info:doi/10.1371/journal.pbio.3000295.s029" xlink:type="simple">
<label>S29 Fig</label>
<caption>
<title>Selection dynamics of communities of preadapted H and M when allowing all parameters to vary.</title>
<p>In the Newborn communities of the first cycle of community selection, all growth parameters of H and M were at their upper bounds and <inline-formula id="pbio.3000295.e250"><alternatives><graphic id="pbio.3000295.e250g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e250" xlink:type="simple"/><mml:math display="inline" id="M250"><mml:msub><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow></mml:msub><mml:mo>=</mml:mo><mml:msubsup><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>P</mml:mi><mml:mo>,</mml:mo><mml:mi>​</mml:mi><mml:mi>M</mml:mi><mml:mi>o</mml:mi><mml:mi>n</mml:mi><mml:mi>o</mml:mi></mml:mrow><mml:mrow><mml:mi>*</mml:mi></mml:mrow></mml:msubsup><mml:mo>=</mml:mo><mml:mn>0.13</mml:mn></mml:math></alternatives></inline-formula> (<xref ref-type="supplementary-material" rid="pbio.3000295.s025">S25 Fig</xref>). When we simulated community selection while allowing all growth parameters and <italic>f</italic><sub><italic>P</italic></sub> to vary, M’s affinity for R <inline-formula id="pbio.3000295.e251"><alternatives><graphic id="pbio.3000295.e251g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e251" xlink:type="simple"/><mml:math display="inline" id="M251"><mml:mn>1</mml:mn><mml:mo>/</mml:mo><mml:msub><mml:mrow><mml:mover accent="true"><mml:mrow><mml:mi>K</mml:mi></mml:mrow><mml:mo>¯</mml:mo></mml:mover></mml:mrow><mml:mrow><mml:mi>M</mml:mi><mml:mi>R</mml:mi></mml:mrow></mml:msub></mml:math></alternatives></inline-formula> decreased slightly because at low <italic>f</italic><sub><italic>P</italic></sub> = 0.13, M with a lower affinity for R (lower 1/<italic>K</italic><sub><italic>MR</italic></sub>) has a slightly improved individual fitness (<xref ref-type="supplementary-material" rid="pbio.3000295.s028">S28 Fig</xref>). Other growth parameters (<inline-formula id="pbio.3000295.e252"><alternatives><graphic id="pbio.3000295.e252g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e252" xlink:type="simple"/><mml:math display="inline" id="M252"><mml:msub><mml:mrow><mml:mover accent="true"><mml:mrow><mml:mi>g</mml:mi></mml:mrow><mml:mo>¯</mml:mo></mml:mover></mml:mrow><mml:mrow><mml:mi>M</mml:mi><mml:mi>m</mml:mi><mml:mi>a</mml:mi><mml:mi>x</mml:mi></mml:mrow></mml:msub><mml:mo>,</mml:mo><mml:msub><mml:mrow><mml:mover accent="true"><mml:mrow><mml:mi>g</mml:mi></mml:mrow><mml:mo>¯</mml:mo></mml:mover></mml:mrow><mml:mrow><mml:mi>H</mml:mi><mml:mi>m</mml:mi><mml:mi>a</mml:mi><mml:mi>x</mml:mi></mml:mrow></mml:msub><mml:mo>,</mml:mo><mml:mn>1</mml:mn><mml:mo>/</mml:mo><mml:msub><mml:mrow><mml:mover accent="true"><mml:mrow><mml:mi>K</mml:mi></mml:mrow><mml:mo>¯</mml:mo></mml:mover></mml:mrow><mml:mrow><mml:mi>M</mml:mi><mml:mi>B</mml:mi></mml:mrow></mml:msub></mml:math></alternatives></inline-formula>, and <inline-formula id="pbio.3000295.e253"><alternatives><graphic id="pbio.3000295.e253g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e253" xlink:type="simple"/><mml:math display="inline" id="M253"><mml:mn>1</mml:mn><mml:mo>/</mml:mo><mml:msub><mml:mrow><mml:mover accent="true"><mml:mrow><mml:mi>K</mml:mi></mml:mrow><mml:mo>¯</mml:mo></mml:mover></mml:mrow><mml:mrow><mml:mi>H</mml:mi><mml:mi>R</mml:mi></mml:mrow></mml:msub></mml:math></alternatives></inline-formula>) remain mostly constant during community selection because mutants with lower-than-maximal values were selected against by intracommunity selection and by intercommunity selection (<xref ref-type="supplementary-material" rid="pbio.3000295.s027">S27 Fig</xref>). Other legends are the same as in <xref ref-type="supplementary-material" rid="pbio.3000295.s008">S8 Fig</xref>. The simulation codes can be found in <xref ref-type="supplementary-material" rid="pbio.3000295.s034">S4 Code</xref>, and the data can be found in <xref ref-type="supplementary-material" rid="pbio.3000295.s078">S21 Data</xref>.</p>
<p>(TIF)</p>
</caption>
</supplementary-material>
<supplementary-material id="pbio.3000295.s030" mimetype="image/tiff" position="float" xlink:href="info:doi/10.1371/journal.pbio.3000295.s030" xlink:type="simple">
<label>S30 Fig</label>
<caption>
<title>Different methods of pregrowth had limited impact on selection dynamics.</title>
<p>An M monoculture grew from a single non-null M cell. This M cell went through approximately 23 doublings and therefore multiplied into approximately 10<sup>7</sup> cells. Every time a non-null M cell divides, the mother and daughter cells can independently mutate and become a null M cell (<italic>f</italic><sub><italic>P</italic></sub> = 0) at a fixed probability of 10<sup>−3</sup>. If a non-null M cell has <italic>f</italic><sub><italic>P</italic></sub> = 0.13, then it will grow at a rate 87% of that of a null cell. After approximately 23 doublings, the M monocultures have on average about 3% null mutants. Sixty randomly chosen M cells from the same monoculture or from distinct monocultures, together with 40 H cells, were used to inoculate each of the 100 Newborns for the first selection cycle. (Top panels) Histograms of the number of Newborn communities of the first cycle that are free of noncontributor M mutants when inoculated from a single M monoculture (Left panel) or from independently grown M monocultures (right panel). To generate the histograms, the pregrowth and inoculation process was repeated 1,000 times. (Middle and bottom panels) Improvement in <inline-formula id="pbio.3000295.e254"><alternatives><graphic id="pbio.3000295.e254g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e254" xlink:type="simple"/><mml:math display="inline" id="M254"><mml:msub><mml:mrow><mml:mover accent="false"><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mo>¯</mml:mo></mml:mover></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow></mml:msub><mml:mo>(</mml:mo><mml:mi>T</mml:mi><mml:mo>)</mml:mo></mml:math></alternatives></inline-formula> and <inline-formula id="pbio.3000295.e255"><alternatives><graphic id="pbio.3000295.e255g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e255" xlink:type="simple"/><mml:math display="inline" id="M255"><mml:mover accent="false"><mml:mrow><mml:mi>P</mml:mi></mml:mrow><mml:mo>¯</mml:mo></mml:mover><mml:mo>(</mml:mo><mml:mi>T</mml:mi><mml:mo>)</mml:mo></mml:math></alternatives></inline-formula> was only slightly slower when Newborn communities from the first cycle were inoculated by the same M monoculture (left panel) than by distinct monocultures (right panel). The top-dog strategy was used to choose Adults that were then reproduced via cell sorting. Black, cyan, and gray curves are independent simulation trials. <inline-formula id="pbio.3000295.e256"><alternatives><graphic id="pbio.3000295.e256g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e256" xlink:type="simple"/><mml:math display="inline" id="M256"><mml:mover accent="false"><mml:mrow><mml:mi>P</mml:mi></mml:mrow><mml:mo>¯</mml:mo></mml:mover><mml:mo>(</mml:mo><mml:mi>T</mml:mi><mml:mo>)</mml:mo></mml:math></alternatives></inline-formula> was averaged across the 2 chosen Adults. <inline-formula id="pbio.3000295.e257"><alternatives><graphic id="pbio.3000295.e257g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pbio.3000295.e257" xlink:type="simple"/><mml:math display="inline" id="M257"><mml:msub><mml:mrow><mml:mover accent="false"><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mo>¯</mml:mo></mml:mover></mml:mrow><mml:mrow><mml:mi>P</mml:mi></mml:mrow></mml:msub><mml:mo>(</mml:mo><mml:mi>T</mml:mi><mml:mo>)</mml:mo></mml:math></alternatives></inline-formula> was obtained by first averaging among M within each chosen Adult and then averaging across the chosen Adults. The simulation codes for evolution dynamics can be found in <xref ref-type="supplementary-material" rid="pbio.3000295.s056">S26 Code</xref>, the simulation codes for the histograms can be found in <xref ref-type="supplementary-material" rid="pbio.3000295.s057">S27 Code</xref>, and the data can be found in <xref ref-type="supplementary-material" rid="pbio.3000295.s079">S22 Data</xref>.</p>
<p>(TIF)</p>
</caption>
</supplementary-material>
<supplementary-material id="pbio.3000295.s031" mimetype="application/zip" position="float" xlink:href="info:doi/10.1371/journal.pbio.3000295.s031" xlink:type="simple">
<label>S1 Code</label>
<caption>
<title>Matlab codes that generated <xref ref-type="fig" rid="pbio.3000295.g002">Fig 2</xref>.</title>
<p>(ZIP)</p>
</caption>
</supplementary-material>
<supplementary-material id="pbio.3000295.s032" mimetype="application/zip" position="float" xlink:href="info:doi/10.1371/journal.pbio.3000295.s032" xlink:type="simple">
<label>S2 Code</label>
<caption>
<title>Matlab codes that generated Figs <xref ref-type="fig" rid="pbio.3000295.g003">3</xref> and <xref ref-type="fig" rid="pbio.3000295.g004">4</xref>.</title>
<p>(ZIP)</p>
</caption>
</supplementary-material>
<supplementary-material id="pbio.3000295.s033" mimetype="application/zip" position="float" xlink:href="info:doi/10.1371/journal.pbio.3000295.s033" xlink:type="simple">
<label>S3 Code</label>
<caption>
<title>Matlab codes that generated <xref ref-type="fig" rid="pbio.3000295.g005">Fig 5</xref>.</title>
<p>(ZIP)</p>
</caption>
</supplementary-material>
<supplementary-material id="pbio.3000295.s034" mimetype="application/zip" position="float" xlink:href="info:doi/10.1371/journal.pbio.3000295.s034" xlink:type="simple">
<label>S4 Code</label>
<caption>
<title>Matlab codes that generated <xref ref-type="fig" rid="pbio.3000295.g006">Fig 6</xref>.</title>
<p>(ZIP)</p>
</caption>
</supplementary-material>
<supplementary-material id="pbio.3000295.s035" mimetype="application/zip" position="float" xlink:href="info:doi/10.1371/journal.pbio.3000295.s035" xlink:type="simple">
<label>S5 Code</label>
<caption>
<title>Matlab codes that generated <xref ref-type="supplementary-material" rid="pbio.3000295.s002">S2 Fig</xref>.</title>
<p>(ZIP)</p>
</caption>
</supplementary-material>
<supplementary-material id="pbio.3000295.s036" mimetype="application/zip" position="float" xlink:href="info:doi/10.1371/journal.pbio.3000295.s036" xlink:type="simple">
<label>S6 Code</label>
<caption>
<title>Matlab codes that generated <xref ref-type="supplementary-material" rid="pbio.3000295.s005">S5 Fig</xref>.</title>
<p>(ZIP)</p>
</caption>
</supplementary-material>
<supplementary-material id="pbio.3000295.s037" mimetype="application/zip" position="float" xlink:href="info:doi/10.1371/journal.pbio.3000295.s037" xlink:type="simple">
<label>S7 Code</label>
<caption>
<title>Matlab codes that generated <xref ref-type="supplementary-material" rid="pbio.3000295.s006">S6 Fig</xref>.</title>
<p>(ZIP)</p>
</caption>
</supplementary-material>
<supplementary-material id="pbio.3000295.s038" mimetype="application/zip" position="float" xlink:href="info:doi/10.1371/journal.pbio.3000295.s038" xlink:type="simple">
<label>S8 Code</label>
<caption>
<title>Matlab codes that generated <xref ref-type="supplementary-material" rid="pbio.3000295.s007">S7 Fig</xref>.</title>
<p>(ZIP)</p>
</caption>
</supplementary-material>
<supplementary-material id="pbio.3000295.s039" mimetype="application/zip" position="float" xlink:href="info:doi/10.1371/journal.pbio.3000295.s039" xlink:type="simple">
<label>S9 Code</label>
<caption>
<title>Matlab codes that generated <xref ref-type="supplementary-material" rid="pbio.3000295.s008">S8 Fig</xref>.</title>
<p>(ZIP)</p>
</caption>
</supplementary-material>
<supplementary-material id="pbio.3000295.s040" mimetype="application/zip" position="float" xlink:href="info:doi/10.1371/journal.pbio.3000295.s040" xlink:type="simple">
<label>S10 Code</label>
<caption>
<title>Matlab codes that generated <xref ref-type="supplementary-material" rid="pbio.3000295.s009">S9 Fig</xref>.</title>
<p>(ZIP)</p>
</caption>
</supplementary-material>
<supplementary-material id="pbio.3000295.s041" mimetype="application/zip" position="float" xlink:href="info:doi/10.1371/journal.pbio.3000295.s041" xlink:type="simple">
<label>S11 Code</label>
<caption>
<title>Matlab codes that generated <xref ref-type="supplementary-material" rid="pbio.3000295.s010">S10 Fig</xref>.</title>
<p>(ZIP)</p>
</caption>
</supplementary-material>
<supplementary-material id="pbio.3000295.s042" mimetype="application/zip" position="float" xlink:href="info:doi/10.1371/journal.pbio.3000295.s042" xlink:type="simple">
<label>S12 Code</label>
<caption>
<title>Matlab codes that generated <xref ref-type="supplementary-material" rid="pbio.3000295.s011">S11 Fig</xref>.</title>
<p>(ZIP)</p>
</caption>
</supplementary-material>
<supplementary-material id="pbio.3000295.s043" mimetype="application/zip" position="float" xlink:href="info:doi/10.1371/journal.pbio.3000295.s043" xlink:type="simple">
<label>S13 Code</label>
<caption>
<title>Matlab codes that generated <xref ref-type="supplementary-material" rid="pbio.3000295.s013">S13 Fig</xref>.</title>
<p>(ZIP)</p>
</caption>
</supplementary-material>
<supplementary-material id="pbio.3000295.s044" mimetype="application/zip" position="float" xlink:href="info:doi/10.1371/journal.pbio.3000295.s044" xlink:type="simple">
<label>S14 Code</label>
<caption>
<title>Matlab codes that generated <xref ref-type="supplementary-material" rid="pbio.3000295.s019">S19A Fig</xref>.</title>
<p>(ZIP)</p>
</caption>
</supplementary-material>
<supplementary-material id="pbio.3000295.s045" mimetype="application/zip" position="float" xlink:href="info:doi/10.1371/journal.pbio.3000295.s045" xlink:type="simple">
<label>S15 Code</label>
<caption>
<title>Matlab codes that generated <xref ref-type="supplementary-material" rid="pbio.3000295.s019">S19B Fig</xref>.</title>
<p>(ZIP)</p>
</caption>
</supplementary-material>
<supplementary-material id="pbio.3000295.s046" mimetype="application/zip" position="float" xlink:href="info:doi/10.1371/journal.pbio.3000295.s046" xlink:type="simple">
<label>S16 Code</label>
<caption>
<title>Matlab codes that generated <xref ref-type="supplementary-material" rid="pbio.3000295.s021">S21 Fig</xref>.</title>
<p>(ZIP)</p>
</caption>
</supplementary-material>
<supplementary-material id="pbio.3000295.s047" mimetype="application/zip" position="float" xlink:href="info:doi/10.1371/journal.pbio.3000295.s047" xlink:type="simple">
<label>S17 Code</label>
<caption>
<title>Matlab codes that generated <xref ref-type="supplementary-material" rid="pbio.3000295.s022">S22A Fig</xref>.</title>
<p>(ZIP)</p>
</caption>
</supplementary-material>
<supplementary-material id="pbio.3000295.s048" mimetype="application/zip" position="float" xlink:href="info:doi/10.1371/journal.pbio.3000295.s048" xlink:type="simple">
<label>S18 Code</label>
<caption>
<title>Matlab codes that generated <xref ref-type="supplementary-material" rid="pbio.3000295.s022">S22B Fig</xref>.</title>
<p>(ZIP)</p>
</caption>
</supplementary-material>
<supplementary-material id="pbio.3000295.s049" mimetype="application/zip" position="float" xlink:href="info:doi/10.1371/journal.pbio.3000295.s049" xlink:type="simple">
<label>S19 Code</label>
<caption>
<title>Matlab codes that generated <xref ref-type="supplementary-material" rid="pbio.3000295.s023">S23 Fig</xref>.</title>
<p>(ZIP)</p>
</caption>
</supplementary-material>
<supplementary-material id="pbio.3000295.s050" mimetype="application/zip" position="float" xlink:href="info:doi/10.1371/journal.pbio.3000295.s050" xlink:type="simple">
<label>S20 Code</label>
<caption>
<title>Matlab codes that generated <xref ref-type="supplementary-material" rid="pbio.3000295.s024">S24 Fig</xref>.</title>
<p>(ZIP)</p>
</caption>
</supplementary-material>
<supplementary-material id="pbio.3000295.s051" mimetype="application/zip" position="float" xlink:href="info:doi/10.1371/journal.pbio.3000295.s051" xlink:type="simple">
<label>S21 Code</label>
<caption>
<title>Matlab codes that generated <xref ref-type="supplementary-material" rid="pbio.3000295.s025">S25A Fig</xref>.</title>
<p>(ZIP)</p>
</caption>
</supplementary-material>
<supplementary-material id="pbio.3000295.s052" mimetype="application/zip" position="float" xlink:href="info:doi/10.1371/journal.pbio.3000295.s052" xlink:type="simple">
<label>S22 Code</label>
<caption>
<title>Matlab codes that generated <xref ref-type="supplementary-material" rid="pbio.3000295.s025">S25B Fig</xref>.</title>
<p>(ZIP)</p>
</caption>
</supplementary-material>
<supplementary-material id="pbio.3000295.s053" mimetype="application/zip" position="float" xlink:href="info:doi/10.1371/journal.pbio.3000295.s053" xlink:type="simple">
<label>S23 Code</label>
<caption>
<title>Matlab codes that generated <xref ref-type="supplementary-material" rid="pbio.3000295.s026">S26 Fig</xref>.</title>
<p>(ZIP)</p>
</caption>
</supplementary-material>
<supplementary-material id="pbio.3000295.s054" mimetype="application/zip" position="float" xlink:href="info:doi/10.1371/journal.pbio.3000295.s054" xlink:type="simple">
<label>S24 Code</label>
<caption>
<title>Matlab codes that generated <xref ref-type="supplementary-material" rid="pbio.3000295.s027">S27 Fig</xref>.</title>
<p>(ZIP)</p>
</caption>
</supplementary-material>
<supplementary-material id="pbio.3000295.s055" mimetype="application/zip" position="float" xlink:href="info:doi/10.1371/journal.pbio.3000295.s055" xlink:type="simple">
<label>S25 Code</label>
<caption>
<title>Matlab codes that generated <xref ref-type="supplementary-material" rid="pbio.3000295.s028">S28 Fig</xref>.</title>
<p>(ZIP)</p>
</caption>
</supplementary-material>
<supplementary-material id="pbio.3000295.s056" mimetype="application/zip" position="float" xlink:href="info:doi/10.1371/journal.pbio.3000295.s056" xlink:type="simple">
<label>S26 Code</label>
<caption>
<title>Matlab codes that generated <xref ref-type="supplementary-material" rid="pbio.3000295.s030">S30 Fig</xref>.</title>
<p>(ZIP)</p>
</caption>
</supplementary-material>
<supplementary-material id="pbio.3000295.s057" mimetype="application/zip" position="float" xlink:href="info:doi/10.1371/journal.pbio.3000295.s057" xlink:type="simple">
<label>S27 Code</label>
<caption>
<title>Matlab codes that generated histograms in <xref ref-type="supplementary-material" rid="pbio.3000295.s030">S30 Fig</xref>.</title>
<p>(ZIP)</p>
</caption>
</supplementary-material>
<supplementary-material id="pbio.3000295.s058" mimetype="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet" position="float" xlink:href="info:doi/10.1371/journal.pbio.3000295.s058" xlink:type="simple">
<label>S1 Data</label>
<caption>
<title>Data plotted in Figs <xref ref-type="fig" rid="pbio.3000295.g003">3</xref> and <xref ref-type="fig" rid="pbio.3000295.g004">4</xref>.</title>
<p>(XLSX)</p>
</caption>
</supplementary-material>
<supplementary-material id="pbio.3000295.s059" mimetype="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet" position="float" xlink:href="info:doi/10.1371/journal.pbio.3000295.s059" xlink:type="simple">
<label>S2 Data</label>
<caption>
<title>Data plotted in <xref ref-type="fig" rid="pbio.3000295.g005">Fig 5</xref>.</title>
<p>(XLSX)</p>
</caption>
</supplementary-material>
<supplementary-material id="pbio.3000295.s060" mimetype="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet" position="float" xlink:href="info:doi/10.1371/journal.pbio.3000295.s060" xlink:type="simple">
<label>S3 Data</label>
<caption>
<title>Data plotted in <xref ref-type="fig" rid="pbio.3000295.g006">Fig 6</xref>.</title>
<p>(XLSX)</p>
</caption>
</supplementary-material>
<supplementary-material id="pbio.3000295.s061" mimetype="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet" position="float" xlink:href="info:doi/10.1371/journal.pbio.3000295.s061" xlink:type="simple">
<label>S4 Data</label>
<caption>
<title>Data plotted in <xref ref-type="supplementary-material" rid="pbio.3000295.s002">S2 Fig</xref>.</title>
<p>(XLSX)</p>
</caption>
</supplementary-material>
<supplementary-material id="pbio.3000295.s062" mimetype="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet" position="float" xlink:href="info:doi/10.1371/journal.pbio.3000295.s062" xlink:type="simple">
<label>S5 Data</label>
<caption>
<title>Data plotted in <xref ref-type="supplementary-material" rid="pbio.3000295.s008">S8 Fig</xref>.</title>
<p>(XLSX)</p>
</caption>
</supplementary-material>
<supplementary-material id="pbio.3000295.s063" mimetype="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet" position="float" xlink:href="info:doi/10.1371/journal.pbio.3000295.s063" xlink:type="simple">
<label>S6 Data</label>
<caption>
<title>Data plotted in <xref ref-type="supplementary-material" rid="pbio.3000295.s009">S9 Fig</xref>.</title>
<p>(XLSX)</p>
</caption>
</supplementary-material>
<supplementary-material id="pbio.3000295.s064" mimetype="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet" position="float" xlink:href="info:doi/10.1371/journal.pbio.3000295.s064" xlink:type="simple">
<label>S7 Data</label>
<caption>
<title>Data plotted in <xref ref-type="supplementary-material" rid="pbio.3000295.s010">S10 Fig</xref>.</title>
<p>(XLSX)</p>
</caption>
</supplementary-material>
<supplementary-material id="pbio.3000295.s065" mimetype="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet" position="float" xlink:href="info:doi/10.1371/journal.pbio.3000295.s065" xlink:type="simple">
<label>S8 Data</label>
<caption>
<title>Data plotted in <xref ref-type="supplementary-material" rid="pbio.3000295.s012">S12 Fig</xref>.</title>
<p>(XLSX)</p>
</caption>
</supplementary-material>
<supplementary-material id="pbio.3000295.s066" mimetype="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet" position="float" xlink:href="info:doi/10.1371/journal.pbio.3000295.s066" xlink:type="simple">
<label>S9 Data</label>
<caption>
<title>Data plotted in <xref ref-type="supplementary-material" rid="pbio.3000295.s013">S13 Fig</xref>.</title>
<p>(XLSX)</p>
</caption>
</supplementary-material>
<supplementary-material id="pbio.3000295.s067" mimetype="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet" position="float" xlink:href="info:doi/10.1371/journal.pbio.3000295.s067" xlink:type="simple">
<label>S10 Data</label>
<caption>
<title>Data plotted in <xref ref-type="supplementary-material" rid="pbio.3000295.s015">S15 Fig</xref>.</title>
<p>(XLSX)</p>
</caption>
</supplementary-material>
<supplementary-material id="pbio.3000295.s068" mimetype="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet" position="float" xlink:href="info:doi/10.1371/journal.pbio.3000295.s068" xlink:type="simple">
<label>S11 Data</label>
<caption>
<title>Data plotted in <xref ref-type="supplementary-material" rid="pbio.3000295.s016">S16 Fig</xref>.</title>
<p>(XLSX)</p>
</caption>
</supplementary-material>
<supplementary-material id="pbio.3000295.s069" mimetype="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet" position="float" xlink:href="info:doi/10.1371/journal.pbio.3000295.s069" xlink:type="simple">
<label>S12 Data</label>
<caption>
<title>Data plotted in <xref ref-type="supplementary-material" rid="pbio.3000295.s018">S18 Fig</xref>.</title>
<p>(XLSX)</p>
</caption>
</supplementary-material>
<supplementary-material id="pbio.3000295.s070" mimetype="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet" position="float" xlink:href="info:doi/10.1371/journal.pbio.3000295.s070" xlink:type="simple">
<label>S13 Data</label>
<caption>
<title>Data plotted in <xref ref-type="supplementary-material" rid="pbio.3000295.s019">S19A Fig</xref>.</title>
<p>(XLSX)</p>
</caption>
</supplementary-material>
<supplementary-material id="pbio.3000295.s071" mimetype="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet" position="float" xlink:href="info:doi/10.1371/journal.pbio.3000295.s071" xlink:type="simple">
<label>S14 Data</label>
<caption>
<title>Data plotted in <xref ref-type="supplementary-material" rid="pbio.3000295.s019">S19B Fig</xref>.</title>
<p>(XLSX)</p>
</caption>
</supplementary-material>
<supplementary-material id="pbio.3000295.s072" mimetype="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet" position="float" xlink:href="info:doi/10.1371/journal.pbio.3000295.s072" xlink:type="simple">
<label>S15 Data</label>
<caption>
<title>Data plotted in <xref ref-type="supplementary-material" rid="pbio.3000295.s021">S21A Fig</xref>.</title>
<p>(XLSX)</p>
</caption>
</supplementary-material>
<supplementary-material id="pbio.3000295.s073" mimetype="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet" position="float" xlink:href="info:doi/10.1371/journal.pbio.3000295.s073" xlink:type="simple">
<label>S16 Data</label>
<caption>
<title>Data plotted in <xref ref-type="supplementary-material" rid="pbio.3000295.s021">S21B Fig</xref>.</title>
<p>(XLSX)</p>
</caption>
</supplementary-material>
<supplementary-material id="pbio.3000295.s074" mimetype="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet" position="float" xlink:href="info:doi/10.1371/journal.pbio.3000295.s074" xlink:type="simple">
<label>S17 Data</label>
<caption>
<title>Data plotted in <xref ref-type="supplementary-material" rid="pbio.3000295.s022">S22B Fig</xref>.</title>
<p>(XLSX)</p>
</caption>
</supplementary-material>
<supplementary-material id="pbio.3000295.s075" mimetype="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet" position="float" xlink:href="info:doi/10.1371/journal.pbio.3000295.s075" xlink:type="simple">
<label>S18 Data</label>
<caption>
<title>Data plotted in <xref ref-type="supplementary-material" rid="pbio.3000295.s023">S23 Fig</xref>.</title>
<p>(XLSX)</p>
</caption>
</supplementary-material>
<supplementary-material id="pbio.3000295.s076" mimetype="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet" position="float" xlink:href="info:doi/10.1371/journal.pbio.3000295.s076" xlink:type="simple">
<label>S19 Data</label>
<caption>
<title>Data plotted in <xref ref-type="supplementary-material" rid="pbio.3000295.s024">S24 Fig</xref>.</title>
<p>(XLSX)</p>
</caption>
</supplementary-material>
<supplementary-material id="pbio.3000295.s077" mimetype="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet" position="float" xlink:href="info:doi/10.1371/journal.pbio.3000295.s077" xlink:type="simple">
<label>S20 Data</label>
<caption>
<title>Data plotted in <xref ref-type="supplementary-material" rid="pbio.3000295.s025">S25 Fig</xref>.</title>
<p>(XLSX)</p>
</caption>
</supplementary-material>
<supplementary-material id="pbio.3000295.s078" mimetype="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet" position="float" xlink:href="info:doi/10.1371/journal.pbio.3000295.s078" xlink:type="simple">
<label>S21 Data</label>
<caption>
<title>Data plotted in <xref ref-type="supplementary-material" rid="pbio.3000295.s029">S29 Fig</xref>.</title>
<p>(XLSX)</p>
</caption>
</supplementary-material>
<supplementary-material id="pbio.3000295.s079" mimetype="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet" position="float" xlink:href="info:doi/10.1371/journal.pbio.3000295.s079" xlink:type="simple">
<label>S22 Data</label>
<caption>
<title>Data plotted in <xref ref-type="supplementary-material" rid="pbio.3000295.s030">S30 Fig</xref>.</title>
<p>(XLSX)</p>
</caption>
</supplementary-material>
</sec>
</body>
<back>
<ack>
<p>We thank the following for discussions: Lin Chao (UCSD), Maitreya Dunham (UW Seattle), Corina Tarnita (Princeton), Harmit Malik (Fred Hutch), Jeff Gore (MIT), Daniel Weissman (Emory), Tony Long (UC Irvine), and Alvaro Sanchez (Yale). Some of these discussions took place at the 2017 "Eco-Evolutionary Dynamics in Nature and the Lab" workshop at Kavli Institute of Theoretical Physics, UC Santa Barbara, US; at the 2017 "Systems Biology and Molecular Economy of Microbial Communities" workshop at the International Center for Theoretical Physics, Trieste, Italy; and at the 2018 "Physical Principles Governing the Organization of Microbial Communities" workshop at the Aspen Center for Physics, Colorado, US. We thank Chi-chun Chen, Doug Jackson, Kirill Korolev (Boston University), Alex Sigal (K-RITH), and our colleagues at the Hutch (Bill Hazelton, Samuel Hart, David Skelding, Maxine Linial, Delia Pinto-Santini) for feedback on the manuscript. We are particularly indebted to Jim Bull (UT Austin) who generously provided detailed critiques.</p>
</ack>
<glossary>
<title>Abbreviations</title>
<def-list>
<def-item><term>Adult</term>
<def><p>Adult community</p></def>
</def-item>
<def-item><term>B</term>
<def><p>Byproduct</p></def>
</def-item>
<def-item><term>CRISPR</term>
<def><p>Cas, clustered regularly interspaced short palindromic repeats and the CRISPR-associated protein</p></def>
</def-item>
<def-item><term>H</term>
<def><p>Helper</p></def>
</def-item>
<def-item><term>M</term>
<def><p>Manufacturer</p></def>
</def-item>
<def-item><term>Newborn</term>
<def><p>Newborn community</p></def>
</def-item>
<def-item><term>P</term>
<def><p>Product</p></def>
</def-item>
<def-item><term>PDF</term>
<def><p>probability density function</p></def>
</def-item>
<def-item><term>R</term>
<def><p>Resource</p></def>
</def-item>
</def-list>
</glossary>
<ref-list>
<title>References</title>
<ref id="pbio.3000295.ref001"><label>1</label><mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Lawley</surname> <given-names>TD</given-names></name>, <name name-style="western"><surname>Clare</surname> <given-names>S</given-names></name>, <name name-style="western"><surname>Walker</surname> <given-names>AW</given-names></name>, <name name-style="western"><surname>Stares</surname> <given-names>MD</given-names></name>, <name name-style="western"><surname>Connor</surname> <given-names>TR</given-names></name>, <name name-style="western"><surname>Raisen</surname> <given-names>C</given-names></name>, <etal>et al</etal>. <article-title>Targeted restoration of the intestinal microbiota with a simple, defined bacteriotherapy resolves relapsing Clostridium difficile disease in mice</article-title>. <source>PLoS Pathog</source>. <year>2012</year>;<volume>8</volume>(<issue>10</issue>):<fpage>e1002995</fpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.1371/journal.ppat.1002995" xlink:type="simple">10.1371/journal.ppat.1002995</ext-link></comment> <object-id pub-id-type="pmid">23133377</object-id></mixed-citation></ref>
<ref id="pbio.3000295.ref002"><label>2</label><mixed-citation publication-type="other" xlink:type="simple">Widder S, Allen RJ, Pfeiffer T, Curtis TP, Wiuf C, Sloan WT, et al. Challenges in microbial ecology: building predictive understanding of community function and dynamics. The ISME Journal. 2016;.</mixed-citation></ref>
<ref id="pbio.3000295.ref003"><label>3</label><mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Lindemann</surname> <given-names>SR</given-names></name>, <name name-style="western"><surname>Bernstein</surname> <given-names>HC</given-names></name>, <name name-style="western"><surname>Song</surname> <given-names>HS</given-names></name>, <name name-style="western"><surname>Fredrickson</surname> <given-names>JK</given-names></name>, <name name-style="western"><surname>Fields</surname> <given-names>MW</given-names></name>, <name name-style="western"><surname>Shou</surname> <given-names>W</given-names></name>, <etal>et al</etal>. <article-title>Engineering microbial consortia for controllable outputs</article-title>. <source>The ISME Journal</source>. <year>2016</year>;<volume>10</volume>(<issue>9</issue>):<fpage>2077</fpage>–<lpage>2084</lpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.1038/ismej.2016.26" xlink:type="simple">10.1038/ismej.2016.26</ext-link></comment> <object-id pub-id-type="pmid">26967105</object-id></mixed-citation></ref>
<ref id="pbio.3000295.ref004"><label>4</label><mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Zhou</surname> <given-names>J</given-names></name>, <name name-style="western"><surname>Ma</surname> <given-names>Q</given-names></name>, <name name-style="western"><surname>Yi</surname> <given-names>H</given-names></name>, <name name-style="western"><surname>Wang</surname> <given-names>L</given-names></name>, <name name-style="western"><surname>Song</surname> <given-names>H</given-names></name>, <name name-style="western"><surname>Yuan</surname> <given-names>YJ</given-names></name>. <article-title>Metabolome profiling reveals metabolic cooperation between Bacillus megaterium and Ketogulonicigenium vulgare during induced swarm motility</article-title>. <source>Applied and Environmental Microbiology</source>. <year>2011</year>;<volume>77</volume>(<issue>19</issue>):<fpage>7023</fpage>–<lpage>7030</lpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.1128/AEM.05123-11" xlink:type="simple">10.1128/AEM.05123-11</ext-link></comment> <object-id pub-id-type="pmid">21803889</object-id></mixed-citation></ref>
<ref id="pbio.3000295.ref005"><label>5</label><mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Wheatley</surname> <given-names>RE</given-names></name>. <article-title>The consequences of volatile organic compound mediated bacterial and fungal interactions</article-title>. <source>Antonie van Leeuwenhoek</source>. <year>2002</year>;<volume>81</volume>(<issue>1–4</issue>):<fpage>357</fpage>–<lpage>364</lpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.1023/A:1020592802234" xlink:type="simple">10.1023/A:1020592802234</ext-link></comment> <object-id pub-id-type="pmid">12448734</object-id></mixed-citation></ref>
<ref id="pbio.3000295.ref006"><label>6</label><mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Ks</surname> <given-names>Kim</given-names></name>, <name name-style="western"><surname>Lee</surname> <given-names>S</given-names></name> <name name-style="western"><surname>Ryu</surname> <given-names>CM</given-names></name>. <article-title>Interspecific bacterial sensing through airborne signals modulates locomotion and drug resistance</article-title>. <source>Nature Communications</source>. <year>2013</year>;<volume>4</volume>:<fpage>1809</fpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.1038/ncomms2789" xlink:type="simple">10.1038/ncomms2789</ext-link></comment> <object-id pub-id-type="pmid">23651997</object-id></mixed-citation></ref>
<ref id="pbio.3000295.ref007"><label>7</label><mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Traxler</surname> <given-names>MF</given-names></name>, <name name-style="western"><surname>Watrous</surname> <given-names>JD</given-names></name>, <name name-style="western"><surname>Alexandrov</surname> <given-names>T</given-names></name>, <name name-style="western"><surname>Dorrestein</surname> <given-names>PC</given-names></name>, <name name-style="western"><surname>Kolter</surname> <given-names>R</given-names></name>. <article-title>Interspecies interactions stimulate diversification of the Streptomyces coelicolor secreted metabolome</article-title>. <source>mBio</source>. <year>2013</year>;<volume>4</volume>(<issue>4</issue>).</mixed-citation></ref>
<ref id="pbio.3000295.ref008"><label>8</label><mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Gunst</surname> <given-names>RF</given-names></name>, <name name-style="western"><surname>Mason</surname> <given-names>RL</given-names></name>. <article-title>Fractional factorial design</article-title>. <source>Wiley Interdisciplinary Reviews: Computational Statistics</source>. <year>2009</year>;<volume>1</volume>(<issue>2</issue>):<fpage>234</fpage>–<lpage>244</lpage>.</mixed-citation></ref>
<ref id="pbio.3000295.ref009"><label>9</label><mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Chen</surname> <given-names>Y</given-names></name>, <name name-style="western"><surname>Lin</surname> <given-names>CJ</given-names></name>, <name name-style="western"><surname>Jones</surname> <given-names>G</given-names></name>, <name name-style="western"><surname>Fu</surname> <given-names>S</given-names></name>, <name name-style="western"><surname>Zhan</surname> <given-names>H</given-names></name>. <article-title>Enhancing biodegradation of wastewater by microbial consortia with fractional factorial design</article-title>. <source>Journal of hazardous materials</source>. <year>2009</year>;<volume>171</volume>(<issue>1–3</issue>):<fpage>948</fpage>–<lpage>953</lpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.1016/j.jhazmat.2009.06.100" xlink:type="simple">10.1016/j.jhazmat.2009.06.100</ext-link></comment> <object-id pub-id-type="pmid">19632773</object-id></mixed-citation></ref>
<ref id="pbio.3000295.ref010"><label>10</label><mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Eng</surname> <given-names>A</given-names></name>, <name name-style="western"><surname>Borenstein</surname> <given-names>E</given-names></name>. <article-title>Microbial community design: methods, applications, and opportunities</article-title>. <source>Current opinion in biotechnology</source>. <year>2019</year>;<volume>58</volume>:<fpage>117</fpage>–<lpage>128</lpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.1016/j.copbio.2019.03.002" xlink:type="simple">10.1016/j.copbio.2019.03.002</ext-link></comment> <object-id pub-id-type="pmid">30952088</object-id></mixed-citation></ref>
<ref id="pbio.3000295.ref011"><label>11</label><mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Kehe</surname> <given-names>J</given-names></name>, <name name-style="western"><surname>Kulesa</surname> <given-names>A</given-names></name>, <name name-style="western"><surname>Ortiz</surname> <given-names>A</given-names></name>, <name name-style="western"><surname>Ackerman</surname> <given-names>CM</given-names></name>, <name name-style="western"><surname>Thakku</surname> <given-names>SG</given-names></name>, <name name-style="western"><surname>Sellers</surname> <given-names>D</given-names></name>, <etal>et al</etal>. <article-title>Massively parallel screening of synthetic microbial communities</article-title>. <source>Proc Natl Acad Sci U S A</source>. <year>2019</year>:<fpage>201900102</fpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.1073/pnas.1900102116" xlink:type="simple">10.1073/pnas.1900102116</ext-link></comment> <object-id pub-id-type="pmid">31186361</object-id></mixed-citation></ref>
<ref id="pbio.3000295.ref012"><label>12</label><mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Swenson</surname> <given-names>W</given-names></name>, <name name-style="western"><surname>Wilson</surname> <given-names>DS</given-names></name>, <name name-style="western"><surname>Elias</surname> <given-names>R</given-names></name>. <article-title>Artificial ecosystem selection</article-title>. <source>Proceedings of the National Academy of Sciences</source>. <year>2000</year>;<volume>97</volume>:<fpage>9110</fpage>–<lpage>9114</lpage>.</mixed-citation></ref>
<ref id="pbio.3000295.ref013"><label>13</label><mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Swenson</surname> <given-names>W</given-names></name>, <name name-style="western"><surname>Arendt</surname> <given-names>J</given-names></name>, <name name-style="western"><surname>Wilson</surname> <given-names>DS</given-names></name>. <article-title>Artificial selection of microbial ecosystems for 3-chloroaniline biodegradation</article-title>. <source>Environ Microbiol</source>. <year>2000</year>;<volume>2</volume>(<issue>5</issue>):<fpage>564</fpage>–<lpage>71</lpage>. <object-id pub-id-type="pmid">11233164</object-id></mixed-citation></ref>
<ref id="pbio.3000295.ref014"><label>14</label><mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Williams</surname> <given-names>HTP</given-names></name>, <name name-style="western"><surname>Lenton</surname> <given-names>TM</given-names></name>. <article-title>Artificial selection of simulated microbial ecosystems</article-title>. <source>Proceedings of the National Academy of Sciences</source>. <year>2007</year>;<volume>104</volume>(<issue>21</issue>):<fpage>8918</fpage>–<lpage>8923</lpage>.</mixed-citation></ref>
<ref id="pbio.3000295.ref015"><label>15</label><mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Panke-Buisse</surname> <given-names>K</given-names></name>, <name name-style="western"><surname>Poole</surname> <given-names>AC</given-names></name>, <name name-style="western"><surname>Goodrich</surname> <given-names>JK</given-names></name>, <name name-style="western"><surname>Ley</surname> <given-names>RE</given-names></name>, <name name-style="western"><surname>Kao-Kniffin</surname> <given-names>J</given-names></name>. <article-title>Selection on soil microbiomes reveals reproducible impacts on plant function</article-title>. <source>The ISME journal</source>. <year>2015</year>;<volume>9</volume>(<issue>4</issue>):<fpage>980</fpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.1038/ismej.2014.196" xlink:type="simple">10.1038/ismej.2014.196</ext-link></comment> <object-id pub-id-type="pmid">25350154</object-id></mixed-citation></ref>
<ref id="pbio.3000295.ref016"><label>16</label><mixed-citation publication-type="other" xlink:type="simple">Mueller UG, Juenger T, Kardish M, Carlson A, Burns K, Smith C, et al. Artificial Microbiome-Selection to Engineer Microbiomes That Confer Salt-Tolerance to Plants. bioRxiv. 2016; p. 081521.</mixed-citation></ref>
<ref id="pbio.3000295.ref017"><label>17</label><mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Wilson</surname> <given-names>DS</given-names></name>. <article-title>Complex interactions in metacommunities, with implications for biodiversity and higher levels of selection</article-title>. <source>Ecology</source>. <year>1992</year>;<volume>73</volume>(<issue>6</issue>):<fpage>1984</fpage>–<lpage>2000</lpage>.</mixed-citation></ref>
<ref id="pbio.3000295.ref018"><label>18</label><mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Goodnight</surname> <given-names>CJ</given-names></name>. <article-title>The influence of environmental variation on group and individual selection in a cress</article-title>. <source>Evolution</source>. <year>1985</year>;<volume>39</volume>(<issue>3</issue>):<fpage>545</fpage>–<lpage>558</lpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.1111/j.1558-5646.1985.tb00394.x" xlink:type="simple">10.1111/j.1558-5646.1985.tb00394.x</ext-link></comment> <object-id pub-id-type="pmid">28561972</object-id></mixed-citation></ref>
<ref id="pbio.3000295.ref019"><label>19</label><mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Day</surname> <given-names>MD</given-names></name>, <name name-style="western"><surname>Beck</surname> <given-names>D</given-names></name>, <name name-style="western"><surname>Foster</surname> <given-names>JA</given-names></name>. <article-title>Microbial communities as experimental units</article-title>. <source>Bioscience</source>. <year>2011</year>;<volume>61</volume>(<issue>5</issue>):<fpage>398</fpage>–<lpage>406</lpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.1525/bio.2011.61.5.9" xlink:type="simple">10.1525/bio.2011.61.5.9</ext-link></comment> <object-id pub-id-type="pmid">21731083</object-id></mixed-citation></ref>
<ref id="pbio.3000295.ref020"><label>20</label><mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Mueller</surname> <given-names>UG</given-names></name>, <name name-style="western"><surname>Sachs</surname> <given-names>JL</given-names></name>. <article-title>Engineering Microbiomes to Improve Plant and Animal Health</article-title>. <source>Trends in Microbiology</source>. <year>2015</year>;<volume>23</volume>(<issue>10</issue>):<fpage>606</fpage>–<lpage>617</lpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.1016/j.tim.2015.07.009" xlink:type="simple">10.1016/j.tim.2015.07.009</ext-link></comment> <object-id pub-id-type="pmid">26422463</object-id></mixed-citation></ref>
<ref id="pbio.3000295.ref021"><label>21</label><mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Crameri</surname> <given-names>A</given-names></name>, <name name-style="western"><surname>Whitehorn</surname> <given-names>EA</given-names></name>, <name name-style="western"><surname>Tate</surname> <given-names>E</given-names></name>, <name name-style="western"><surname>Stemmer</surname> <given-names>WP</given-names></name>. <article-title>Improved green fluorescent protein by molecular evolution using DNA shuffling</article-title>. <source>Nature Biotechnology</source>. <year>1996</year>;<volume>14</volume>(<issue>3</issue>):<fpage>315</fpage>–<lpage>319</lpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.1038/nbt0396-315" xlink:type="simple">10.1038/nbt0396-315</ext-link></comment> <object-id pub-id-type="pmid">9630892</object-id></mixed-citation></ref>
<ref id="pbio.3000295.ref022"><label>22</label><mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Reetz</surname> <given-names>MT</given-names></name>, <name name-style="western"><surname>Carballeira</surname> <given-names>JD</given-names></name>. <article-title>Iterative saturation mutagenesis (ISM) for rapid directed evolution of functional enzymes</article-title>. <source>Nature Protocols</source>. <year>2007</year>;<volume>2</volume>(<issue>4</issue>):<fpage>891</fpage>–<lpage>903</lpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.1038/nprot.2007.72" xlink:type="simple">10.1038/nprot.2007.72</ext-link></comment> <object-id pub-id-type="pmid">17446890</object-id></mixed-citation></ref>
<ref id="pbio.3000295.ref023"><label>23</label><mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Boder</surname> <given-names>ET</given-names></name>, <name name-style="western"><surname>Midelfort</surname> <given-names>KS</given-names></name>, <name name-style="western"><surname>Wittrup</surname> <given-names>KD</given-names></name>. <article-title>Directed evolution of antibody fragments with monovalent femtomolar antigen-binding affinity</article-title>. <source>Proceedings of the National Academy of Sciences</source>. <year>2000</year>;<volume>97</volume>(<issue>20</issue>):<fpage>10701</fpage>–<lpage>10705</lpage>.</mixed-citation></ref>
<ref id="pbio.3000295.ref024"><label>24</label><mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Strauss</surname> <given-names>SK</given-names></name>, <name name-style="western"><surname>Schirman</surname> <given-names>D</given-names></name>, <name name-style="western"><surname>Jona</surname> <given-names>G</given-names></name>, <name name-style="western"><surname>Brooks</surname> <given-names>AN</given-names></name>, <name name-style="western"><surname>Kunjapur</surname> <given-names>AM</given-names></name>, <name name-style="western"><surname>Ba</surname> <given-names>ANN</given-names></name>, <etal>et al</etal>. <article-title>Evolthon: A community endeavor to evolve lab evolution</article-title>. <source>PLoS Biol</source>. <year>2019</year>;<volume>17</volume>(<issue>3</issue>):<fpage>e3000182</fpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.1371/journal.pbio.3000182" xlink:type="simple">10.1371/journal.pbio.3000182</ext-link></comment> <object-id pub-id-type="pmid">30925180</object-id></mixed-citation></ref>
<ref id="pbio.3000295.ref025"><label>25</label><mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Damore</surname> <given-names>JA</given-names></name>, <name name-style="western"><surname>Gore</surname> <given-names>J</given-names></name>. <article-title>Understanding microbial cooperation</article-title>. <source>Journal of theoretical biology</source>. <year>2012</year>;<volume>299</volume>:<fpage>31</fpage>–<lpage>41</lpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.1016/j.jtbi.2011.03.008" xlink:type="simple">10.1016/j.jtbi.2011.03.008</ext-link></comment> <object-id pub-id-type="pmid">21419783</object-id></mixed-citation></ref>
<ref id="pbio.3000295.ref026"><label>26</label><mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Momeni</surname> <given-names>B</given-names></name>, <name name-style="western"><surname>Xie</surname> <given-names>L</given-names></name>, <name name-style="western"><surname>Shou</surname> <given-names>W</given-names></name>. <article-title>Lotka-Volterra pairwise modeling fails to capture diverse pairwise microbial interactions</article-title>. <source>Elife</source>. <year>2017</year>;<volume>6</volume>.</mixed-citation></ref>
<ref id="pbio.3000295.ref027"><label>27</label><mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Minty</surname> <given-names>JJ</given-names></name>, <name name-style="western"><surname>Singer</surname> <given-names>ME</given-names></name>, <name name-style="western"><surname>Scholz</surname> <given-names>SA</given-names></name>, <name name-style="western"><surname>Bae</surname> <given-names>CH</given-names></name>, <name name-style="western"><surname>Ahn</surname> <given-names>JH</given-names></name>, <name name-style="western"><surname>Foster</surname> <given-names>CE</given-names></name>, <etal>et al</etal>. <article-title>Design and characterization of synthetic fungal-bacterial consortia for direct production of isobutanol from cellulosic biomass</article-title>. <source>Proceedings of the National Academy of Sciences</source>. <year>2013</year>;<volume>110</volume>(<issue>36</issue>):<fpage>14592</fpage>–<lpage>14597</lpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.1073/pnas.1218447110" xlink:type="simple">10.1073/pnas.1218447110</ext-link></comment> <object-id pub-id-type="pmid">23959872</object-id></mixed-citation></ref>
<ref id="pbio.3000295.ref028"><label>28</label><mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Zhou</surname> <given-names>K</given-names></name>, <name name-style="western"><surname>Qiao</surname> <given-names>K</given-names></name>, <name name-style="western"><surname>Edgar</surname> <given-names>S</given-names></name>, <name name-style="western"><surname>Stephanopoulos</surname> <given-names>G</given-names></name>. <article-title>Distributing a metabolic pathway among a microbial consortium enhances production of natural products</article-title>. <source>Nature biotechnology</source>. <year>2015</year>;.</mixed-citation></ref>
<ref id="pbio.3000295.ref029"><label>29</label><mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Shin</surname> <given-names>HD</given-names></name>, <name name-style="western"><surname>McClendon</surname> <given-names>S</given-names></name>, <name name-style="western"><surname>Vo</surname> <given-names>T</given-names></name>, <name name-style="western"><surname>Chen</surname> <given-names>RR</given-names></name>. <article-title>Escherichia coli Binary Culture Engineered for Direct Fermentation of Hemicellulose to a Biofuel</article-title>. <source>Applied and Environmental Microbiology</source>. <year>2010</year>;<volume>76</volume>(<issue>24</issue>):<fpage>8150</fpage>–<lpage>8159</lpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.1128/AEM.00908-10" xlink:type="simple">10.1128/AEM.00908-10</ext-link></comment> <object-id pub-id-type="pmid">20935118</object-id></mixed-citation></ref>
<ref id="pbio.3000295.ref030"><label>30</label><mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Mankad</surname> <given-names>T</given-names></name>, <name name-style="western"><surname>Bungay</surname> <given-names>H</given-names></name>. <article-title>Model for microbial growth with more than one limiting nutrient</article-title>. <source>Journal of biotechnology</source>. <year>1988</year>;<volume>7</volume>(<issue>2</issue>):<fpage>161</fpage>–<lpage>166</lpage>.</mixed-citation></ref>
<ref id="pbio.3000295.ref031"><label>31</label><mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Taheri-Araghi</surname> <given-names>S</given-names></name>, <name name-style="western"><surname>Bradde</surname> <given-names>S</given-names></name>, <name name-style="western"><surname>Sauls</surname> <given-names>JT</given-names></name>, <name name-style="western"><surname>Hill</surname> <given-names>NS</given-names></name>, <name name-style="western"><surname>Levin</surname> <given-names>PA</given-names></name>, <name name-style="western"><surname>Paulsson</surname> <given-names>J</given-names></name>, <etal>et al</etal>. <article-title>Cell-Size Control and Homeostasis in Bacteria</article-title>. <source>Current Biology</source>. <year>2015</year>;<volume>25</volume>(<issue>3</issue>):<fpage>385</fpage>–<lpage>391</lpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.1016/j.cub.2014.12.009" xlink:type="simple">10.1016/j.cub.2014.12.009</ext-link></comment> <object-id pub-id-type="pmid">25544609</object-id></mixed-citation></ref>
<ref id="pbio.3000295.ref032"><label>32</label><mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Lenski</surname> <given-names>RE</given-names></name>, <name name-style="western"><surname>Travisano</surname> <given-names>M</given-names></name>. <article-title>Dynamics of adaptation and diversification: a 10,000-generation experiment with bacterial populations</article-title>. <source>Proceedings of the National Academy of Sciences</source>. <year>1994</year>;<volume>91</volume>(<issue>15</issue>):<fpage>6808</fpage>–<lpage>6814</lpage>.</mixed-citation></ref>
<ref id="pbio.3000295.ref033"><label>33</label><mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Waite</surname> <given-names>AJ</given-names></name>, <name name-style="western"><surname>Shou</surname> <given-names>W</given-names></name>. <article-title>Adaptation to a new environment allows cooperators to purge cheaters stochastically</article-title>. <source>Proceedings of the National Academy of Sciences</source>. <year>2012</year>;<volume>109</volume>(<issue>47</issue>):<fpage>19079</fpage>–<lpage>19086</lpage>.</mixed-citation></ref>
<ref id="pbio.3000295.ref034"><label>34</label><mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Rainey</surname> <given-names>PB</given-names></name>, <name name-style="western"><surname>Rainey</surname> <given-names>K</given-names></name>. <article-title>Evolution of cooperation and conflict in experimental bacterial populations</article-title>. <source>Nature</source>. <year>2003</year>;<volume>425</volume>(<issue>6953</issue>):<fpage>72</fpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.1038/nature01906" xlink:type="simple">10.1038/nature01906</ext-link></comment> <object-id pub-id-type="pmid">12955142</object-id></mixed-citation></ref>
<ref id="pbio.3000295.ref035"><label>35</label><mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Ibarra</surname> <given-names>RU</given-names></name>, <name name-style="western"><surname>Edwards</surname> <given-names>JS</given-names></name>, <name name-style="western"><surname>Palsson</surname> <given-names>BO</given-names></name>. <article-title>Escherichia coli K-12 undergoes adaptive evolution to achieve in silico predicted optimal growth</article-title>. <source>Nature</source>. <year>2002</year>;<volume>420</volume>(<issue>6912</issue>):<fpage>186</fpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.1038/nature01149" xlink:type="simple">10.1038/nature01149</ext-link></comment> <object-id pub-id-type="pmid">12432395</object-id></mixed-citation></ref>
<ref id="pbio.3000295.ref036"><label>36</label><mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Sanjuán</surname> <given-names>R</given-names></name>, <name name-style="western"><surname>Moya</surname> <given-names>A</given-names></name>, <name name-style="western"><surname>Elena</surname> <given-names>SF</given-names></name>. <article-title>The distribution of fitness effects caused by single-nucleotide substitutions in an RNA virus</article-title>. <source>Proceedings of the National Academy of Sciences of the United States of America</source>. <year>2004</year>;<volume>101</volume>(<issue>22</issue>):<fpage>8396</fpage>–<lpage>8401</lpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.1073/pnas.0400146101" xlink:type="simple">10.1073/pnas.0400146101</ext-link></comment> <object-id pub-id-type="pmid">15159545</object-id></mixed-citation></ref>
<ref id="pbio.3000295.ref037"><label>37</label><mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Sarkisyan</surname> <given-names>KS</given-names></name>, <name name-style="western"><surname>Bolotin</surname> <given-names>DA</given-names></name>, <name name-style="western"><surname>Meer</surname> <given-names>MV</given-names></name>, <name name-style="western"><surname>Usmanova</surname> <given-names>DR</given-names></name>, <name name-style="western"><surname>Mishin</surname> <given-names>AS</given-names></name>, <name name-style="western"><surname>Sharonov</surname> <given-names>GV</given-names></name>, <etal>et al</etal>. <article-title>Local fitness landscape of the green fluorescent protein</article-title>. <source>Nature</source>. <year>2016</year>;<volume>533</volume>(<issue>7603</issue>):<fpage>397</fpage>–<lpage>401</lpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.1038/nature17995" xlink:type="simple">10.1038/nature17995</ext-link></comment> <object-id pub-id-type="pmid">27193686</object-id></mixed-citation></ref>
<ref id="pbio.3000295.ref038"><label>38</label><mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Wloch</surname> <given-names>DM</given-names></name>, <name name-style="western"><surname>Szafraniec</surname> <given-names>K</given-names></name>, <name name-style="western"><surname>Borts</surname> <given-names>RH</given-names></name>, <name name-style="western"><surname>Korona</surname> <given-names>R</given-names></name>. <article-title>Direct estimate of the mutation rate and the distribution of fitness effects in the yeast Saccharomyces cerevisiae</article-title>. <source>Genetics</source>. <year>2001</year>;<volume>159</volume>(<issue>2</issue>):<fpage>441</fpage>–<lpage>452</lpage>. <object-id pub-id-type="pmid">11606524</object-id></mixed-citation></ref>
<ref id="pbio.3000295.ref039"><label>39</label><mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Payen</surname> <given-names>C</given-names></name>, <name name-style="western"><surname>Sunshine</surname> <given-names>AB</given-names></name>, <name name-style="western"><surname>Ong</surname> <given-names>GT</given-names></name>, <name name-style="western"><surname>Pogachar</surname> <given-names>JL</given-names></name>, <name name-style="western"><surname>Zhao</surname> <given-names>W</given-names></name>, <name name-style="western"><surname>Dunham</surname> <given-names>MJ</given-names></name>. <article-title>High-throughput identification of adaptive mutations in experimentally evolved yeast populations</article-title>. <source>PLoS Genet</source>. <year>2016</year>;<volume>12</volume>(<issue>10</issue>):<fpage>e1006339</fpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.1371/journal.pgen.1006339" xlink:type="simple">10.1371/journal.pgen.1006339</ext-link></comment> <object-id pub-id-type="pmid">27727276</object-id></mixed-citation></ref>
<ref id="pbio.3000295.ref040"><label>40</label><mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Shou</surname> <given-names>W</given-names></name>, <name name-style="western"><surname>Ram</surname> <given-names>S</given-names></name>, <name name-style="western"><surname>Vilar</surname> <given-names>JMG</given-names></name>. <article-title>Synthetic cooperation in engineered yeast populations</article-title>. <source>Proceedings of the National Academy of Sciences of the United States of America</source>. <year>2007</year>;<volume>104</volume>(<issue>6</issue>):<fpage>1877</fpage>–<lpage>1882</lpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.1073/pnas.0610575104" xlink:type="simple">10.1073/pnas.0610575104</ext-link></comment> <object-id pub-id-type="pmid">17267602</object-id></mixed-citation></ref>
<ref id="pbio.3000295.ref041"><label>41</label><mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Momeni</surname> <given-names>B</given-names></name>, <name name-style="western"><surname>Brileya</surname> <given-names>KA</given-names></name>, <name name-style="western"><surname>Fields</surname> <given-names>MW</given-names></name>, <name name-style="western"><surname>Shou</surname> <given-names>W</given-names></name>. <article-title>Strong inter-population cooperation leads to partner intermixing in microbial communities</article-title>. <source>eLife</source>. <year>2013</year>;<volume>2</volume>: <fpage>00230</fpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.7554/eLife.00230" xlink:type="simple">10.7554/eLife.00230</ext-link></comment> <object-id pub-id-type="pmid">23359860</object-id></mixed-citation></ref>
<ref id="pbio.3000295.ref042"><label>42</label><mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Hamilton</surname> <given-names>WD</given-names></name>. <article-title>The genetical evolution of social behaviour I and II</article-title>. <source>Journal of Theoretical Biology</source>. <year>1964</year>;<volume>7</volume>(<issue>1</issue>):<fpage>1</fpage>–<lpage>52</lpage>. <object-id pub-id-type="pmid">5875341</object-id></mixed-citation></ref>
<ref id="pbio.3000295.ref043"><label>43</label><mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Maynard Smith</surname> <given-names>J</given-names></name>. <article-title>Group Selection and Kin Selection</article-title>. <source>Nature</source>. <year>1964</year>;<volume>201</volume>(<issue>4924</issue>):<fpage>1145</fpage>–<lpage>1147</lpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.1038/2011145a0" xlink:type="simple">10.1038/2011145a0</ext-link></comment></mixed-citation></ref>
<ref id="pbio.3000295.ref044"><label>44</label><mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Price</surname> <given-names>GR</given-names></name>. <article-title>Selection and Covariance</article-title>. <source>Nature</source>. <year>1970</year>;<volume>227</volume>(<issue>5257</issue>):<fpage>520</fpage>–<lpage>521</lpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.1038/227520a0" xlink:type="simple">10.1038/227520a0</ext-link></comment> <object-id pub-id-type="pmid">5428476</object-id></mixed-citation></ref>
<ref id="pbio.3000295.ref045"><label>45</label><mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Wade</surname> <given-names>MJ</given-names></name>. <article-title>A Critical Review of the Models of Group Selection</article-title>. <source>The Quarterly Review of Biology</source>. <year>1978</year>;<volume>53</volume>(<issue>2</issue>):<fpage>101</fpage>–<lpage>114</lpage>.</mixed-citation></ref>
<ref id="pbio.3000295.ref046"><label>46</label><mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Muir</surname> <given-names>WM</given-names></name>. <article-title>Group selection for adaptation to multiple-hen cages: selection program and direct responses</article-title>. <source>Poultry Science</source>. <year>1996</year>;<volume>75</volume>(<issue>4</issue>):<fpage>447</fpage>–<lpage>458</lpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.3382/ps.0750447" xlink:type="simple">10.3382/ps.0750447</ext-link></comment> <object-id pub-id-type="pmid">8786932</object-id></mixed-citation></ref>
<ref id="pbio.3000295.ref047"><label>47</label><mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Queller</surname> <given-names>DC</given-names></name>, <name name-style="western"><surname>Strassmann</surname> <given-names>JE</given-names></name>. <article-title>Kin Selection and Social Insects</article-title>. <source>BioScience</source>. <year>1998</year>;<volume>48</volume>(<issue>3</issue>):<fpage>165</fpage>–<lpage>175</lpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.2307/1313262" xlink:type="simple">10.2307/1313262</ext-link></comment></mixed-citation></ref>
<ref id="pbio.3000295.ref048"><label>48</label><mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Wade</surname> <given-names>MJ</given-names></name>. <article-title>An experimental study of kin selection</article-title>. <source>Evolution</source>. <year>1980</year>; p. <fpage>844</fpage>–<lpage>855</lpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.1111/j.1558-5646.1980.tb04023.x" xlink:type="simple">10.1111/j.1558-5646.1980.tb04023.x</ext-link></comment> <object-id pub-id-type="pmid">28581146</object-id></mixed-citation></ref>
<ref id="pbio.3000295.ref049"><label>49</label><mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Traulsen</surname> <given-names>A</given-names></name>, <name name-style="western"><surname>Nowak</surname> <given-names>MA</given-names></name>. <article-title>Evolution of cooperation by multilevel selection</article-title>. <source>Proceedings of the National Academy of Sciences</source>. <year>2006</year>;<volume>103</volume>(<issue>29</issue>):<fpage>10952</fpage>–<lpage>10955</lpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.1073/pnas.0602530103" xlink:type="simple">10.1073/pnas.0602530103</ext-link></comment> <object-id pub-id-type="pmid">16829575</object-id></mixed-citation></ref>
<ref id="pbio.3000295.ref050"><label>50</label><mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Lehmann</surname> <given-names>L</given-names></name>, <name name-style="western"><surname>Keller</surname> <given-names>L</given-names></name>, <name name-style="western"><surname>West</surname> <given-names>S</given-names></name>, <name name-style="western"><surname>Roze</surname> <given-names>D</given-names></name>. <article-title>Group selection and kin selection: Two concepts but one process</article-title>. <source>Proc Natl Acad Sci USA</source>. <year>2007</year>;<volume>104</volume>(<issue>16</issue>):<fpage>6736</fpage>–<lpage>6739</lpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.1073/pnas.0700662104" xlink:type="simple">10.1073/pnas.0700662104</ext-link></comment> <object-id pub-id-type="pmid">17416674</object-id></mixed-citation></ref>
<ref id="pbio.3000295.ref051"><label>51</label><mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Kerr</surname> <given-names>B</given-names></name>. <article-title>Theoretical and experimental approaches to the evolution of altruism and the levels of selection</article-title>. <source>Experimental Evolution: Concepts, Methods, and Applications of Selection Experiments</source>. <year>2009</year>; p. <fpage>585</fpage>–<lpage>630</lpage>.</mixed-citation></ref>
<ref id="pbio.3000295.ref052"><label>52</label><mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Bachmann</surname> <given-names>H</given-names></name>, <name name-style="western"><surname>Bruggeman</surname> <given-names>FJ</given-names></name>, <name name-style="western"><surname>Molenaar</surname> <given-names>D</given-names></name>, <name name-style="western"><surname>Branco dos Santos</surname> <given-names>F</given-names></name>, <name name-style="western"><surname>Teusink</surname> <given-names>B</given-names></name>. <article-title>Public goods and metabolic strategies</article-title>. <source>Current Opinion in Microbiology</source>. <year>2016</year>;<volume>31</volume>:<fpage>109</fpage>–<lpage>115</lpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.1016/j.mib.2016.03.007" xlink:type="simple">10.1016/j.mib.2016.03.007</ext-link></comment> <object-id pub-id-type="pmid">27054480</object-id></mixed-citation></ref>
<ref id="pbio.3000295.ref053"><label>53</label><mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Hammerschmidt</surname> <given-names>K</given-names></name>, <name name-style="western"><surname>Rose</surname> <given-names>CJ</given-names></name>, <name name-style="western"><surname>Kerr</surname> <given-names>B</given-names></name>, <name name-style="western"><surname>Rainey</surname> <given-names>PB</given-names></name>. <article-title>Life cycles, fitness decoupling and the evolution of multicellularity</article-title>. <source>Nature</source>. <year>2014</year>;<volume>515</volume>(<issue>7525</issue>):<fpage>75</fpage>–<lpage>79</lpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.1038/nature13884" xlink:type="simple">10.1038/nature13884</ext-link></comment> <object-id pub-id-type="pmid">25373677</object-id></mixed-citation></ref>
<ref id="pbio.3000295.ref054"><label>54</label><mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Nowak</surname> <given-names>MA</given-names></name>. <article-title>Five Rules for the Evolution of Cooperation</article-title>. <source>Science</source>. <year>2006</year>;<volume>314</volume>(<issue>5805</issue>):<fpage>1560</fpage>–<lpage>1563</lpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.1126/science.1133755" xlink:type="simple">10.1126/science.1133755</ext-link></comment> <object-id pub-id-type="pmid">17158317</object-id></mixed-citation></ref>
<ref id="pbio.3000295.ref055"><label>55</label><mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Goodnight</surname> <given-names>CJ</given-names></name>, <name name-style="western"><surname>Stevens</surname> <given-names>L</given-names></name>. <article-title>Experimental studies of group selection: what do they tell us about group selection in nature?</article-title> <source>The American Naturalist</source>. <year>1997</year>;<volume>150</volume> <issue>Suppl 1</issue>:<fpage>S59</fpage>–<lpage>79</lpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.1086/286050" xlink:type="simple">10.1086/286050</ext-link></comment> <object-id pub-id-type="pmid">18811313</object-id></mixed-citation></ref>
<ref id="pbio.3000295.ref056"><label>56</label><mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Price</surname> <given-names>GR</given-names></name>. <article-title>Extension of covariance selection mathematics</article-title>. <source>Annals of human genetics</source>. <year>1972</year>;<volume>35</volume>(<issue>4</issue>):<fpage>485</fpage>–<lpage>490</lpage>. <object-id pub-id-type="pmid">5073694</object-id></mixed-citation></ref>
<ref id="pbio.3000295.ref057"><label>57</label><mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Sachs</surname> <given-names>JL</given-names></name>, <name name-style="western"><surname>Mueller</surname> <given-names>UG</given-names></name>, <name name-style="western"><surname>Wilcox</surname> <given-names>TP</given-names></name>, <name name-style="western"><surname>Bull</surname> <given-names>JJ</given-names></name>. <article-title>The evolution of cooperation</article-title>. <source>Q Rev Biol</source>. <year>2004</year>;<volume>79</volume>(<issue>2</issue>):<fpage>135</fpage>–<lpage>160</lpage>. <object-id pub-id-type="pmid">15232949</object-id></mixed-citation></ref>
<ref id="pbio.3000295.ref058"><label>58</label><mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Chao</surname> <given-names>L</given-names></name>, <name name-style="western"><surname>Levin</surname> <given-names>BR</given-names></name>. <article-title>Structured habitats and the evolution of anticompetitor toxins in bacteria</article-title>. <source>Proc Natl Acad Sci U S A</source>. <year>1981</year>;<volume>78</volume>(<issue>10</issue>):<fpage>6324</fpage>–<lpage>6328</lpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.1073/pnas.78.10.6324" xlink:type="simple">10.1073/pnas.78.10.6324</ext-link></comment> <object-id pub-id-type="pmid">7031647</object-id></mixed-citation></ref>
<ref id="pbio.3000295.ref059"><label>59</label><mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Harcombe</surname> <given-names>W</given-names></name>. <article-title>Novel cooperation experimentally evolved between species</article-title>. <source>Evolution</source>. <year>2010</year>;<volume>64</volume>(<issue>7</issue>):<fpage>2166</fpage>–<lpage>2172</lpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.1111/j.1558-5646.2010.00959.x" xlink:type="simple">10.1111/j.1558-5646.2010.00959.x</ext-link></comment> <object-id pub-id-type="pmid">20100214</object-id></mixed-citation></ref>
<ref id="pbio.3000295.ref060"><label>60</label><mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Momeni</surname> <given-names>B</given-names></name>, <name name-style="western"><surname>Waite</surname> <given-names>AJ</given-names></name>, <name name-style="western"><surname>Shou</surname> <given-names>W</given-names></name>. <article-title>Spatial self-organization favors heterotypic cooperation over cheating</article-title>. <source>Elife</source>. <year>2013</year>;<volume>2</volume>:<fpage>e00960</fpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.7554/eLife.00960" xlink:type="simple">10.7554/eLife.00960</ext-link></comment> <object-id pub-id-type="pmid">24220506</object-id></mixed-citation></ref>
<ref id="pbio.3000295.ref061"><label>61</label><mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Hart</surname> <given-names>SFM</given-names></name>, <name name-style="western"><surname>Skelding</surname> <given-names>D</given-names></name>, <name name-style="western"><surname>Waite</surname> <given-names>AJ</given-names></name>, <name name-style="western"><surname>Burton</surname> <given-names>J</given-names></name>, <name name-style="western"><surname>Xie</surname> <given-names>L</given-names></name>, <name name-style="western"><surname>Shou</surname> <given-names>W</given-names></name>. <article-title>High-throughput quantification of microbial birth and death dynamics using fluorescence microscopy</article-title>. <source>Quantitative Biology</source> <year>2019</year>; <volume>7</volume>(<issue>1</issue>): <fpage>69</fpage>–<lpage>81</lpage>.</mixed-citation></ref>
<ref id="pbio.3000295.ref062"><label>62</label><mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Hillesland</surname> <given-names>KL</given-names></name>, <name name-style="western"><surname>Stahl</surname> <given-names>DA</given-names></name>. <article-title>Rapid evolution of stability and productivity at the origin of a microbial mutualism</article-title>. <source>Proceedings of the National Academy of Sciences</source>. <year>2010</year>;<volume>107</volume>(<issue>5</issue>):<fpage>2124</fpage>–<lpage>2129</lpage>.</mixed-citation></ref>
<ref id="pbio.3000295.ref063"><label>63</label><mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Kato</surname> <given-names>S</given-names></name>, <name name-style="western"><surname>Haruta</surname> <given-names>S</given-names></name>, <name name-style="western"><surname>Cui</surname> <given-names>ZJ</given-names></name>, <name name-style="western"><surname>Ishii</surname> <given-names>M</given-names></name>, <name name-style="western"><surname>Igarashi</surname> <given-names>Y</given-names></name>. <article-title>Effective cellulose degradation by a mixed-culture system composed of a cellulolytic Clostridium and aerobic non-cellulolytic bacteria</article-title>. <source>FEMS microbiology ecology</source>. <year>2004</year>;<volume>51</volume>(<issue>1</issue>):<fpage>133</fpage>–<lpage>142</lpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.1016/j.femsec.2004.07.015" xlink:type="simple">10.1016/j.femsec.2004.07.015</ext-link></comment> <object-id pub-id-type="pmid">16329862</object-id></mixed-citation></ref>
<ref id="pbio.3000295.ref064"><label>64</label><mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Hart</surname> <given-names>SFM</given-names></name>, <name name-style="western"><surname>Mi</surname> <given-names>H</given-names></name>, <name name-style="western"><surname>Green</surname> <given-names>R</given-names></name>, <name name-style="western"><surname>Xie</surname> <given-names>L</given-names></name>, <name name-style="western"><surname>Pineda</surname> <given-names>JMB</given-names></name>, <name name-style="western"><surname>Momeni</surname> <given-names>B</given-names></name>, <etal>et al</etal>. <article-title>Uncovering and resolving challenges of quantitative modeling in a simplified community of interacting cells</article-title>. <source>PLoS Biol</source>. <year>2019</year>;<volume>17</volume>(<issue>2</issue>):<fpage>e3000135</fpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.1371/journal.pbio.3000135" xlink:type="simple">10.1371/journal.pbio.3000135</ext-link></comment> <object-id pub-id-type="pmid">30794534</object-id></mixed-citation></ref>
<ref id="pbio.3000295.ref065"><label>65</label><mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Hartwell</surname> <given-names>LH</given-names></name>, <name name-style="western"><surname>Weinert</surname> <given-names>TA</given-names></name>. <article-title>Checkpoints: controls that ensure the order of cell cycle events</article-title>. <source>Science</source>. <year>1989</year>;<volume>246</volume>(<issue>4930</issue>):<fpage>629</fpage>–<lpage>634</lpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.1126/science.2683079" xlink:type="simple">10.1126/science.2683079</ext-link></comment> <object-id pub-id-type="pmid">2683079</object-id></mixed-citation></ref>
<ref id="pbio.3000295.ref066"><label>66</label><mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Moazed</surname> <given-names>D</given-names></name>. <article-title>Small RNAs in transcriptional gene silencing and genome defence</article-title>. <source>Nature</source>. <year>2009</year>;<volume>457</volume>(<issue>7228</issue>):<fpage>413</fpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.1038/nature07756" xlink:type="simple">10.1038/nature07756</ext-link></comment> <object-id pub-id-type="pmid">19158787</object-id></mixed-citation></ref>
<ref id="pbio.3000295.ref067"><label>67</label><mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Westra</surname> <given-names>ER</given-names></name>, <name name-style="western"><surname>Swarts</surname> <given-names>DC</given-names></name>, <name name-style="western"><surname>Staals</surname> <given-names>RH</given-names></name>, <name name-style="western"><surname>Jore</surname> <given-names>MM</given-names></name>, <name name-style="western"><surname>Brouns</surname> <given-names>SJ</given-names></name>, <name name-style="western"><surname>van der Oost</surname> <given-names>J</given-names></name>. <article-title>The CRISPRs, they are a-changin’: how prokaryotes generate adaptive immunity</article-title>. <source>Annual review of genetics</source>. <year>2012</year>;<volume>46</volume>:<fpage>311</fpage>–<lpage>339</lpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.1146/annurev-genet-110711-155447" xlink:type="simple">10.1146/annurev-genet-110711-155447</ext-link></comment> <object-id pub-id-type="pmid">23145983</object-id></mixed-citation></ref>
<ref id="pbio.3000295.ref068"><label>68</label><mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Wright</surname> <given-names>S</given-names></name>. <article-title>Tempo and Mode in Evolution: A Critical Review</article-title>. <source>Ecology</source>. <year>1945</year>;<volume>26</volume>(<issue>4</issue>):<fpage>415</fpage>–<lpage>419</lpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.2307/1931666" xlink:type="simple">10.2307/1931666</ext-link></comment></mixed-citation></ref>
<ref id="pbio.3000295.ref069"><label>69</label><mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Doebeli</surname> <given-names>M</given-names></name>, <name name-style="western"><surname>Ispolatov</surname> <given-names>Y</given-names></name>, <name name-style="western"><surname>Simon</surname> <given-names>B</given-names></name>. <article-title>Towards a mechanistic foundation of evolutionary theory</article-title>. <source>eLife</source>. <year>2017</year>;<volume>6</volume>:<fpage>e23804</fpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.7554/eLife.23804" xlink:type="simple">10.7554/eLife.23804</ext-link></comment> <object-id pub-id-type="pmid">28198700</object-id></mixed-citation></ref>
<ref id="pbio.3000295.ref070"><label>70</label><mixed-citation publication-type="book" xlink:type="simple"><name name-style="western"><surname>Wolk</surname> <given-names>CP</given-names></name>, <name name-style="western"><surname>Ernst</surname> <given-names>A</given-names></name>, <name name-style="western"><surname>Elhai</surname> <given-names>J</given-names></name>. <chapter-title>Heterocyst metabolism and development</chapter-title>. In: <source>The molecular biology of cyanobacteria</source>. <publisher-name>Springer</publisher-name>; <year>1994</year>. p. <fpage>769</fpage>–<lpage>823</lpage>.</mixed-citation></ref>
<ref id="pbio.3000295.ref071"><label>71</label><mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Bachmann</surname> <given-names>H</given-names></name>, <name name-style="western"><surname>Fischlechner</surname> <given-names>M</given-names></name>, <name name-style="western"><surname>Rabbers</surname> <given-names>I</given-names></name>, <name name-style="western"><surname>Barfa</surname> <given-names>N</given-names></name>, <name name-style="western"><surname>Branco dos Santos</surname> <given-names>F</given-names></name>, <name name-style="western"><surname>Molenaar</surname> <given-names>D</given-names></name>, <etal>et al</etal>. <article-title>Availability of public goods shapes the evolution of competing metabolic strategies</article-title>. <source>Proceedings of the National Academy of Sciences of the United States of America</source>. <year>2013</year>;<volume>110</volume>(<issue>35</issue>):<fpage>14302</fpage>–<lpage>14307</lpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.1073/pnas.1308523110" xlink:type="simple">10.1073/pnas.1308523110</ext-link></comment> <object-id pub-id-type="pmid">23940318</object-id></mixed-citation></ref>
<ref id="pbio.3000295.ref072"><label>72</label><mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Chuang</surname> <given-names>JS</given-names></name>, <name name-style="western"><surname>Rivoire</surname> <given-names>O</given-names></name>, <name name-style="western"><surname>Leibler</surname> <given-names>S</given-names></name>. <article-title>Simpson’s paradox in a synthetic microbial system</article-title>. <source>Science (New York, NY)</source>. <year>2009</year>;<volume>323</volume>(<issue>5911</issue>):<fpage>272</fpage>–<lpage>275</lpage>.</mixed-citation></ref>
<ref id="pbio.3000295.ref073"><label>73</label><mixed-citation publication-type="other" xlink:type="simple">Xie L, Shou W. Community function landscape and steady state species composition shape the eco-evolutionary dynamics of arti1cial community selection. BioRxiv 264697 [Preprint]. 2018 [cited 2019 Jun 20]. <ext-link ext-link-type="uri" xlink:href="https://www.biorxiv.org/content/10.1101/264697v1" xlink:type="simple">https://www.biorxiv.org/content/10.1101/264697v1</ext-link></mixed-citation></ref>
<ref id="pbio.3000295.ref074"><label>74</label><mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Spudich</surname> <given-names>JL</given-names></name>, <name name-style="western"><surname>Koshland</surname> <given-names>DE</given-names> <suffix>Jr</suffix></name>. <article-title>Non-genetic individuality: chance in the single cell</article-title>. <source>Nature</source>. <year>1976</year>;<volume>262</volume>(<issue>5568</issue>):<fpage>467</fpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.1038/262467a0" xlink:type="simple">10.1038/262467a0</ext-link></comment> <object-id pub-id-type="pmid">958399</object-id></mixed-citation></ref>
<ref id="pbio.3000295.ref075"><label>75</label><mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Chisholm</surname> <given-names>ST</given-names></name>, <name name-style="western"><surname>Coaker</surname> <given-names>G</given-names></name>, <name name-style="western"><surname>Day</surname> <given-names>B</given-names></name>, <name name-style="western"><surname>Staskawicz</surname> <given-names>BJ</given-names></name>. <article-title>Host-microbe interactions: shaping the evolution of the plant immune response</article-title>. <source>Cell</source>. <year>2006</year>;<volume>124</volume>(<issue>4</issue>):<fpage>803</fpage>–<lpage>814</lpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.1016/j.cell.2006.02.008" xlink:type="simple">10.1016/j.cell.2006.02.008</ext-link></comment> <object-id pub-id-type="pmid">16497589</object-id></mixed-citation></ref>
<ref id="pbio.3000295.ref076"><label>76</label><mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Ley</surname> <given-names>RE</given-names></name>, <name name-style="western"><surname>Hamady</surname> <given-names>M</given-names></name>, <name name-style="western"><surname>Lozupone</surname> <given-names>C</given-names></name>, <name name-style="western"><surname>Turnbaugh</surname> <given-names>PJ</given-names></name>, <name name-style="western"><surname>Ramey</surname> <given-names>RR</given-names></name>, <name name-style="western"><surname>Bircher</surname> <given-names>JS</given-names></name>, <etal>et al</etal>. <article-title>Evolution of mammals and their gut microbes</article-title>. <source>Science</source>. <year>2008</year>;<volume>320</volume>(<issue>5883</issue>):<fpage>1647</fpage>–<lpage>1651</lpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.1126/science.1155725" xlink:type="simple">10.1126/science.1155725</ext-link></comment> <object-id pub-id-type="pmid">18497261</object-id></mixed-citation></ref>
<ref id="pbio.3000295.ref077"><label>77</label><mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Foster</surname> <given-names>KR</given-names></name>, <name name-style="western"><surname>Schluter</surname> <given-names>J</given-names></name>, <name name-style="western"><surname>Coyte</surname> <given-names>KZ</given-names></name>, <name name-style="western"><surname>Rakoff-Nahoum</surname> <given-names>S</given-names></name>. <article-title>The evolution of the host microbiome as an ecosystem on a leash</article-title>. <source>Nature</source>. <year>2017</year>;<volume>548</volume>(<issue>7665</issue>):<fpage>43</fpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.1038/nature23292" xlink:type="simple">10.1038/nature23292</ext-link></comment> <object-id pub-id-type="pmid">28770836</object-id></mixed-citation></ref>
<ref id="pbio.3000295.ref078"><label>78</label><mixed-citation publication-type="other" xlink:type="simple">Otto SP, Gerstein AC. Why have sex? The population genetics of sex and recombination; 2006.</mixed-citation></ref>
<ref id="pbio.3000295.ref079"><label>79</label><mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Gonze</surname> <given-names>D</given-names></name>, <name name-style="western"><surname>Lahti</surname> <given-names>L</given-names></name>, <name name-style="western"><surname>Raes</surname> <given-names>J</given-names></name>, <name name-style="western"><surname>Faust</surname> <given-names>K</given-names></name>. <article-title>Multi-stability and the origin of microbial community types</article-title>. <source>The ISME journal</source>. <year>2017</year>;<volume>11</volume>(<issue>10</issue>):<fpage>2159</fpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.1038/ismej.2017.60" xlink:type="simple">10.1038/ismej.2017.60</ext-link></comment> <object-id pub-id-type="pmid">28475180</object-id></mixed-citation></ref>
<ref id="pbio.3000295.ref080"><label>80</label><mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>De Vuyst</surname> <given-names>L</given-names></name>, <name name-style="western"><surname>Callewaert</surname> <given-names>R</given-names></name>, <name name-style="western"><surname>Crabbé</surname> <given-names>K</given-names></name>. <article-title>Primary metabolite kinetics of bacteriocin biosynthesis by Lactobacillus amylovorus and evidence for stimulation of bacteriocin production under unfavourable growth conditions</article-title>. <source>Microbiology</source>. <year>1996</year>;<volume>142</volume>(<issue>4</issue>):<fpage>817</fpage>–<lpage>827</lpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.1099/00221287-142-4-817" xlink:type="simple">10.1099/00221287-142-4-817</ext-link></comment></mixed-citation></ref>
<ref id="pbio.3000295.ref081"><label>81</label><mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Müller</surname> <given-names>MJ</given-names></name>, <name name-style="western"><surname>Neugeboren</surname> <given-names>BI</given-names></name>, <name name-style="western"><surname>Nelson</surname> <given-names>DR</given-names></name>, <name name-style="western"><surname>Murray</surname> <given-names>AW</given-names></name>. <article-title>Genetic drift opposes mutualism during spatial population expansion</article-title>. <source>Proceedings of the National Academy of Sciences</source>. <year>2014</year>;<volume>111</volume>(<issue>3</issue>):<fpage>1037</fpage>–<lpage>1042</lpage>.</mixed-citation></ref>
<ref id="pbio.3000295.ref082"><label>82</label><mixed-citation publication-type="book" xlink:type="simple"><name name-style="western"><surname>Egli</surname> <given-names>T</given-names></name>. <chapter-title>Nutrition, microbial</chapter-title>. <source>Encyclopedia of Microbiolog</source>, (<name name-style="western"><surname>Moselio</surname> <given-names>Schaechter</given-names></name>, Editor) <publisher-loc>Oxford</publisher-loc>: <publisher-name>Elsevier Academic Press</publisher-name>; <year>2009</year>; p. <fpage>308</fpage>–<lpage>324</lpage>.</mixed-citation></ref>
<ref id="pbio.3000295.ref083"><label>83</label><mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Hart</surname> <given-names>SFM</given-names></name>, <name name-style="western"><surname>Pineda</surname> <given-names>JMB</given-names></name>, <name name-style="western"><surname>Chen</surname> <given-names>CC</given-names></name>, <name name-style="western"><surname>Green</surname> <given-names>R</given-names></name>, <name name-style="western"><surname>Shou</surname> <given-names>W</given-names></name>. <article-title>Disentangling strictly self-serving mutations from win-win mutations in a mutualistic microbial community</article-title>. <source>eLife</source>. <year>2019</year>;<volume>8</volume>:<fpage>e44812</fpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.7554/eLife.44812" xlink:type="simple">10.7554/eLife.44812</ext-link></comment> <object-id pub-id-type="pmid">31162049</object-id></mixed-citation></ref>
<ref id="pbio.3000295.ref084"><label>84</label><mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Zhuang</surname> <given-names>K</given-names></name>, <name name-style="western"><surname>Vemuri</surname> <given-names>GN</given-names></name>, <name name-style="western"><surname>Mahadevan</surname> <given-names>R</given-names></name>. <article-title>Economics of membrane occupancy and respiro-fermentation</article-title>. <source>Molecular systems biology</source>. <year>2011</year>;<volume>7</volume>(<issue>1</issue>):<fpage>500</fpage>.</mixed-citation></ref>
<ref id="pbio.3000295.ref085"><label>85</label><mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Peris</surname> <given-names>JB</given-names></name>, <name name-style="western"><surname>Davis</surname> <given-names>P</given-names></name>, <name name-style="western"><surname>Cuevas</surname> <given-names>JM</given-names></name>, <name name-style="western"><surname>Nebot</surname> <given-names>MR</given-names></name>, <name name-style="western"><surname>Sanjuán</surname> <given-names>R</given-names></name>. <article-title>Distribution of fitness effects caused by single-nucleotide substitutions in bacteriophage f1</article-title>. <source>Genetics</source>. <year>2010</year>;<volume>185</volume>(<issue>2</issue>):<fpage>603</fpage>–<lpage>609</lpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.1534/genetics.110.115162" xlink:type="simple">10.1534/genetics.110.115162</ext-link></comment> <object-id pub-id-type="pmid">20382832</object-id></mixed-citation></ref>
<ref id="pbio.3000295.ref086"><label>86</label><mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Serohijos</surname> <given-names>AW</given-names></name>, <name name-style="western"><surname>Shakhnovich</surname> <given-names>EI</given-names></name>. <article-title>Merging molecular mechanism and evolution: theory and computation at the interface of biophysics and evolutionary population genetics</article-title>. <source>Current opinion in structural biology</source>. <year>2014</year>;<volume>26</volume>:<fpage>84</fpage>–<lpage>91</lpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.1016/j.sbi.2014.05.005" xlink:type="simple">10.1016/j.sbi.2014.05.005</ext-link></comment> <object-id pub-id-type="pmid">24952216</object-id></mixed-citation></ref>
<ref id="pbio.3000295.ref087"><label>87</label><mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Eyre-Walker</surname> <given-names>A</given-names></name>, <name name-style="western"><surname>Keightley</surname> <given-names>PD</given-names></name>. <article-title>The distribution of fitness effects of new mutations</article-title>. <source>Nature reviews Genetics</source>. <year>2007</year>;<volume>8</volume>(<issue>8</issue>):<fpage>610</fpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.1038/nrg2146" xlink:type="simple">10.1038/nrg2146</ext-link></comment> <object-id pub-id-type="pmid">17637733</object-id></mixed-citation></ref>
<ref id="pbio.3000295.ref088"><label>88</label><mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Stiffler</surname> <given-names>MA</given-names></name>, <name name-style="western"><surname>Hekstra</surname> <given-names>DR</given-names></name>, <name name-style="western"><surname>Ranganathan</surname> <given-names>R</given-names></name>. <article-title>Evolvability as a function of purifying selection in TEM-1 <italic>β</italic> -lactamase</article-title>. <source>Cell</source>. <year>2015</year>;<volume>160</volume>(<issue>5</issue>):<fpage>882</fpage>–<lpage>892</lpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.1016/j.cell.2015.01.035" xlink:type="simple">10.1016/j.cell.2015.01.035</ext-link></comment> <object-id pub-id-type="pmid">25723163</object-id></mixed-citation></ref>
<ref id="pbio.3000295.ref089"><label>89</label><mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Drake</surname> <given-names>JW</given-names></name>. <article-title>A constant rate of spontaneous mutation in DNA-based microbes</article-title>. <source>Proceedings of the National Academy of Sciences</source>. <year>1991</year>;<volume>88</volume>(<issue>16</issue>):<fpage>7160</fpage>–<lpage>7164</lpage>.</mixed-citation></ref>
<ref id="pbio.3000295.ref090"><label>90</label><mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Lang</surname> <given-names>GI</given-names></name>, <name name-style="western"><surname>Murray</surname> <given-names>AW</given-names></name>. <article-title>Estimating the Per-Base-Pair Mutation Rate in the Yeast Saccharomyces cerevisiae</article-title>. <source>Genetics</source>. <year>2008</year>;<volume>178</volume>(<issue>1</issue>):<fpage>67</fpage>–<lpage>82</lpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.1534/genetics.107.071506" xlink:type="simple">10.1534/genetics.107.071506</ext-link></comment> <object-id pub-id-type="pmid">18202359</object-id></mixed-citation></ref>
<ref id="pbio.3000295.ref091"><label>91</label><mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Levy</surname> <given-names>SF</given-names></name>, <name name-style="western"><surname>Blundell</surname> <given-names>JR</given-names></name>, <name name-style="western"><surname>Venkataram</surname> <given-names>S</given-names></name>, <name name-style="western"><surname>Petrov</surname> <given-names>DA</given-names></name>, <name name-style="western"><surname>Fisher</surname> <given-names>DS</given-names></name>, <name name-style="western"><surname>Sherlock</surname> <given-names>G</given-names></name>. <article-title>Quantitative evolutionary dynamics using high-resolution lineage tracking</article-title>. <source>Nature</source>. <year>2015</year>;<volume>519</volume>(<issue>7542</issue>):<fpage>181</fpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.1038/nature14279" xlink:type="simple">10.1038/nature14279</ext-link></comment> <object-id pub-id-type="pmid">25731169</object-id></mixed-citation></ref>
<ref id="pbio.3000295.ref092"><label>92</label><mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Zeyl</surname> <given-names>C</given-names></name>, <name name-style="western"><surname>DeVisser</surname> <given-names>JAG</given-names></name>. <article-title>Estimates of the rate and distribution of fitness effects of spontaneous mutation in Saccharomyces cerevisiae</article-title>. <source>Genetics</source>. <year>2001</year>;<volume>157</volume>(<issue>1</issue>):<fpage>53</fpage>–<lpage>61</lpage>. <object-id pub-id-type="pmid">11139491</object-id></mixed-citation></ref>
<ref id="pbio.3000295.ref093"><label>93</label><mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Barrick</surname> <given-names>JE</given-names></name>, <name name-style="western"><surname>Yu</surname> <given-names>DS</given-names></name>, <name name-style="western"><surname>Yoon</surname> <given-names>SH</given-names></name>, <name name-style="western"><surname>Jeong</surname> <given-names>H</given-names></name>, <name name-style="western"><surname>Oh</surname> <given-names>TK</given-names></name>, <name name-style="western"><surname>Schneider</surname> <given-names>D</given-names></name>, <etal>et al</etal>. <article-title>Genome evolution and adaptation in a long-term experiment with Escherichia coli</article-title>. <source>Nature</source>. <year>2009</year>;<volume>461</volume>(<issue>7268</issue>):<fpage>1243</fpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.1038/nature08480" xlink:type="simple">10.1038/nature08480</ext-link></comment> <object-id pub-id-type="pmid">19838166</object-id></mixed-citation></ref>
<ref id="pbio.3000295.ref094"><label>94</label><mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Swings</surname> <given-names>T</given-names></name>, <name name-style="western"><surname>Van den Bergh</surname> <given-names>B</given-names></name>, <name name-style="western"><surname>Wuyts</surname> <given-names>S</given-names></name>, <name name-style="western"><surname>Oeyen</surname> <given-names>E</given-names></name>, <name name-style="western"><surname>Voordeckers</surname> <given-names>K</given-names></name>, <name name-style="western"><surname>Verstrepen</surname> <given-names>KJ</given-names></name>, <etal>et al</etal>. <article-title>Adaptive tuning of mutation rates allows fast response to lethal stress in Escherichia coli</article-title>. <source>eLife</source>. <year>2017</year>;<volume>6</volume>(<issue>22939</issue>).</mixed-citation></ref>
<ref id="pbio.3000295.ref095"><label>95</label><mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Perfeito</surname> <given-names>L</given-names></name>, <name name-style="western"><surname>Fernandes</surname> <given-names>L</given-names></name>, <name name-style="western"><surname>Mota</surname> <given-names>C</given-names></name>, <name name-style="western"><surname>Gordo</surname> <given-names>I</given-names></name>. <article-title>Adaptive mutations in bacteria: high rate and small effects</article-title>. <source>Science</source>. <year>2007</year>;<volume>317</volume>(<issue>5839</issue>):<fpage>813</fpage>–<lpage>815</lpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.1126/science.1142284" xlink:type="simple">10.1126/science.1142284</ext-link></comment> <object-id pub-id-type="pmid">17690297</object-id></mixed-citation></ref>
<ref id="pbio.3000295.ref096"><label>96</label><mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Gillespie</surname> <given-names>JH</given-names></name>. <article-title>Molecular evolution over the mutational landscape</article-title>. <source>Evolution</source>. <year>1984</year>;<volume>38</volume>(<issue>5</issue>):<fpage>1116</fpage>–<lpage>1129</lpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.1111/j.1558-5646.1984.tb00380.x" xlink:type="simple">10.1111/j.1558-5646.1984.tb00380.x</ext-link></comment> <object-id pub-id-type="pmid">28555784</object-id></mixed-citation></ref>
<ref id="pbio.3000295.ref097"><label>97</label><mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Orr</surname> <given-names>HA</given-names></name>. <article-title>The distribution of fitness effects among beneficial mutations</article-title>. <source>Genetics</source>. <year>2003</year>;<volume>163</volume>(<issue>4</issue>):<fpage>1519</fpage>–<lpage>1526</lpage>. <object-id pub-id-type="pmid">12702694</object-id></mixed-citation></ref>
<ref id="pbio.3000295.ref098"><label>98</label><mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Imhof</surname> <given-names>M</given-names></name>, <name name-style="western"><surname>Schlötterer</surname> <given-names>C</given-names></name>. <article-title>Fitness effects of advantageous mutations in evolving Escherichia coli populations</article-title>. <source>Proceedings of the National Academy of Sciences</source>. <year>2001</year>;<volume>98</volume>(<issue>3</issue>):<fpage>1113</fpage>–<lpage>1117</lpage>.</mixed-citation></ref>
<ref id="pbio.3000295.ref099"><label>99</label><mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Kassen</surname> <given-names>R</given-names></name>, <name name-style="western"><surname>Bataillon</surname> <given-names>T</given-names></name>. <article-title>Distribution of fitness effects among beneficial mutations before selection in experimental populations of bacteria</article-title>. <source>Nature genetics</source>. <year>2006</year>;<volume>38</volume>(<issue>4</issue>):<fpage>484</fpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.1038/ng1751" xlink:type="simple">10.1038/ng1751</ext-link></comment> <object-id pub-id-type="pmid">16550173</object-id></mixed-citation></ref>
<ref id="pbio.3000295.ref100"><label>100</label><mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Rokyta</surname> <given-names>DR</given-names></name>, <name name-style="western"><surname>Joyce</surname> <given-names>P</given-names></name>, <name name-style="western"><surname>Caudle</surname> <given-names>SB</given-names></name>, <name name-style="western"><surname>Wichman</surname> <given-names>HA</given-names></name>. <article-title>An empirical test of the mutational landscape model of adaptation using a single-stranded DNA virus</article-title>. <source>Nature genetics</source>. <year>2005</year>;<volume>37</volume>(<issue>4</issue>):<fpage>441</fpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.1038/ng1535" xlink:type="simple">10.1038/ng1535</ext-link></comment> <object-id pub-id-type="pmid">15778707</object-id></mixed-citation></ref>
<ref id="pbio.3000295.ref101"><label>101</label><mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Rokyta</surname> <given-names>DR</given-names></name>, <name name-style="western"><surname>Beisel</surname> <given-names>CJ</given-names></name>, <name name-style="western"><surname>Joyce</surname> <given-names>P</given-names></name>, <name name-style="western"><surname>Ferris</surname> <given-names>MT</given-names></name>, <name name-style="western"><surname>Burch</surname> <given-names>CL</given-names></name>, <name name-style="western"><surname>Wichman</surname> <given-names>HA</given-names></name>. <article-title>Beneficial fitness effects are not exponential for two viruses</article-title>. <source>Journal of molecular evolution</source>. <year>2008</year>;<volume>67</volume>(<issue>4</issue>):<fpage>368</fpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.1007/s00239-008-9153-x" xlink:type="simple">10.1007/s00239-008-9153-x</ext-link></comment> <object-id pub-id-type="pmid">18779988</object-id></mixed-citation></ref>
<ref id="pbio.3000295.ref102"><label>102</label><mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Wiser</surname> <given-names>MJ</given-names></name>, <name name-style="western"><surname>Ribeck</surname> <given-names>N</given-names></name>, <name name-style="western"><surname>Lenski</surname> <given-names>RE</given-names></name>. <article-title>Long-term dynamics of adaptation in asexual populations</article-title>. <source>Science</source>. <year>2013</year>;<volume>342</volume>(<issue>6164</issue>):<fpage>1364</fpage>–<lpage>1367</lpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.1126/science.1243357" xlink:type="simple">10.1126/science.1243357</ext-link></comment> <object-id pub-id-type="pmid">24231808</object-id></mixed-citation></ref>
<ref id="pbio.3000295.ref103"><label>103</label><mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Jasnos</surname> <given-names>L</given-names></name>, <name name-style="western"><surname>Korona</surname> <given-names>R</given-names></name>. <article-title>Epistatic buffering of fitness loss in yeast double deletion strains</article-title>. <source>Nature genetics</source>. <year>2007</year>;<volume>39</volume>(<issue>4</issue>):<fpage>550</fpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.1038/ng1986" xlink:type="simple">10.1038/ng1986</ext-link></comment> <object-id pub-id-type="pmid">17322879</object-id></mixed-citation></ref>
<ref id="pbio.3000295.ref104"><label>104</label><mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Sanjuán</surname> <given-names>R</given-names></name>, <name name-style="western"><surname>Moya</surname> <given-names>A</given-names></name>, <name name-style="western"><surname>Elena</surname> <given-names>SF</given-names></name>. <article-title>The contribution of epistasis to the architecture of fitness in an RNA virus</article-title>. <source>Proceedings of the National Academy of Sciences of the United States of America</source>. <year>2004</year>;<volume>101</volume>(<issue>43</issue>):<fpage>15376</fpage>–<lpage>15379</lpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.1073/pnas.0404125101" xlink:type="simple">10.1073/pnas.0404125101</ext-link></comment> <object-id pub-id-type="pmid">15492220</object-id></mixed-citation></ref>
<ref id="pbio.3000295.ref105"><label>105</label><mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Elena</surname> <given-names>SF</given-names></name>, <name name-style="western"><surname>Lenski</surname> <given-names>RE</given-names></name>. <article-title>Test of synergistic interactions among deleterious mutations in bacteria</article-title>. <source>Nature</source>. <year>1997</year>;<volume>390</volume>(<issue>6658</issue>):<fpage>395</fpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.1038/37108" xlink:type="simple">10.1038/37108</ext-link></comment> <object-id pub-id-type="pmid">9389477</object-id></mixed-citation></ref>
<ref id="pbio.3000295.ref106"><label>106</label><mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Araya</surname> <given-names>CL</given-names></name>, <name name-style="western"><surname>Fowler</surname> <given-names>DM</given-names></name>, <name name-style="western"><surname>Chen</surname> <given-names>W</given-names></name>, <name name-style="western"><surname>Muniez</surname> <given-names>I</given-names></name>, <name name-style="western"><surname>Kelly</surname> <given-names>JW</given-names></name>, <name name-style="western"><surname>Fields</surname> <given-names>S</given-names></name>. <article-title>A fundamental protein property, thermodynamic stability, revealed solely from large-scale measurements of protein function</article-title>. <source>Proceedings of the National Academy of Sciences</source>. <year>2012</year>;<volume>109</volume>(<issue>42</issue>):<fpage>16858</fpage>–<lpage>16863</lpage>.</mixed-citation></ref>
<ref id="pbio.3000295.ref107"><label>107</label><mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Khan</surname> <given-names>AI</given-names></name>, <name name-style="western"><surname>Dinh</surname> <given-names>DM</given-names></name>, <name name-style="western"><surname>Schneider</surname> <given-names>D</given-names></name>, <name name-style="western"><surname>Lenski</surname> <given-names>RE</given-names></name>, <name name-style="western"><surname>Cooper</surname> <given-names>TF</given-names></name>. <article-title>Negative epistasis between beneficial mutations in an evolving bacterial population</article-title>. <source>Science</source>. <year>2011</year>;<volume>332</volume>(<issue>6034</issue>):<fpage>1193</fpage>–<lpage>1196</lpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.1126/science.1203801" xlink:type="simple">10.1126/science.1203801</ext-link></comment> <object-id pub-id-type="pmid">21636772</object-id></mixed-citation></ref>
<ref id="pbio.3000295.ref108"><label>108</label><mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Chou</surname> <given-names>HH</given-names></name>, <name name-style="western"><surname>Chiu</surname> <given-names>HC</given-names></name>, <name name-style="western"><surname>Delaney</surname> <given-names>NF</given-names></name>, <name name-style="western"><surname>Segrè</surname> <given-names>D</given-names></name>, <name name-style="western"><surname>Marx</surname> <given-names>CJ</given-names></name>. <article-title>Diminishing returns epistasis among beneficial mutations decelerates adaptation</article-title>. <source>Science</source>. <year>2011</year>;<volume>332</volume>(<issue>6034</issue>):<fpage>1190</fpage>–<lpage>1192</lpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.1126/science.1203799" xlink:type="simple">10.1126/science.1203799</ext-link></comment> <object-id pub-id-type="pmid">21636771</object-id></mixed-citation></ref>
<ref id="pbio.3000295.ref109"><label>109</label><mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Kryazhimskiy</surname> <given-names>S</given-names></name>, <name name-style="western"><surname>Rice</surname> <given-names>DP</given-names></name>, <name name-style="western"><surname>Jerison</surname> <given-names>ER</given-names></name>, <name name-style="western"><surname>Desai</surname> <given-names>MM</given-names></name>. <article-title>Global epistasis makes adaptation predictable despite sequence-level stochasticity</article-title>. <source>Science</source>. <year>2014</year>;<volume>344</volume>(<issue>6191</issue>):<fpage>1519</fpage>–<lpage>1522</lpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.1126/science.1250939" xlink:type="simple">10.1126/science.1250939</ext-link></comment> <object-id pub-id-type="pmid">24970088</object-id></mixed-citation></ref>
<ref id="pbio.3000295.ref110"><label>110</label><mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Luli</surname> <given-names>GW</given-names></name>, <name name-style="western"><surname>Strohl</surname> <given-names>WR</given-names></name>. <article-title>Comparison of growth, acetate production, and acetate inhibition of Escherichia coli strains in batch and fed-batch fermentations</article-title>. <source>Applied and Environmental Microbiology</source>. <year>1990</year>;<volume>56</volume>(<issue>4</issue>):<fpage>1004</fpage>–<lpage>1011</lpage>. <object-id pub-id-type="pmid">2187400</object-id></mixed-citation></ref>
<ref id="pbio.3000295.ref111"><label>111</label><mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Shou</surname> <given-names>W</given-names></name>. <article-title>Acknowledging selection at sub-organismal levels resolves controversy on pro-cooperation mechanisms</article-title>. <source>eLife</source>. <year>2015</year>; p. <fpage>e10106</fpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.7554/eLife.10106" xlink:type="simple">10.7554/eLife.10106</ext-link></comment> <object-id pub-id-type="pmid">26714105</object-id></mixed-citation></ref>
<ref id="pbio.3000295.ref112"><label>112</label><mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Lewontin</surname> <given-names>RC</given-names></name>. <article-title>The Units of Selection</article-title>. <source>Annual Review of Ecology and Systematics</source>. <year>1970</year>;<volume>1</volume>(<issue>1</issue>):<fpage>1</fpage>–<lpage>18</lpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.1146/annurev.es.01.110170.000245" xlink:type="simple">10.1146/annurev.es.01.110170.000245</ext-link></comment></mixed-citation></ref>
<ref id="pbio.3000295.ref113"><label>113</label><mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Hill</surname> <given-names>WG</given-names></name>, <name name-style="western"><surname>Caballero</surname> <given-names>A</given-names></name>. <article-title>Artificial selection experiments</article-title>. <source>Annual Review of Ecology and Systematics</source>. <year>1992</year>;<volume>23</volume>(<issue>1</issue>):<fpage>287</fpage>–<lpage>310</lpage>.</mixed-citation></ref>
<ref id="pbio.3000295.ref114"><label>114</label><mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Robertson</surname> <given-names>A</given-names></name>. <article-title>Artificial selection in plants and animals</article-title>. <source>Proc R Soc Lond B</source>. <year>1966</year>;<volume>164</volume>(<issue>995</issue>):<fpage>341</fpage>–<lpage>349</lpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.1098/rspb.1966.0036" xlink:type="simple">10.1098/rspb.1966.0036</ext-link></comment> <object-id pub-id-type="pmid">4379523</object-id></mixed-citation></ref>
</ref-list>
</back>
</article>